(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function UC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $w={exports:{}},Bc={},Hw={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),BC=Symbol.for("react.portal"),zC=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),HC=Symbol.for("react.profiler"),WC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),GC=Symbol.for("react.forward_ref"),KC=Symbol.for("react.suspense"),QC=Symbol.for("react.memo"),YC=Symbol.for("react.lazy"),Xy=Symbol.iterator;function XC(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var Ww={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qw=Object.assign,Gw={};function no(t,e,n){this.props=t,this.context=e,this.refs=Gw,this.updater=n||Ww}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kw(){}Kw.prototype=no.prototype;function Fp(t,e,n){this.props=t,this.context=e,this.refs=Gw,this.updater=n||Ww}var Up=Fp.prototype=new Kw;Up.constructor=Fp;qw(Up,no.prototype);Up.isPureReactComponent=!0;var Jy=Array.isArray,Qw=Object.prototype.hasOwnProperty,Bp={current:null},Yw={key:!0,ref:!0,__self:!0,__source:!0};function Xw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qw.call(e,r)&&!Yw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ja,type:t,key:i,ref:o,props:s,_owner:Bp.current}}function JC(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function ZC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zy=/\/+/g;function rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZC(""+t.key):e.toString(36)}function mu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ja:case BC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rd(o,0):r,Jy(s)?(n="",t!=null&&(n=t.replace(Zy,"$&/")+"/"),mu(s,e,n,"",function(h){return h})):s!=null&&(zp(s)&&(s=JC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+rd(i,a);o+=mu(i,e,n,u,s)}else if(u=XC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+rd(i,a++),o+=mu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(t,e,n){if(t==null)return t;var r=[],s=0;return mu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function eb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},gu={transition:null},tb={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:gu,ReactCurrentOwner:Bp};function Jw(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Bl,forEach:function(t,e,n){Bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bl(t,function(){e++}),e},toArray:function(t){return Bl(t,function(e){return e})||[]},only:function(t){if(!zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=no;se.Fragment=zC;se.Profiler=HC;se.PureComponent=Fp;se.StrictMode=$C;se.Suspense=KC;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tb;se.act=Jw;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Bp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Qw.call(e,u)&&!Yw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Ja,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:qC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WC,_context:t},t.Consumer=t};se.createElement=Xw;se.createFactory=function(t){var e=Xw.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:GC,render:t}};se.isValidElement=zp;se.lazy=function(t){return{$$typeof:YC,_payload:{_status:-1,_result:t},_init:eb}};se.memo=function(t,e){return{$$typeof:QC,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=gu.transition;gu.transition={};try{t()}finally{gu.transition=e}};se.unstable_act=Jw;se.useCallback=function(t,e){return St.current.useCallback(t,e)};se.useContext=function(t){return St.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return St.current.useDeferredValue(t)};se.useEffect=function(t,e){return St.current.useEffect(t,e)};se.useId=function(){return St.current.useId()};se.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return St.current.useMemo(t,e)};se.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};se.useRef=function(t){return St.current.useRef(t)};se.useState=function(t){return St.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return St.current.useTransition()};se.version="18.3.1";Hw.exports=se;var j=Hw.exports;const ne=UC(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=j,rb=Symbol.for("react.element"),sb=Symbol.for("react.fragment"),ib=Object.prototype.hasOwnProperty,ob=nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ab={key:!0,ref:!0,__self:!0,__source:!0};function Zw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ib.call(e,r)&&!ab.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rb,type:t,key:i,ref:o,props:s,_owner:ob.current}}Bc.Fragment=sb;Bc.jsx=Zw;Bc.jsxs=Zw;$w.exports=Bc;var c=$w.exports,rf={},e_={exports:{}},Ht={},t_={exports:{}},n_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var Z=z.length;z.push(q);e:for(;0<Z;){var X=Z-1>>>1,ce=z[X];if(0<s(ce,q))z[X]=q,z[Z]=ce,Z=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],Z=z.pop();if(Z!==q){z[0]=Z;e:for(var X=0,ce=z.length,Se=ce>>>1;X<Se;){var qt=2*(X+1)-1,Gt=z[qt],yt=qt+1,Kt=z[yt];if(0>s(Gt,Z))yt<ce&&0>s(Kt,Gt)?(z[X]=Kt,z[yt]=Z,X=yt):(z[X]=Gt,z[qt]=Z,X=qt);else if(yt<ce&&0>s(Kt,Z))z[X]=Kt,z[yt]=Z,X=yt;else break e}}return q}function s(z,q){var Z=z.sortIndex-q.sortIndex;return Z!==0?Z:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],h=[],d=1,p=null,m=3,y=!1,T=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var q=n(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=z)r(h),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(h)}}function b(z){if(C=!1,x(z),!T)if(n(u)!==null)T=!0,ve(V);else{var q=n(h);q!==null&&Ge(b,q.startTime-z)}}function V(z,q){T=!1,C&&(C=!1,E(w),w=-1),y=!0;var Z=m;try{for(x(q),p=n(u);p!==null&&(!(p.expirationTime>q)||z&&!k());){var X=p.callback;if(typeof X=="function"){p.callback=null,m=p.priorityLevel;var ce=X(p.expirationTime<=q);q=t.unstable_now(),typeof ce=="function"?p.callback=ce:p===n(u)&&r(u),x(q)}else r(u);p=n(u)}if(p!==null)var Se=!0;else{var qt=n(h);qt!==null&&Ge(b,qt.startTime-q),Se=!1}return Se}finally{p=null,m=Z,y=!1}}var L=!1,I=null,w=-1,S=5,P=-1;function k(){return!(t.unstable_now()-P<S)}function R(){if(I!==null){var z=t.unstable_now();P=z;var q=!0;try{q=I(!0,z)}finally{q?N():(L=!1,I=null)}}else L=!1}var N;if(typeof v=="function")N=function(){v(R)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=R,N=function(){te.postMessage(null)}}else N=function(){A(R,0)};function ve(z){I=z,L||(L=!0,N())}function Ge(z,q){w=A(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,ve(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var Z=m;m=q;try{return z()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=m;m=z;try{return q()}finally{m=Z}},t.unstable_scheduleCallback=function(z,q,Z){var X=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,z){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Z+ce,z={id:d++,callback:q,priorityLevel:z,startTime:Z,expirationTime:ce,sortIndex:-1},Z>X?(z.sortIndex=Z,e(h,z),n(u)===null&&z===n(h)&&(C?(E(w),w=-1):C=!0,Ge(b,Z-X))):(z.sortIndex=ce,e(u,z),T||y||(T=!0,ve(V))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var q=m;return function(){var Z=m;m=q;try{return z.apply(this,arguments)}finally{m=Z}}}})(n_);t_.exports=n_;var lb=t_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=j,zt=lb;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r_=new Set,ya={};function Ks(t,e){Ui(t,e),Ui(t+"Capture",e)}function Ui(t,e){for(ya[t]=e,t=0;t<e.length;t++)r_.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=Object.prototype.hasOwnProperty,cb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function hb(t){return sf.call(tv,t)?!0:sf.call(ev,t)?!1:cb.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function db(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fb(t,e,n,r){if(e===null||typeof e>"u"||db(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var $p=/[\-:]([a-z])/g;function Hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($p,Hp);rt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($p,Hp);rt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($p,Hp);rt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wp(t,e,n,r){var s=rt.hasOwnProperty(e)?rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fb(e,n,s,r)&&(n=null),r||s===null?hb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),di=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),i_=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),af=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),o_=Symbol.for("react.offscreen"),nv=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,sd;function Uo(t){if(sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sd=e&&e[1]||""}return`
`+sd+t}var id=!1;function od(t,e){if(!t||id)return"";id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{id=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uo(t):""}function pb(t){switch(t.tag){case 5:return Uo(t.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return t=od(t.type,!1),t;case 11:return t=od(t.type.render,!1),t;case 1:return t=od(t.type,!0),t;default:return""}}function uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case di:return"Portal";case of:return"Profiler";case qp:return"StrictMode";case af:return"Suspense";case lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i_:return(t.displayName||"Context")+".Consumer";case s_:return(t._context.displayName||"Context")+".Provider";case Gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kp:return e=t.displayName||null,e!==null?e:uf(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return uf(t(e))}catch{}}return null}function mb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uf(e);case 8:return e===qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gb(t){var e=a_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=gb(t))}function l_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=a_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cf(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u_(t,e){e=e.checked,e!=null&&Wp(t,"checked",e,!1)}function hf(t,e){u_(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?df(t,e.type,n):e.hasOwnProperty("defaultValue")&&df(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function df(t,e,n){(e!=="number"||zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bo=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ff(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Bo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function c_(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,d_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yb=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(t){yb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xo[e]=Xo[t]})});function f_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xo.hasOwnProperty(t)&&Xo[t]?(""+e).trim():e+"px"}function p_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=f_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vb=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(t,e){if(e){if(vb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function gf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function Qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vf=null,Ai=null,ki=null;function av(t){if(t=tl(t)){if(typeof vf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=qc(e),vf(t.stateNode,t.type,e))}}function m_(t){Ai?ki?ki.push(t):ki=[t]:Ai=t}function g_(){if(Ai){var t=Ai,e=ki;if(ki=Ai=null,av(t),e)for(t=0;t<e.length;t++)av(e[t])}}function y_(t,e){return t(e)}function v_(){}var ad=!1;function x_(t,e,n){if(ad)return t(e,n);ad=!0;try{return y_(t,e,n)}finally{ad=!1,(Ai!==null||ki!==null)&&(v_(),g_())}}function xa(t,e){var n=t.stateNode;if(n===null)return null;var r=qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var xf=!1;if(sr)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){xf=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{xf=!1}function xb(t,e,n,r,s,i,o,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Jo=!1,$u=null,Hu=!1,wf=null,wb={onError:function(t){Jo=!0,$u=t}};function _b(t,e,n,r,s,i,o,a,u){Jo=!1,$u=null,xb.apply(wb,arguments)}function Eb(t,e,n,r,s,i,o,a,u){if(_b.apply(this,arguments),Jo){if(Jo){var h=$u;Jo=!1,$u=null}else throw Error(U(198));Hu||(Hu=!0,wf=h)}}function Qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(Qs(t)!==t)throw Error(U(188))}function Tb(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lv(s),t;if(i===r)return lv(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function __(t){return t=Tb(t),t!==null?E_(t):null}function E_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E_(t);if(e!==null)return e;t=t.sibling}return null}var T_=zt.unstable_scheduleCallback,uv=zt.unstable_cancelCallback,Sb=zt.unstable_shouldYield,Ib=zt.unstable_requestPaint,Me=zt.unstable_now,Cb=zt.unstable_getCurrentPriorityLevel,Yp=zt.unstable_ImmediatePriority,S_=zt.unstable_UserBlockingPriority,Wu=zt.unstable_NormalPriority,bb=zt.unstable_LowPriority,I_=zt.unstable_IdlePriority,zc=null,Pn=null;function Pb(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(zc,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:kb,Nb=Math.log,Ab=Math.LN2;function kb(t){return t>>>=0,t===0?32:31-(Nb(t)/Ab|0)|0}var Wl=64,ql=4194304;function zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=zo(a):(i&=o,i!==0&&(r=zo(i)))}else o=n&~s,o!==0?r=zo(o):i!==0&&(r=zo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function Rb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Rb(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function _f(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function C_(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function Db(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var me=0;function b_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P_,Jp,N_,A_,k_,Ef=!1,Gl=[],Mr=null,Lr=null,Or=null,wa=new Map,_a=new Map,br=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cv(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function ko(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=tl(e),e!==null&&Jp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mb(t,e,n,r,s){switch(e){case"focusin":return Mr=ko(Mr,t,e,n,r,s),!0;case"dragenter":return Lr=ko(Lr,t,e,n,r,s),!0;case"mouseover":return Or=ko(Or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wa.set(i,ko(wa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_a.set(i,ko(_a.get(i)||null,t,e,n,r,s)),!0}return!1}function R_(t){var e=Is(t.target);if(e!==null){var n=Qs(e);if(n!==null){if(e=n.tag,e===13){if(e=w_(n),e!==null){t.blockedOn=e,k_(t.priority,function(){N_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yf=r,n.target.dispatchEvent(r),yf=null}else return e=tl(n),e!==null&&Jp(e),t.blockedOn=n,!1;e.shift()}return!0}function hv(t,e,n){yu(t)&&n.delete(e)}function Lb(){Ef=!1,Mr!==null&&yu(Mr)&&(Mr=null),Lr!==null&&yu(Lr)&&(Lr=null),Or!==null&&yu(Or)&&(Or=null),wa.forEach(hv),_a.forEach(hv)}function Ro(t,e){t.blockedOn===e&&(t.blockedOn=null,Ef||(Ef=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,Lb)))}function Ea(t){function e(s){return Ro(s,t)}if(0<Gl.length){Ro(Gl[0],t);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Ro(Mr,t),Lr!==null&&Ro(Lr,t),Or!==null&&Ro(Or,t),wa.forEach(e),_a.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)R_(n),n.blockedOn===null&&br.shift()}var Ri=pr.ReactCurrentBatchConfig,Gu=!0;function Ob(t,e,n,r){var s=me,i=Ri.transition;Ri.transition=null;try{me=1,Zp(t,e,n,r)}finally{me=s,Ri.transition=i}}function Fb(t,e,n,r){var s=me,i=Ri.transition;Ri.transition=null;try{me=4,Zp(t,e,n,r)}finally{me=s,Ri.transition=i}}function Zp(t,e,n,r){if(Gu){var s=Tf(t,e,n,r);if(s===null)vd(t,e,r,Ku,n),cv(t,r);else if(Mb(s,t,e,n,r))r.stopPropagation();else if(cv(t,r),e&4&&-1<Vb.indexOf(t)){for(;s!==null;){var i=tl(s);if(i!==null&&P_(i),i=Tf(t,e,n,r),i===null&&vd(t,e,r,Ku,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vd(t,e,r,null,n)}}var Ku=null;function Tf(t,e,n,r){if(Ku=null,t=Qp(r),t=Is(t),t!==null)if(e=Qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=w_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ku=t,null}function j_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cb()){case Yp:return 1;case S_:return 4;case Wu:case bb:return 16;case I_:return 536870912;default:return 16}default:return 16}}var jr=null,em=null,vu=null;function D_(){if(vu)return vu;var t,e=em,n=e.length,r,s="value"in jr?jr.value:jr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vu=s.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function dv(){return!1}function Wt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:dv,this.isPropagationStopped=dv,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=Wt(ro),el=ke({},ro,{view:0,detail:0}),Ub=Wt(el),ud,cd,jo,$c=ke({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(ud=t.screenX-jo.screenX,cd=t.screenY-jo.screenY):cd=ud=0,jo=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:cd}}),fv=Wt($c),Bb=ke({},$c,{dataTransfer:0}),zb=Wt(Bb),$b=ke({},el,{relatedTarget:0}),hd=Wt($b),Hb=ke({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Wb=Wt(Hb),qb=ke({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gb=Wt(qb),Kb=ke({},ro,{data:0}),pv=Wt(Kb),Qb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xb[t])?!!e[t]:!1}function nm(){return Jb}var Zb=ke({},el,{key:function(t){if(t.key){var e=Qb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eP=Wt(Zb),tP=ke({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=Wt(tP),nP=ke({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),rP=Wt(nP),sP=ke({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),iP=Wt(sP),oP=ke({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aP=Wt(oP),lP=[9,13,27,32],rm=sr&&"CompositionEvent"in window,Zo=null;sr&&"documentMode"in document&&(Zo=document.documentMode);var uP=sr&&"TextEvent"in window&&!Zo,V_=sr&&(!rm||Zo&&8<Zo&&11>=Zo),gv=" ",yv=!1;function M_(t,e){switch(t){case"keyup":return lP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function cP(t,e){switch(t){case"compositionend":return L_(e);case"keypress":return e.which!==32?null:(yv=!0,gv);case"textInput":return t=e.data,t===gv&&yv?null:t;default:return null}}function hP(t,e){if(pi)return t==="compositionend"||!rm&&M_(t,e)?(t=D_(),vu=em=jr=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V_&&e.locale!=="ko"?null:e.data;default:return null}}var dP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dP[t.type]:e==="textarea"}function O_(t,e,n,r){m_(r),e=Qu(e,"onChange"),0<e.length&&(n=new tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ea=null,Ta=null;function fP(t){Q_(t,0)}function Hc(t){var e=yi(t);if(l_(e))return t}function pP(t,e){if(t==="change")return e}var F_=!1;if(sr){var dd;if(sr){var fd="oninput"in document;if(!fd){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),fd=typeof xv.oninput=="function"}dd=fd}else dd=!1;F_=dd&&(!document.documentMode||9<document.documentMode)}function wv(){ea&&(ea.detachEvent("onpropertychange",U_),Ta=ea=null)}function U_(t){if(t.propertyName==="value"&&Hc(Ta)){var e=[];O_(e,Ta,t,Qp(t)),x_(fP,e)}}function mP(t,e,n){t==="focusin"?(wv(),ea=e,Ta=n,ea.attachEvent("onpropertychange",U_)):t==="focusout"&&wv()}function gP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hc(Ta)}function yP(t,e){if(t==="click")return Hc(e)}function vP(t,e){if(t==="input"||t==="change")return Hc(e)}function xP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:xP;function Sa(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sf.call(e,s)||!_n(t[s],e[s]))return!1}return!0}function _v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ev(t,e){var n=_v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_v(n)}}function B_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z_(){for(var t=window,e=zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zu(t.document)}return e}function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wP(t){var e=z_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B_(n.ownerDocument.documentElement,n)){if(r!==null&&sm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ev(n,i);var o=Ev(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _P=sr&&"documentMode"in document&&11>=document.documentMode,mi=null,Sf=null,ta=null,If=!1;function Tv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;If||mi==null||mi!==zu(r)||(r=mi,"selectionStart"in r&&sm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&Sa(ta,r)||(ta=r,r=Qu(Sf,"onSelect"),0<r.length&&(e=new tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mi)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},pd={},$_={};sr&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Wc(t){if(pd[t])return pd[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $_)return pd[t]=e[n];return t}var H_=Wc("animationend"),W_=Wc("animationiteration"),q_=Wc("animationstart"),G_=Wc("transitionend"),K_=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){K_.set(t,e),Ks(e,[t])}for(var md=0;md<Sv.length;md++){var gd=Sv[md],EP=gd.toLowerCase(),TP=gd[0].toUpperCase()+gd.slice(1);os(EP,"on"+TP)}os(H_,"onAnimationEnd");os(W_,"onAnimationIteration");os(q_,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(G_,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SP=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function Iv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Eb(r,e,void 0,t),t.currentTarget=null}function Q_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Iv(s,a,h),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,h=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Iv(s,a,h),i=u}}}if(Hu)throw t=wf,Hu=!1,wf=null,t}function we(t,e){var n=e[Af];n===void 0&&(n=e[Af]=new Set);var r=t+"__bubble";n.has(r)||(Y_(e,t,2,!1),n.add(r))}function yd(t,e,n){var r=0;e&&(r|=4),Y_(n,t,r,e)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Ia(t){if(!t[Yl]){t[Yl]=!0,r_.forEach(function(n){n!=="selectionchange"&&(SP.has(n)||yd(n,!1,t),yd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yl]||(e[Yl]=!0,yd("selectionchange",!1,e))}}function Y_(t,e,n,r){switch(j_(e)){case 1:var s=Ob;break;case 4:s=Fb;break;default:s=Zp}n=s.bind(null,e,n,t),s=void 0,!xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Is(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}x_(function(){var h=i,d=Qp(n),p=[];e:{var m=K_.get(t);if(m!==void 0){var y=tm,T=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":y=eP;break;case"focusin":T="focus",y=hd;break;case"focusout":T="blur",y=hd;break;case"beforeblur":case"afterblur":y=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rP;break;case H_:case W_:case q_:y=Wb;break;case G_:y=iP;break;case"scroll":y=Ub;break;case"wheel":y=aP;break;case"copy":case"cut":case"paste":y=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=mv}var C=(e&4)!==0,A=!C&&t==="scroll",E=C?m!==null?m+"Capture":null:m;C=[];for(var v=h,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,E!==null&&(b=xa(v,E),b!=null&&C.push(Ca(v,b,x)))),A)break;v=v.return}0<C.length&&(m=new y(m,T,null,n,d),p.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==yf&&(T=n.relatedTarget||n.fromElement)&&(Is(T)||T[ir]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=h,T=T?Is(T):null,T!==null&&(A=Qs(T),T!==A||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=h),y!==T)){if(C=fv,b="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(C=mv,b="onPointerLeave",E="onPointerEnter",v="pointer"),A=y==null?m:yi(y),x=T==null?m:yi(T),m=new C(b,v+"leave",y,n,d),m.target=A,m.relatedTarget=x,b=null,Is(d)===h&&(C=new C(E,v+"enter",T,n,d),C.target=x,C.relatedTarget=A,b=C),A=b,y&&T)t:{for(C=y,E=T,v=0,x=C;x;x=ai(x))v++;for(x=0,b=E;b;b=ai(b))x++;for(;0<v-x;)C=ai(C),v--;for(;0<x-v;)E=ai(E),x--;for(;v--;){if(C===E||E!==null&&C===E.alternate)break t;C=ai(C),E=ai(E)}C=null}else C=null;y!==null&&Cv(p,m,y,C,!1),T!==null&&A!==null&&Cv(p,A,T,C,!0)}}e:{if(m=h?yi(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var V=pP;else if(vv(m))if(F_)V=vP;else{V=gP;var L=mP}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=yP);if(V&&(V=V(t,h))){O_(p,V,n,d);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&df(m,"number",m.value)}switch(L=h?yi(h):window,t){case"focusin":(vv(L)||L.contentEditable==="true")&&(mi=L,Sf=h,ta=null);break;case"focusout":ta=Sf=mi=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Tv(p,n,d);break;case"selectionchange":if(_P)break;case"keydown":case"keyup":Tv(p,n,d)}var I;if(rm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else pi?M_(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(V_&&n.locale!=="ko"&&(pi||w!=="onCompositionStart"?w==="onCompositionEnd"&&pi&&(I=D_()):(jr=d,em="value"in jr?jr.value:jr.textContent,pi=!0)),L=Qu(h,w),0<L.length&&(w=new pv(w,t,null,n,d),p.push({event:w,listeners:L}),I?w.data=I:(I=L_(n),I!==null&&(w.data=I)))),(I=uP?cP(t,n):hP(t,n))&&(h=Qu(h,"onBeforeInput"),0<h.length&&(d=new pv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=I))}Q_(p,e)})}function Ca(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xa(t,n),i!=null&&r.unshift(Ca(t,i,s)),i=xa(t,e),i!=null&&r.push(Ca(t,i,s))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,h=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&h!==null&&(a=h,s?(u=xa(n,i),u!=null&&o.unshift(Ca(n,u,a))):s||(u=xa(n,i),u!=null&&o.push(Ca(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IP=/\r\n?/g,CP=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(IP,`
`).replace(CP,"")}function Xl(t,e,n){if(e=bv(e),bv(t)!==e&&n)throw Error(U(425))}function Yu(){}var Cf=null,bf=null;function Pf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,bP=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,PP=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(NP)}:Nf;function NP(t){setTimeout(function(){throw t})}function xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ea(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ea(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var so=Math.random().toString(36).slice(2),bn="__reactFiber$"+so,ba="__reactProps$"+so,ir="__reactContainer$"+so,Af="__reactEvents$"+so,AP="__reactListeners$"+so,kP="__reactHandles$"+so;function Is(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nv(t);t!==null;){if(n=t[bn])return n;t=Nv(t)}return e}t=n,n=t.parentNode}return null}function tl(t){return t=t[bn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function qc(t){return t[ba]||null}var kf=[],vi=-1;function as(t){return{current:t}}function Ee(t){0>vi||(t.current=kf[vi],kf[vi]=null,vi--)}function ye(t,e){vi++,kf[vi]=t.current,t.current=e}var Xr={},mt=as(Xr),Rt=as(!1),Ds=Xr;function Bi(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jt(t){return t=t.childContextTypes,t!=null}function Xu(){Ee(Rt),Ee(mt)}function Av(t,e,n){if(mt.current!==Xr)throw Error(U(168));ye(mt,e),ye(Rt,n)}function X_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,mb(t)||"Unknown",s));return ke({},n,r)}function Ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Ds=mt.current,ye(mt,t),ye(Rt,Rt.current),!0}function kv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=X_(t,e,Ds),r.__reactInternalMemoizedMergedChildContext=t,Ee(Rt),Ee(mt),ye(mt,t)):Ee(Rt),ye(Rt,n)}var qn=null,Gc=!1,wd=!1;function J_(t){qn===null?qn=[t]:qn.push(t)}function RP(t){Gc=!0,J_(t)}function ls(){if(!wd&&qn!==null){wd=!0;var t=0,e=me;try{var n=qn;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,Gc=!1}catch(s){throw qn!==null&&(qn=qn.slice(t+1)),T_(Yp,ls),s}finally{me=e,wd=!1}}return null}var xi=[],wi=0,Zu=null,ec=0,Jt=[],Zt=0,Vs=null,Gn=1,Kn="";function ws(t,e){xi[wi++]=ec,xi[wi++]=Zu,Zu=t,ec=e}function Z_(t,e,n){Jt[Zt++]=Gn,Jt[Zt++]=Kn,Jt[Zt++]=Vs,Vs=t;var r=Gn;t=Kn;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gn=1<<32-xn(e)+s|n<<s|r,Kn=i+t}else Gn=1<<i|n<<s|r,Kn=t}function im(t){t.return!==null&&(ws(t,1),Z_(t,1,0))}function om(t){for(;t===Zu;)Zu=xi[--wi],xi[wi]=null,ec=xi[--wi],xi[wi]=null;for(;t===Vs;)Vs=Jt[--Zt],Jt[Zt]=null,Kn=Jt[--Zt],Jt[Zt]=null,Gn=Jt[--Zt],Jt[Zt]=null}var Ut=null,Ot=null,Ie=!1,mn=null;function e1(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,Ot=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,Ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:Gn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ut=t,Ot=null,!0):!1;default:return!1}}function Rf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jf(t){if(Ie){var e=Ot;if(e){var n=e;if(!Rv(t,e)){if(Rf(t))throw Error(U(418));e=Fr(n.nextSibling);var r=Ut;e&&Rv(t,e)?e1(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Ut=t)}}else{if(Rf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ie=!1,Ut=t}}}function jv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function Jl(t){if(t!==Ut)return!1;if(!Ie)return jv(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pf(t.type,t.memoizedProps)),e&&(e=Ot)){if(Rf(t))throw t1(),Error(U(418));for(;e;)e1(t,e),e=Fr(e.nextSibling)}if(jv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ot=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ot=null}}else Ot=Ut?Fr(t.stateNode.nextSibling):null;return!0}function t1(){for(var t=Ot;t;)t=Fr(t.nextSibling)}function zi(){Ot=Ut=null,Ie=!1}function am(t){mn===null?mn=[t]:mn.push(t)}var jP=pr.ReactCurrentBatchConfig;function Do(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dv(t){var e=t._init;return e(t._payload)}function n1(t){function e(E,v){if(t){var x=E.deletions;x===null?(E.deletions=[v],E.flags|=16):x.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function s(E,v){return E=$r(E,v),E.index=0,E.sibling=null,E}function i(E,v,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<v?(E.flags|=2,v):x):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,x,b){return v===null||v.tag!==6?(v=bd(x,E.mode,b),v.return=E,v):(v=s(v,x),v.return=E,v)}function u(E,v,x,b){var V=x.type;return V===fi?d(E,v,x.props.children,b,x.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Sr&&Dv(V)===v.type)?(b=s(v,x.props),b.ref=Do(E,v,x),b.return=E,b):(b=Cu(x.type,x.key,x.props,null,E.mode,b),b.ref=Do(E,v,x),b.return=E,b)}function h(E,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Pd(x,E.mode,b),v.return=E,v):(v=s(v,x.children||[]),v.return=E,v)}function d(E,v,x,b,V){return v===null||v.tag!==7?(v=ks(x,E.mode,b,V),v.return=E,v):(v=s(v,x),v.return=E,v)}function p(E,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bd(""+v,E.mode,x),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zl:return x=Cu(v.type,v.key,v.props,null,E.mode,x),x.ref=Do(E,null,v),x.return=E,x;case di:return v=Pd(v,E.mode,x),v.return=E,v;case Sr:var b=v._init;return p(E,b(v._payload),x)}if(Bo(v)||No(v))return v=ks(v,E.mode,x,null),v.return=E,v;Zl(E,v)}return null}function m(E,v,x,b){var V=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return V!==null?null:a(E,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zl:return x.key===V?u(E,v,x,b):null;case di:return x.key===V?h(E,v,x,b):null;case Sr:return V=x._init,m(E,v,V(x._payload),b)}if(Bo(x)||No(x))return V!==null?null:d(E,v,x,b,null);Zl(E,x)}return null}function y(E,v,x,b,V){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(x)||null,a(v,E,""+b,V);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zl:return E=E.get(b.key===null?x:b.key)||null,u(v,E,b,V);case di:return E=E.get(b.key===null?x:b.key)||null,h(v,E,b,V);case Sr:var L=b._init;return y(E,v,x,L(b._payload),V)}if(Bo(b)||No(b))return E=E.get(x)||null,d(v,E,b,V,null);Zl(v,b)}return null}function T(E,v,x,b){for(var V=null,L=null,I=v,w=v=0,S=null;I!==null&&w<x.length;w++){I.index>w?(S=I,I=null):S=I.sibling;var P=m(E,I,x[w],b);if(P===null){I===null&&(I=S);break}t&&I&&P.alternate===null&&e(E,I),v=i(P,v,w),L===null?V=P:L.sibling=P,L=P,I=S}if(w===x.length)return n(E,I),Ie&&ws(E,w),V;if(I===null){for(;w<x.length;w++)I=p(E,x[w],b),I!==null&&(v=i(I,v,w),L===null?V=I:L.sibling=I,L=I);return Ie&&ws(E,w),V}for(I=r(E,I);w<x.length;w++)S=y(I,E,w,x[w],b),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?w:S.key),v=i(S,v,w),L===null?V=S:L.sibling=S,L=S);return t&&I.forEach(function(k){return e(E,k)}),Ie&&ws(E,w),V}function C(E,v,x,b){var V=No(x);if(typeof V!="function")throw Error(U(150));if(x=V.call(x),x==null)throw Error(U(151));for(var L=V=null,I=v,w=v=0,S=null,P=x.next();I!==null&&!P.done;w++,P=x.next()){I.index>w?(S=I,I=null):S=I.sibling;var k=m(E,I,P.value,b);if(k===null){I===null&&(I=S);break}t&&I&&k.alternate===null&&e(E,I),v=i(k,v,w),L===null?V=k:L.sibling=k,L=k,I=S}if(P.done)return n(E,I),Ie&&ws(E,w),V;if(I===null){for(;!P.done;w++,P=x.next())P=p(E,P.value,b),P!==null&&(v=i(P,v,w),L===null?V=P:L.sibling=P,L=P);return Ie&&ws(E,w),V}for(I=r(E,I);!P.done;w++,P=x.next())P=y(I,E,w,P.value,b),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?w:P.key),v=i(P,v,w),L===null?V=P:L.sibling=P,L=P);return t&&I.forEach(function(R){return e(E,R)}),Ie&&ws(E,w),V}function A(E,v,x,b){if(typeof x=="object"&&x!==null&&x.type===fi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zl:e:{for(var V=x.key,L=v;L!==null;){if(L.key===V){if(V=x.type,V===fi){if(L.tag===7){n(E,L.sibling),v=s(L,x.props.children),v.return=E,E=v;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Sr&&Dv(V)===L.type){n(E,L.sibling),v=s(L,x.props),v.ref=Do(E,L,x),v.return=E,E=v;break e}n(E,L);break}else e(E,L);L=L.sibling}x.type===fi?(v=ks(x.props.children,E.mode,b,x.key),v.return=E,E=v):(b=Cu(x.type,x.key,x.props,null,E.mode,b),b.ref=Do(E,v,x),b.return=E,E=b)}return o(E);case di:e:{for(L=x.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(E,v.sibling),v=s(v,x.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=Pd(x,E.mode,b),v.return=E,E=v}return o(E);case Sr:return L=x._init,A(E,v,L(x._payload),b)}if(Bo(x))return T(E,v,x,b);if(No(x))return C(E,v,x,b);Zl(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(E,v.sibling),v=s(v,x),v.return=E,E=v):(n(E,v),v=bd(x,E.mode,b),v.return=E,E=v),o(E)):n(E,v)}return A}var $i=n1(!0),r1=n1(!1),tc=as(null),nc=null,_i=null,lm=null;function um(){lm=_i=nc=null}function cm(t){var e=tc.current;Ee(tc),t._currentValue=e}function Df(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ji(t,e){nc=t,lm=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(lm!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(nc===null)throw Error(U(308));_i=t,nc.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Cs=null;function hm(t){Cs===null?Cs=[t]:Cs.push(t)}function s1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hm(e)):(n.next=s.next,s.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ir=!1;function dm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,or(t,n)}return s=r.interleaved,s===null?(e.next=e,hm(r)):(e.next=s.next,s.next=e),r.interleaved=e,or(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xp(t,n)}}function Vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,r){var s=t.updateQueue;Ir=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,h=u.next;u.next=null,o===null?i=h:o.next=h,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=h=u=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,C=a;switch(m=e,y=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){p=T.call(y,p,m);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,m=typeof T=="function"?T.call(y,p,m):T,m==null)break e;p=ke({},p,m);break e;case 2:Ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=y,u=p):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ls|=o,t.lanes=o,t.memoizedState=p}}function Mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var nl={},Nn=as(nl),Pa=as(nl),Na=as(nl);function bs(t){if(t===nl)throw Error(U(174));return t}function fm(t,e){switch(ye(Na,e),ye(Pa,t),ye(Nn,nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pf(e,t)}Ee(Nn),ye(Nn,e)}function Hi(){Ee(Nn),Ee(Pa),Ee(Na)}function o1(t){bs(Na.current);var e=bs(Nn.current),n=pf(e,t.type);e!==n&&(ye(Pa,t),ye(Nn,n))}function pm(t){Pa.current===t&&(Ee(Nn),Ee(Pa))}var Ce=as(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _d=[];function mm(){for(var t=0;t<_d.length;t++)_d[t]._workInProgressVersionPrimary=null;_d.length=0}var _u=pr.ReactCurrentDispatcher,Ed=pr.ReactCurrentBatchConfig,Ms=0,Ne=null,ze=null,Qe=null,ic=!1,na=!1,Aa=0,DP=0;function lt(){throw Error(U(321))}function gm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function ym(t,e,n,r,s,i){if(Ms=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_u.current=t===null||t.memoizedState===null?OP:FP,t=n(r,s),na){i=0;do{if(na=!1,Aa=0,25<=i)throw Error(U(301));i+=1,Qe=ze=null,e.updateQueue=null,_u.current=UP,t=n(r,s)}while(na)}if(_u.current=oc,e=ze!==null&&ze.next!==null,Ms=0,Qe=ze=Ne=null,ic=!1,e)throw Error(U(300));return t}function vm(){var t=Aa!==0;return Aa=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ne.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function an(){if(ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?Ne.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(U(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?Ne.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function ka(t,e){return typeof e=="function"?e(t):e}function Td(t){var e=an(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,h=i;do{var d=h.lane;if((Ms&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Ne.lanes|=d,Ls|=d}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=a,_n(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,Ls|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sd(t){var e=an(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_n(i,e.memoizedState)||(kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function a1(){}function l1(t,e){var n=Ne,r=an(),s=e(),i=!_n(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,xm(h1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Ra(9,c1.bind(null,n,r,s,e),void 0,null),Xe===null)throw Error(U(349));Ms&30||u1(n,e,s)}return s}function u1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c1(t,e,n,r){e.value=n,e.getSnapshot=r,d1(e)&&f1(t)}function h1(t,e,n){return n(function(){d1(e)&&f1(t)})}function d1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function f1(t){var e=or(t,1);e!==null&&wn(e,t,1,-1)}function Lv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e.queue=t,t=t.dispatch=LP.bind(null,Ne,t),[e.memoizedState,t]}function Ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p1(){return an().memoizedState}function Eu(t,e,n,r){var s=In();Ne.flags|=t,s.memoizedState=Ra(1|e,n,void 0,r===void 0?null:r)}function Kc(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&gm(r,o.deps)){s.memoizedState=Ra(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=Ra(1|e,n,i,r)}function Ov(t,e){return Eu(8390656,8,t,e)}function xm(t,e){return Kc(2048,8,t,e)}function m1(t,e){return Kc(4,2,t,e)}function g1(t,e){return Kc(4,4,t,e)}function y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v1(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4,4,y1.bind(null,e,t),n)}function wm(){}function x1(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w1(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _1(t,e,n){return Ms&21?(_n(n,e)||(n=C_(),Ne.lanes|=n,Ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function VP(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Ed.transition;Ed.transition={};try{t(!1),e()}finally{me=n,Ed.transition=r}}function E1(){return an().memoizedState}function MP(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T1(t))S1(e,n);else if(n=s1(t,e,n,r),n!==null){var s=Et();wn(n,t,r,s),I1(n,e,r)}}function LP(t,e,n){var r=zr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T1(t))S1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_n(a,o)){var u=e.interleaved;u===null?(s.next=s,hm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=s1(t,e,s,r),n!==null&&(s=Et(),wn(n,t,r,s),I1(n,e,r))}}function T1(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function S1(t,e){na=ic=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xp(t,n)}}var oc={readContext:on,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},OP={readContext:on,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Ov,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eu(4194308,4,y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eu(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MP.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Lv,useDebugValue:wm,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Lv(!1),e=t[0];return t=VP.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=In();if(Ie){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Xe===null)throw Error(U(349));Ms&30||u1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ov(h1.bind(null,r,i,t),[t]),r.flags|=2048,Ra(9,c1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=In(),e=Xe.identifierPrefix;if(Ie){var n=Kn,r=Gn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FP={readContext:on,useCallback:x1,useContext:on,useEffect:xm,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:w1,useReducer:Td,useRef:p1,useState:function(){return Td(ka)},useDebugValue:wm,useDeferredValue:function(t){var e=an();return _1(e,ze.memoizedState,t)},useTransition:function(){var t=Td(ka)[0],e=an().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1},UP={readContext:on,useCallback:x1,useContext:on,useEffect:xm,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:w1,useReducer:Sd,useRef:p1,useState:function(){return Sd(ka)},useDebugValue:wm,useDeferredValue:function(t){var e=an();return ze===null?e.memoizedState=t:_1(e,ze.memoizedState,t)},useTransition:function(){var t=Sd(ka)[0],e=an().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qc={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),s=zr(t),i=Zn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(wn(e,t,s,r),wu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),s=zr(t),i=Zn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(wn(e,t,s,r),wu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=zr(t),s=Zn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ur(t,s,r),e!==null&&(wn(e,t,r,n),wu(e,t,r))}};function Fv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Sa(n,r)||!Sa(s,i):!0}function C1(t,e,n){var r=!1,s=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=jt(e)?Ds:mt.current,r=e.contextTypes,i=(r=r!=null)?Bi(t,s):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qc.enqueueReplaceState(e,e.state,null)}function Mf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},dm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=jt(e)?Ds:mt.current,s.context=Bi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qc.enqueueReplaceState(s,s.state,null),rc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wi(t,e){try{var n="",r=e;do n+=pb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BP=typeof WeakMap=="function"?WeakMap:Map;function b1(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lc||(lc=!0,Gf=r),Lf(t,e)},n}function P1(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lf(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=t2.bind(null,t,e,n),e.then(t,t))}function zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var zP=pr.ReactCurrentOwner,kt=!1;function _t(t,e,n,r){e.child=t===null?r1(e,null,n,r):$i(e,t.child,n,r)}function Hv(t,e,n,r,s){n=n.render;var i=e.ref;return ji(e,s),r=ym(t,e,n,r,i,s),n=vm(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ar(t,e,s)):(Ie&&n&&im(e),e.flags|=1,_t(t,e,r,s),e.child)}function Wv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Pm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,N1(t,e,i,r,s)):(t=Cu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sa,n(o,r)&&t.ref===e.ref)return ar(t,e,s)}return e.flags|=1,t=$r(i,r),t.ref=e.ref,t.return=e,e.child=t}function N1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Sa(i,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,ar(t,e,s)}return Of(t,e,n,r,s)}function A1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ti,Lt),Lt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ti,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Ti,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(Ti,Lt),Lt|=r;return _t(t,e,s,n),e.child}function k1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Of(t,e,n,r,s){var i=jt(n)?Ds:mt.current;return i=Bi(e,i),ji(e,s),n=ym(t,e,n,r,i,s),r=vm(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ar(t,e,s)):(Ie&&r&&im(e),e.flags|=1,_t(t,e,n,s),e.child)}function qv(t,e,n,r,s){if(jt(n)){var i=!0;Ju(e)}else i=!1;if(ji(e,s),e.stateNode===null)Tu(t,e),C1(e,n,r),Mf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=on(h):(h=jt(n)?Ds:mt.current,h=Bi(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==h)&&Uv(e,o,r,h),Ir=!1;var m=e.memoizedState;o.state=m,rc(e,r,o,s),u=e.memoizedState,a!==r||m!==u||Rt.current||Ir?(typeof d=="function"&&(Vf(e,n,d,r),u=e.memoizedState),(a=Ir||Fv(e,n,a,r,m,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,i1(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:dn(e.type,a),o.props=h,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=on(u):(u=jt(n)?Ds:mt.current,u=Bi(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Uv(e,o,r,u),Ir=!1,m=e.memoizedState,o.state=m,rc(e,r,o,s);var T=e.memoizedState;a!==p||m!==T||Rt.current||Ir?(typeof y=="function"&&(Vf(e,n,y,r),T=e.memoizedState),(h=Ir||Fv(e,n,h,r,m,T,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ff(t,e,n,r,i,s)}function Ff(t,e,n,r,s,i){k1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&kv(e,n,!1),ar(t,e,i);r=e.stateNode,zP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$i(e,t.child,null,i),e.child=$i(e,null,a,i)):_t(t,e,a,i),e.memoizedState=r.state,s&&kv(e,n,!0),e.child}function R1(t){var e=t.stateNode;e.pendingContext?Av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Av(t,e.context,!1),fm(t,e.containerInfo)}function Gv(t,e,n,r,s){return zi(),am(s),e.flags|=256,_t(t,e,n,r),e.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function Bf(t){return{baseLanes:t,cachePool:null,transitions:null}}function j1(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Ce,s&1),t===null)return jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jc(o,r,0,null),t=ks(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bf(n),e.memoizedState=Uf,t):_m(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $P(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=$r(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$r(a,i):(i=ks(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Uf,r}return i=t.child,t=i.sibling,r=$r(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _m(t,e){return e=Jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,n,r){return r!==null&&am(r),$i(e,t.child,null,n),t=_m(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $P(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Id(Error(U(422))),eu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jc({mode:"visible",children:r.children},s,0,null),i=ks(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$i(e,t.child,null,o),e.child.memoizedState=Bf(o),e.memoizedState=Uf,i);if(!(e.mode&1))return eu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Id(i,r,void 0),eu(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=Xe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(t,s),wn(r,t,s,-1))}return bm(),r=Id(Error(U(421))),eu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=n2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ot=Fr(s.nextSibling),Ut=e,Ie=!0,mn=null,t!==null&&(Jt[Zt++]=Gn,Jt[Zt++]=Kn,Jt[Zt++]=Vs,Gn=t.id,Kn=t.overflow,Vs=e),e=_m(e,r.children),e.flags|=4096,e)}function Kv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Df(t.return,e,n)}function Cd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function D1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_t(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kv(t,n,e);else if(t.tag===19)Kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Cd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Cd(e,!0,n,null,i);break;case"together":Cd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HP(t,e,n){switch(e.tag){case 3:R1(e),zi();break;case 5:o1(e);break;case 1:jt(e.type)&&Ju(e);break;case 4:fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(tc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?j1(t,e,n):(ye(Ce,Ce.current&1),t=ar(t,e,n),t!==null?t.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,A1(t,e,n)}return ar(t,e,n)}var V1,zf,M1,L1;V1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zf=function(){};M1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bs(Nn.current);var i=null;switch(n){case"input":s=cf(t,s),r=cf(t,r),i=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),i=[];break;case"textarea":s=ff(t,s),r=ff(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}mf(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var a=s[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ya.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var u=r[h];if(a=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ya.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&we("scroll",t),i||a===u||(i=[])):(i=i||[]).push(h,u))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};L1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vo(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WP(t,e,n){var r=e.pendingProps;switch(om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return jt(e.type)&&Xu(),ut(e),null;case 3:return r=e.stateNode,Hi(),Ee(Rt),Ee(mt),mm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(Yf(mn),mn=null))),zf(t,e),ut(e),null;case 5:pm(e);var s=bs(Na.current);if(n=e.type,t!==null&&e.stateNode!=null)M1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ut(e),null}if(t=bs(Nn.current),Jl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bn]=e,r[ba]=i,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<$o.length;s++)we($o[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":rv(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":iv(r,i),we("invalid",r)}mf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),s=["children",""+a]):ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":$l(r),sv(r,i,!0);break;case"textarea":$l(r),ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bn]=e,t[ba]=r,V1(t,e,!1,!1),e.stateNode=t;e:{switch(o=gf(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<$o.length;s++)we($o[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":rv(t,r),s=cf(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),we("invalid",t);break;case"textarea":iv(t,r),s=ff(t,r),we("invalid",t);break;default:s=r}mf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?p_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&d_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&va(t,u):typeof u=="number"&&va(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ya.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",t):u!=null&&Wp(t,i,u,o))}switch(n){case"input":$l(t),sv(t,r,!1);break;case"textarea":$l(t),ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ni(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)L1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=bs(Na.current),bs(Nn.current),Jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[bn]=e,(i=r.nodeValue!==n)&&(t=Ut,t!==null))switch(t.tag){case 3:Xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=e,e.stateNode=r}return ut(e),null;case 13:if(Ee(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Ot!==null&&e.mode&1&&!(e.flags&128))t1(),zi(),e.flags|=98560,i=!1;else if(i=Jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[bn]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),i=!1}else mn!==null&&(Yf(mn),mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?He===0&&(He=3):bm())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return Hi(),zf(t,e),t===null&&Ia(e.stateNode.containerInfo),ut(e),null;case 10:return cm(e.type._context),ut(e),null;case 17:return jt(e.type)&&Xu(),ut(e),null;case 19:if(Ee(Ce),i=e.memoizedState,i===null)return ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Vo(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sc(t),o!==null){for(e.flags|=128,Vo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&Me()>qi&&(e.flags|=128,r=!0,Vo(i,!1),e.lanes=4194304)}else{if(!r)if(t=sc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return ut(e),null}else 2*Me()-i.renderingStartTime>qi&&n!==1073741824&&(e.flags|=128,r=!0,Vo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Me(),e.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return Cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function qP(t,e){switch(om(e),e.tag){case 1:return jt(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hi(),Ee(Rt),Ee(mt),mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pm(e),null;case 13:if(Ee(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Ce),null;case 4:return Hi(),null;case 10:return cm(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var tu=!1,ft=!1,GP=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function $f(t,e,n){try{n()}catch(r){De(t,e,r)}}var Qv=!1;function KP(t,e){if(Cf=Gu,t=z_(),sm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++h===s&&(a=o),m===i&&++d===r&&(u=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bf={focusedElem:t,selectionRange:n},Gu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,A=T.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:dn(e.type,C),A);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){De(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return T=Qv,Qv=!1,T}function ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$f(e,n,i)}s=s.next}while(s!==r)}}function Yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O1(t){var e=t.alternate;e!==null&&(t.alternate=null,O1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bn],delete e[ba],delete e[Af],delete e[AP],delete e[kP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F1(t){return t.tag===5||t.tag===3||t.tag===4}function Yv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(Wf(t,e,n),t=t.sibling;t!==null;)Wf(t,e,n),t=t.sibling}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}var Ze=null,fn=!1;function _r(t,e,n){for(n=n.child;n!==null;)U1(t,e,n),n=n.sibling}function U1(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 5:ft||Ei(n,e);case 6:var r=Ze,s=fn;Ze=null,_r(t,e,n),Ze=r,fn=s,Ze!==null&&(fn?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(fn?(t=Ze,n=n.stateNode,t.nodeType===8?xd(t.parentNode,n):t.nodeType===1&&xd(t,n),Ea(t)):xd(Ze,n.stateNode));break;case 4:r=Ze,s=fn,Ze=n.stateNode.containerInfo,fn=!0,_r(t,e,n),Ze=r,fn=s;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$f(n,e,o),s=s.next}while(s!==r)}_r(t,e,n);break;case 1:if(!ft&&(Ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}_r(t,e,n);break;case 21:_r(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,_r(t,e,n),ft=r):_r(t,e,n);break;default:_r(t,e,n)}}function Xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GP),e.forEach(function(r){var s=r2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,fn=!1;break e;case 3:Ze=a.stateNode.containerInfo,fn=!0;break e;case 4:Ze=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(Ze===null)throw Error(U(160));U1(i,o,s),Ze=null,fn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){De(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B1(e,t),e=e.sibling}function B1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),Sn(t),r&4){try{ra(3,t,t.return),Yc(3,t)}catch(C){De(t,t.return,C)}try{ra(5,t,t.return)}catch(C){De(t,t.return,C)}}break;case 1:un(e,t),Sn(t),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(un(e,t),Sn(t),r&512&&n!==null&&Ei(n,n.return),t.flags&32){var s=t.stateNode;try{va(s,"")}catch(C){De(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&u_(s,i),gf(a,o);var h=gf(a,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?p_(s,p):d==="dangerouslySetInnerHTML"?d_(s,p):d==="children"?va(s,p):Wp(s,d,p,h)}switch(a){case"input":hf(s,i);break;case"textarea":c_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ni(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ni(s,!!i.multiple,i.defaultValue,!0):Ni(s,!!i.multiple,i.multiple?[]:"",!1))}s[ba]=i}catch(C){De(t,t.return,C)}}break;case 6:if(un(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){De(t,t.return,C)}}break;case 3:if(un(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(e.containerInfo)}catch(C){De(t,t.return,C)}break;case 4:un(e,t),Sn(t);break;case 13:un(e,t),Sn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sm=Me())),r&4&&Xv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(h=ft)||d,un(e,t),ft=h):un(e,t),Sn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(p=H=d;H!==null;){switch(m=H,y=m.child,m.tag){case 0:case 11:case 14:case 15:ra(4,m,m.return);break;case 1:Ei(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){De(r,n,C)}}break;case 5:Ei(m,m.return);break;case 22:if(m.memoizedState!==null){Zv(p);continue}}y!==null?(y.return=m,H=y):Zv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=f_("display",o))}catch(C){De(t,t.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(C){De(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:un(e,t),Sn(t),r&4&&Xv(t);break;case 21:break;default:un(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(va(s,""),r.flags&=-33);var i=Yv(t);qf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yv(t);Wf(t,a,o);break;default:throw Error(U(161))}}catch(u){De(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QP(t,e,n){H=t,z1(t)}function z1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||tu;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ft;a=tu;var h=ft;if(tu=o,(ft=u)&&!h)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?e0(s):u!==null?(u.return=o,H=u):e0(s);for(;i!==null;)H=i,z1(i),i=i.sibling;H=s,tu=a,ft=h}Jv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Jv(t)}}function Jv(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||Yc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ea(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ft||e.flags&512&&Hf(e)}catch(m){De(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Zv(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function e0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yc(4,e)}catch(u){De(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){De(e,s,u)}}var i=e.return;try{Hf(e)}catch(u){De(e,i,u)}break;case 5:var o=e.return;try{Hf(e)}catch(u){De(e,o,u)}}}catch(u){De(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var YP=Math.ceil,ac=pr.ReactCurrentDispatcher,Em=pr.ReactCurrentOwner,rn=pr.ReactCurrentBatchConfig,he=0,Xe=null,Ue=null,nt=0,Lt=0,Ti=as(0),He=0,ja=null,Ls=0,Xc=0,Tm=0,sa=null,Pt=null,Sm=0,qi=1/0,Wn=null,lc=!1,Gf=null,Br=null,nu=!1,Dr=null,uc=0,ia=0,Kf=null,Su=-1,Iu=0;function Et(){return he&6?Me():Su!==-1?Su:Su=Me()}function zr(t){return t.mode&1?he&2&&nt!==0?nt&-nt:jP.transition!==null?(Iu===0&&(Iu=C_()),Iu):(t=me,t!==0||(t=window.event,t=t===void 0?16:j_(t.type)),t):1}function wn(t,e,n,r){if(50<ia)throw ia=0,Kf=null,Error(U(185));Za(t,n,r),(!(he&2)||t!==Xe)&&(t===Xe&&(!(he&2)&&(Xc|=n),He===4&&Pr(t,nt)),Dt(t,r),n===1&&he===0&&!(e.mode&1)&&(qi=Me()+500,Gc&&ls()))}function Dt(t,e){var n=t.callbackNode;jb(t,e);var r=qu(t,t===Xe?nt:0);if(r===0)n!==null&&uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uv(n),e===1)t.tag===0?RP(t0.bind(null,t)):J_(t0.bind(null,t)),PP(function(){!(he&6)&&ls()}),n=null;else{switch(b_(r)){case 1:n=Yp;break;case 4:n=S_;break;case 16:n=Wu;break;case 536870912:n=I_;break;default:n=Wu}n=Y1(n,$1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $1(t,e){if(Su=-1,Iu=0,he&6)throw Error(U(327));var n=t.callbackNode;if(Di()&&t.callbackNode!==n)return null;var r=qu(t,t===Xe?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cc(t,r);else{e=r;var s=he;he|=2;var i=W1();(Xe!==t||nt!==e)&&(Wn=null,qi=Me()+500,As(t,e));do try{ZP();break}catch(a){H1(t,a)}while(!0);um(),ac.current=i,he=s,Ue!==null?e=0:(Xe=null,nt=0,e=He)}if(e!==0){if(e===2&&(s=_f(t),s!==0&&(r=s,e=Qf(t,s))),e===1)throw n=ja,As(t,0),Pr(t,r),Dt(t,Me()),n;if(e===6)Pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!XP(s)&&(e=cc(t,r),e===2&&(i=_f(t),i!==0&&(r=i,e=Qf(t,i))),e===1))throw n=ja,As(t,0),Pr(t,r),Dt(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:_s(t,Pt,Wn);break;case 3:if(Pr(t,r),(r&130023424)===r&&(e=Sm+500-Me(),10<e)){if(qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nf(_s.bind(null,t,Pt,Wn),e);break}_s(t,Pt,Wn);break;case 4:if(Pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YP(r/1960))-r,10<r){t.timeoutHandle=Nf(_s.bind(null,t,Pt,Wn),r);break}_s(t,Pt,Wn);break;case 5:_s(t,Pt,Wn);break;default:throw Error(U(329))}}}return Dt(t,Me()),t.callbackNode===n?$1.bind(null,t):null}function Qf(t,e){var n=sa;return t.current.memoizedState.isDehydrated&&(As(t,e).flags|=256),t=cc(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Yf(e)),t}function Yf(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function XP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_n(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(t,e){for(e&=~Tm,e&=~Xc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function t0(t){if(he&6)throw Error(U(327));Di();var e=qu(t,0);if(!(e&1))return Dt(t,Me()),null;var n=cc(t,e);if(t.tag!==0&&n===2){var r=_f(t);r!==0&&(e=r,n=Qf(t,r))}if(n===1)throw n=ja,As(t,0),Pr(t,e),Dt(t,Me()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,Pt,Wn),Dt(t,Me()),null}function Im(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(qi=Me()+500,Gc&&ls())}}function Os(t){Dr!==null&&Dr.tag===0&&!(he&6)&&Di();var e=he;he|=1;var n=rn.transition,r=me;try{if(rn.transition=null,me=1,t)return t()}finally{me=r,rn.transition=n,he=e,!(he&6)&&ls()}}function Cm(){Lt=Ti.current,Ee(Ti)}function As(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bP(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(om(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:Hi(),Ee(Rt),Ee(mt),mm();break;case 5:pm(r);break;case 4:Hi();break;case 13:Ee(Ce);break;case 19:Ee(Ce);break;case 10:cm(r.type._context);break;case 22:case 23:Cm()}n=n.return}if(Xe=t,Ue=t=$r(t.current,null),nt=Lt=e,He=0,ja=null,Tm=Xc=Ls=0,Pt=sa=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cs=null}return t}function H1(t,e){do{var n=Ue;try{if(um(),_u.current=oc,ic){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ic=!1}if(Ms=0,Qe=ze=Ne=null,na=!1,Aa=0,Em.current=null,n===null||n.return===null){He=1,ja=e,Ue=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=nt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=zv(o);if(y!==null){y.flags&=-257,$v(y,o,a,i,e),y.mode&1&&Bv(i,h,e),e=y,u=h;var T=e.updateQueue;if(T===null){var C=new Set;C.add(u),e.updateQueue=C}else T.add(u);break e}else{if(!(e&1)){Bv(i,h,e),bm();break e}u=Error(U(426))}}else if(Ie&&a.mode&1){var A=zv(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),$v(A,o,a,i,e),am(Wi(u,a));break e}}i=u=Wi(u,a),He!==4&&(He=2),sa===null?sa=[i]:sa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=b1(i,u,e);Vv(i,E);break e;case 1:a=u;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Br===null||!Br.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=P1(i,a,e);Vv(i,b);break e}}i=i.return}while(i!==null)}G1(n)}catch(V){e=V,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function W1(){var t=ac.current;return ac.current=oc,t===null?oc:t}function bm(){(He===0||He===3||He===2)&&(He=4),Xe===null||!(Ls&268435455)&&!(Xc&268435455)||Pr(Xe,nt)}function cc(t,e){var n=he;he|=2;var r=W1();(Xe!==t||nt!==e)&&(Wn=null,As(t,e));do try{JP();break}catch(s){H1(t,s)}while(!0);if(um(),he=n,ac.current=r,Ue!==null)throw Error(U(261));return Xe=null,nt=0,He}function JP(){for(;Ue!==null;)q1(Ue)}function ZP(){for(;Ue!==null&&!Sb();)q1(Ue)}function q1(t){var e=Q1(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?G1(t):Ue=e,Em.current=null}function G1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qP(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Ue=null;return}}else if(n=WP(n,e,Lt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);He===0&&(He=5)}function _s(t,e,n){var r=me,s=rn.transition;try{rn.transition=null,me=1,e2(t,e,n,r)}finally{rn.transition=s,me=r}return null}function e2(t,e,n,r){do Di();while(Dr!==null);if(he&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Db(t,i),t===Xe&&(Ue=Xe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,Y1(Wu,function(){return Di(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=me;me=1;var a=he;he|=4,Em.current=null,KP(t,n),B1(n,t),wP(bf),Gu=!!Cf,bf=Cf=null,t.current=n,QP(n),Ib(),he=a,me=o,rn.transition=i}else t.current=n;if(nu&&(nu=!1,Dr=t,uc=s),i=t.pendingLanes,i===0&&(Br=null),Pb(n.stateNode),Dt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lc)throw lc=!1,t=Gf,Gf=null,t;return uc&1&&t.tag!==0&&Di(),i=t.pendingLanes,i&1?t===Kf?ia++:(ia=0,Kf=t):ia=0,ls(),null}function Di(){if(Dr!==null){var t=b_(uc),e=rn.transition,n=me;try{if(rn.transition=null,me=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,uc=0,he&6)throw Error(U(331));var s=he;for(he|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for(H=h;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:ra(8,d,i)}var p=d.child;if(p!==null)p.return=d,H=p;else for(;H!==null;){d=H;var m=d.sibling,y=d.return;if(O1(d),d===h){H=null;break}if(m!==null){m.return=y,H=m;break}H=y}}}var T=i.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ra(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,H=E;break e}H=i.return}}var v=t.current;for(H=v;H!==null;){o=H;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,H=x;else e:for(o=v;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yc(9,a)}}catch(V){De(a,a.return,V)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(he=s,ls(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(zc,t)}catch{}r=!0}return r}finally{me=n,rn.transition=e}}return!1}function n0(t,e,n){e=Wi(n,e),e=b1(t,e,1),t=Ur(t,e,1),e=Et(),t!==null&&(Za(t,1,e),Dt(t,e))}function De(t,e,n){if(t.tag===3)n0(t,t,n);else for(;e!==null;){if(e.tag===3){n0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=Wi(n,t),t=P1(e,t,1),e=Ur(e,t,1),t=Et(),e!==null&&(Za(e,1,t),Dt(e,t));break}}e=e.return}}function t2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(nt&n)===n&&(He===4||He===3&&(nt&130023424)===nt&&500>Me()-Sm?As(t,0):Tm|=n),Dt(t,e)}function K1(t,e){e===0&&(t.mode&1?(e=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):e=1);var n=Et();t=or(t,e),t!==null&&(Za(t,e,n),Dt(t,n))}function n2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K1(t,n)}function r2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),K1(t,n)}var Q1;Q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,HP(t,e,n);kt=!!(t.flags&131072)}else kt=!1,Ie&&e.flags&1048576&&Z_(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tu(t,e),t=e.pendingProps;var s=Bi(e,mt.current);ji(e,n),s=ym(null,e,r,t,s,n);var i=vm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(i=!0,Ju(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dm(e),s.updater=Qc,e.stateNode=s,s._reactInternals=e,Mf(e,r,t,n),e=Ff(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&im(e),_t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=i2(r),t=dn(r,t),s){case 0:e=Of(null,e,r,t,n);break e;case 1:e=qv(null,e,r,t,n);break e;case 11:e=Hv(null,e,r,t,n);break e;case 14:e=Wv(null,e,r,dn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Of(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),qv(t,e,r,s,n);case 3:e:{if(R1(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,i1(t,e),rc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wi(Error(U(423)),e),e=Gv(t,e,r,n,s);break e}else if(r!==s){s=Wi(Error(U(424)),e),e=Gv(t,e,r,n,s);break e}else for(Ot=Fr(e.stateNode.containerInfo.firstChild),Ut=e,Ie=!0,mn=null,n=r1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===s){e=ar(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return o1(e),t===null&&jf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pf(r,s)?o=null:i!==null&&Pf(r,i)&&(e.flags|=32),k1(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&jf(e),null;case 13:return j1(t,e,n);case 4:return fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$i(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Hv(t,e,r,s,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ye(tc,r._currentValue),r._currentValue=o,i!==null)if(_n(i.value,o)){if(i.children===s.children&&!Rt.current){e=ar(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Zn(-1,n&-n),u.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Df(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Df(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ji(e,n),s=on(s),r=r(s),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,s=dn(r,e.pendingProps),s=dn(r.type,s),Wv(t,e,r,s,n);case 15:return N1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Tu(t,e),e.tag=1,jt(r)?(t=!0,Ju(e)):t=!1,ji(e,n),C1(e,r,s),Mf(e,r,s,n),Ff(null,e,r,!0,t,n);case 19:return D1(t,e,n);case 22:return A1(t,e,n)}throw Error(U(156,e.tag))};function Y1(t,e){return T_(t,e)}function s2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new s2(t,e,n,r)}function Pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i2(t){if(typeof t=="function")return Pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gp)return 11;if(t===Kp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fi:return ks(n.children,s,i,e);case qp:o=8,s|=8;break;case of:return t=nn(12,n,e,s|2),t.elementType=of,t.lanes=i,t;case af:return t=nn(13,n,e,s),t.elementType=af,t.lanes=i,t;case lf:return t=nn(19,n,e,s),t.elementType=lf,t.lanes=i,t;case o_:return Jc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s_:o=10;break e;case i_:o=9;break e;case Gp:o=11;break e;case Kp:o=14;break e;case Sr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ks(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Jc(t,e,n,r){return t=nn(22,t,r,e),t.elementType=o_,t.lanes=n,t.stateNode={isHidden:!1},t}function bd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ld(0),this.expirationTimes=ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nm(t,e,n,r,s,i,o,a,u){return t=new o2(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dm(i),t}function a2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X1(t){if(!t)return Xr;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(jt(n))return X_(t,n,e)}return e}function J1(t,e,n,r,s,i,o,a,u){return t=Nm(n,r,!0,t,s,i,o,a,u),t.context=X1(null),n=t.current,r=Et(),s=zr(n),i=Zn(r,s),i.callback=e??null,Ur(n,i,s),t.current.lanes=s,Za(t,s,r),Dt(t,r),t}function Zc(t,e,n,r){var s=e.current,i=Et(),o=zr(s);return n=X1(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(s,e,o),t!==null&&(wn(t,s,o,i),wu(t,s,o)),o}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Am(t,e){r0(t,e),(t=t.alternate)&&r0(t,e)}function l2(){return null}var Z1=typeof reportError=="function"?reportError:function(t){console.error(t)};function km(t){this._internalRoot=t}eh.prototype.render=km.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Zc(t,e,null,null)};eh.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){Zc(null,t,null,null)}),e[ir]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=A_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&R_(t)}};function Rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s0(){}function u2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=hc(o);i.call(h)}}var o=J1(e,r,t,0,null,!1,!1,"",s0);return t._reactRootContainer=o,t[ir]=o.current,Ia(t.nodeType===8?t.parentNode:t),Os(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var h=hc(u);a.call(h)}}var u=Nm(t,0,!1,null,null,!1,!1,"",s0);return t._reactRootContainer=u,t[ir]=u.current,Ia(t.nodeType===8?t.parentNode:t),Os(function(){Zc(e,u,n,r)}),u}function nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=hc(o);a.call(u)}}Zc(e,o,t,s)}else o=u2(n,e,t,s,r);return hc(o)}P_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zo(e.pendingLanes);n!==0&&(Xp(e,n|1),Dt(e,Me()),!(he&6)&&(qi=Me()+500,ls()))}break;case 13:Os(function(){var r=or(t,1);if(r!==null){var s=Et();wn(r,t,1,s)}}),Am(t,1)}};Jp=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Et();wn(e,t,134217728,n)}Am(t,134217728)}};N_=function(t){if(t.tag===13){var e=zr(t),n=or(t,e);if(n!==null){var r=Et();wn(n,t,e,r)}Am(t,e)}};A_=function(){return me};k_=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};vf=function(t,e,n){switch(e){case"input":if(hf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=qc(r);if(!s)throw Error(U(90));l_(r),hf(r,s)}}}break;case"textarea":c_(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};y_=Im;v_=Os;var c2={usingClientEntryPoint:!1,Events:[tl,yi,qc,m_,g_,Im]},Mo={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h2={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=__(t),t===null?null:t.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||l2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{zc=ru.inject(h2),Pn=ru}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(e))throw Error(U(200));return a2(t,e,null,n)};Ht.createRoot=function(t,e){if(!Rm(t))throw Error(U(299));var n=!1,r="",s=Z1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nm(t,1,!1,null,null,n,!1,r,s),t[ir]=e.current,Ia(t.nodeType===8?t.parentNode:t),new km(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=__(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return Os(t)};Ht.hydrate=function(t,e,n){if(!th(e))throw Error(U(200));return nh(null,t,e,!0,n)};Ht.hydrateRoot=function(t,e,n){if(!Rm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Z1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J1(e,null,t,1,n??null,s,!1,i,o),t[ir]=e.current,Ia(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new eh(e)};Ht.render=function(t,e,n){if(!th(e))throw Error(U(200));return nh(null,t,e,!1,n)};Ht.unmountComponentAtNode=function(t){if(!th(t))throw Error(U(40));return t._reactRootContainer?(Os(function(){nh(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};Ht.unstable_batchedUpdates=Im;Ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!th(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return nh(t,e,n,!1,r)};Ht.version="18.3.1-next-f1338f8080-20240426";function eE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eE)}catch(t){console.error(t)}}eE(),e_.exports=Ht;var d2=e_.exports,i0=d2;rf.createRoot=i0.createRoot,rf.hydrateRoot=i0.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o0="popstate";function f2(t={}){function e(s,i){let{pathname:o="/",search:a="",hash:u=""}=Ys(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xf("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,h=u.indexOf("#");a=h===-1?u:u.slice(0,h)}return a+"#"+(typeof i=="string"?i:Da(i))}function r(s,i){En(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return m2(e,n,r,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function En(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p2(){return Math.random().toString(36).substring(2,10)}function a0(t,e){return{usr:t.state,key:t.key,idx:e}}function Xf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ys(e):e,state:n,key:e&&e.key||r||p2()}}function Da({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function m2(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",u=null,h=d();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function d(){return(o.state||{idx:null}).idx}function p(){a="POP";let A=d(),E=A==null?null:A-h;h=A,u&&u({action:a,location:C.location,delta:E})}function m(A,E){a="PUSH";let v=Xf(C.location,A,E);n&&n(v,A),h=d()+1;let x=a0(v,h),b=C.createHref(v);try{o.pushState(x,"",b)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(b)}i&&u&&u({action:a,location:C.location,delta:1})}function y(A,E){a="REPLACE";let v=Xf(C.location,A,E);n&&n(v,A),h=d();let x=a0(v,h),b=C.createHref(v);o.replaceState(x,"",b),i&&u&&u({action:a,location:C.location,delta:0})}function T(A){return g2(A)}let C={get action(){return a},get location(){return t(s,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(o0,p),u=A,()=>{s.removeEventListener(o0,p),u=null}},createHref(A){return e(s,A)},createURL:T,encodeLocation(A){let E=T(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(A){return o.go(A)}};return C}function g2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Da(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tE(t,e,n="/"){return y2(t,e,n,!1)}function y2(t,e,n,r){let s=typeof e=="string"?Ys(e):e,i=lr(s.pathname||"/",n);if(i==null)return null;let o=nE(t);v2(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let h=N2(i);a=b2(o[u],h,r)}return a}function nE(t,e=[],n=[],r="",s=!1){let i=(o,a,u=s,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;Ae(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=er([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Ae(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nE(o.children,e,m,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:I2(p,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let h of rE(o.path))i(o,a,!0,h)}),e}function rE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function v2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var x2=/^:[\w-]+$/,w2=3,_2=2,E2=1,T2=10,S2=-2,l0=t=>t==="*";function I2(t,e){let n=t.split("/"),r=n.length;return n.some(l0)&&(r+=S2),e&&(r+=_2),n.filter(s=>!l0(s)).reduce((s,i)=>s+(x2.test(i)?w2:i===""?E2:T2),r)}function C2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function b2(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],h=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=dc({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),m=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=dc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:er([i,p.pathname]),pathnameBase:j2(er([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=er([i,p.pathnameBase]))}return o}function dc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},m)=>{if(d==="*"){let T=a[m]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?h[d]=void 0:h[d]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function P2(t,e=!1,n=!0){En(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function N2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return En(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A2(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ys(t):t;return{pathname:n?n.startsWith("/")?n:k2(n,e):e,search:D2(r),hash:V2(s)}}function k2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sE(t){let e=R2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function iE(t,e,n,r=!1){let s;typeof t=="string"?s=Ys(t):(s={...t},Ae(!s.pathname||!s.pathname.includes("?"),Nd("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Nd("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Nd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}a=p>=0?e[p]:"/"}let u=A2(s,a),h=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}var er=t=>t.join("/").replace(/\/\/+/g,"/"),j2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oE=["POST","PUT","PATCH","DELETE"];new Set(oE);var L2=["GET",...oE];new Set(L2);var io=j.createContext(null);io.displayName="DataRouter";var rh=j.createContext(null);rh.displayName="DataRouterState";j.createContext(!1);var aE=j.createContext({isTransitioning:!1});aE.displayName="ViewTransition";var O2=j.createContext(new Map);O2.displayName="Fetchers";var F2=j.createContext(null);F2.displayName="Await";var Un=j.createContext(null);Un.displayName="Navigation";var rl=j.createContext(null);rl.displayName="Location";var mr=j.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var jm=j.createContext(null);jm.displayName="RouteError";function U2(t,{relative:e}={}){Ae(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Un),{hash:s,pathname:i,search:o}=il(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:er([n,i])),r.createHref({pathname:a,search:o,hash:s})}function sl(){return j.useContext(rl)!=null}function gr(){return Ae(sl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(rl).location}var lE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uE(t){j.useContext(Un).static||j.useLayoutEffect(t)}function oo(){let{isDataRoute:t}=j.useContext(mr);return t?Z2():B2()}function B2(){Ae(sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(io),{basename:e,navigator:n}=j.useContext(Un),{matches:r}=j.useContext(mr),{pathname:s}=gr(),i=JSON.stringify(sE(r)),o=j.useRef(!1);return uE(()=>{o.current=!0}),j.useCallback((u,h={})=>{if(En(o.current,lE),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=iE(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:er([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,s,t])}j.createContext(null);function il(t,{relative:e}={}){let{matches:n}=j.useContext(mr),{pathname:r}=gr(),s=JSON.stringify(sE(n));return j.useMemo(()=>iE(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function z2(t,e){return cE(t,e)}function cE(t,e,n,r,s){var v;Ae(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(Un),{matches:o}=j.useContext(mr),a=o[o.length-1],u=a?a.params:{},h=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let x=p&&p.path||"";hE(h,!p||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let m=gr(),y;if(e){let x=typeof e=="string"?Ys(e):e;Ae(d==="/"||((v=x.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),y=x}else y=m;let T=y.pathname||"/",C=T;if(d!=="/"){let x=d.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(x.length).join("/")}let A=tE(t,{pathname:C});En(p||A!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),En(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=G2(A&&A.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:er([d,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:er([d,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r,s);return e&&E?j.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function $2(){let t=J2(),e=M2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,o)}var H2=j.createElement($2,null),W2=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(mr.Provider,{value:this.props.routeContext},j.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q2({routeContext:t,match:e,children:n}){let r=j.useContext(io);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(mr.Provider,{value:t},n)}function G2(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ae(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let a=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:p,errors:m}=n,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,p)=>{let m,y=!1,T=null,C=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||H2,a&&(u<0&&p===0?(hE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):u===p&&(y=!0,C=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,p+1)),E=()=>{let v;return m?v=T:y?v=C:d.route.Component?v=j.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=h,j.createElement(q2,{match:d,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(W2,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):E()},null)}function Dm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K2(t){let e=j.useContext(io);return Ae(e,Dm(t)),e}function Q2(t){let e=j.useContext(rh);return Ae(e,Dm(t)),e}function Y2(t){let e=j.useContext(mr);return Ae(e,Dm(t)),e}function Vm(t){let e=Y2(t),n=e.matches[e.matches.length-1];return Ae(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function X2(){return Vm("useRouteId")}function J2(){var r;let t=j.useContext(jm),e=Q2("useRouteError"),n=Vm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Z2(){let{router:t}=K2("useNavigate"),e=Vm("useNavigate"),n=j.useRef(!1);return uE(()=>{n.current=!0}),j.useCallback(async(s,i={})=>{En(n.current,lE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var u0={};function hE(t,e,n){!e&&!u0[t]&&(u0[t]=!0,En(!1,n))}j.memo(eN);function eN({routes:t,future:e,state:n,unstable_onError:r}){return cE(t,void 0,n,r,e)}function Hn(t){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ae(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=j.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ys(n));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:m="default"}=n,y=j.useMemo(()=>{let T=lr(u,o);return T==null?null:{location:{pathname:T,search:h,hash:d,state:p,key:m},navigationType:r}},[o,u,h,d,p,m,r]);return En(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:j.createElement(Un.Provider,{value:a},j.createElement(rl.Provider,{children:e,value:y}))}function nN({children:t,location:e}){return z2(Jf(t),e)}function Jf(t,e=[]){let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Jf(r.props.children,i));return}Ae(r.type===Hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jf(r.props.children,i)),n.push(o)}),n}var bu="get",Pu="application/x-www-form-urlencoded";function sh(t){return t!=null&&typeof t.tagName=="string"}function rN(t){return sh(t)&&t.tagName.toLowerCase()==="button"}function sN(t){return sh(t)&&t.tagName.toLowerCase()==="form"}function iN(t){return sh(t)&&t.tagName.toLowerCase()==="input"}function oN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aN(t,e){return t.button===0&&(!e||e==="_self")&&!oN(t)}var su=null;function lN(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var uN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ad(t){return t!=null&&!uN.has(t)?(En(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):t}function cN(t,e){let n,r,s,i,o;if(sN(t)){let a=t.getAttribute("action");r=a?lr(a,e):null,n=t.getAttribute("method")||bu,s=Ad(t.getAttribute("enctype"))||Pu,i=new FormData(t)}else if(rN(t)||iN(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?lr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||bu,s=Ad(t.getAttribute("formenctype"))||Ad(a.getAttribute("enctype"))||Pu,i=new FormData(a,t),!lN()){let{name:h,type:d,value:p}=t;if(d==="image"){let m=h?`${h}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else h&&i.append(h,p)}}else{if(sh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bu,r=null,s=Pu,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&lr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await dN(i,n);return o.links?o.links():[]}return[]}));return vN(r.flat(1).filter(fN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function c0(t,e,n,r,s,i){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,a=(u,h)=>{var d;return n[h].pathname!==u.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>o(u,h)||a(u,h)):i==="data"?e.filter((u,h)=>{var p;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,h)||a(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function mN(t,e,{includeHydrateFallback:n}={}){return gN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function gN(t){return[...new Set(t)]}function yN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(yN(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function dE(){let t=j.useContext(io);return Mm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xN(){let t=j.useContext(rh);return Mm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lm=j.createContext(void 0);Lm.displayName="FrameworkContext";function fE(){let t=j.useContext(Lm);return Mm(t,"You must render this element inside a <HydratedRouter> element"),t}function wN(t,e){let n=j.useContext(Lm),[r,s]=j.useState(!1),[i,o]=j.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,m=j.useRef(null);j.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=E=>{E.forEach(v=>{o(v.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return m.current&&A.observe(m.current),()=>{A.disconnect()}}},[t]),j.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let y=()=>{s(!0)},T=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:Lo(a,y),onBlur:Lo(u,T),onMouseEnter:Lo(h,y),onMouseLeave:Lo(d,T),onTouchStart:Lo(p,y)}]:[!1,m,{}]}function Lo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _N({page:t,...e}){let{router:n}=dE(),r=j.useMemo(()=>tE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(TN,{page:t,matches:r,...e}):null}function EN(t){let{manifest:e,routeModules:n}=fE(),[r,s]=j.useState([]);return j.useEffect(()=>{let i=!1;return pN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function TN({page:t,matches:e,...n}){let r=gr(),{manifest:s,routeModules:i}=fE(),{basename:o}=dE(),{loaderData:a,matches:u}=xN(),h=j.useMemo(()=>c0(t,e,u,s,r,"data"),[t,e,u,s,r]),d=j.useMemo(()=>c0(t,e,u,s,r,"assets"),[t,e,u,s,r]),p=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,C=!1;if(e.forEach(E=>{var x;let v=s.routes[E.route.id];!v||!v.hasLoader||(!h.some(b=>b.route.id===E.route.id)&&E.route.id in a&&((x=i[E.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?C=!0:T.add(E.route.id))}),T.size===0)return[];let A=hN(t,o,"data");return C&&T.size>0&&A.searchParams.set("_routes",e.filter(E=>T.has(E.route.id)).map(E=>E.route.id).join(",")),[A.pathname+A.search]},[o,a,r,s,h,e,t,i]),m=j.useMemo(()=>mN(d,s),[d,s]),y=EN(d);return j.createElement(j.Fragment,null,p.map(T=>j.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),m.map(T=>j.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),y.map(({key:T,link:C})=>j.createElement("link",{key:T,nonce:n.nonce,...C})))}function SN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pE&&(window.__reactRouterVersion="7.8.2")}catch{}function IN({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=f2({window:n,v5Compat:!0}));let s=r.current,[i,o]=j.useState({action:s.action,location:s.location}),a=j.useCallback(u=>{j.startTransition(()=>o(u))},[o]);return j.useLayoutEffect(()=>s.listen(a),[s,a]),j.createElement(tN,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var mE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:h,preventScrollReset:d,viewTransition:p,...m},y){let{basename:T}=j.useContext(Un),C=typeof h=="string"&&mE.test(h),A,E=!1;if(typeof h=="string"&&C&&(A=h,pE))try{let S=new URL(window.location.href),P=h.startsWith("//")?new URL(S.protocol+h):new URL(h),k=lr(P.pathname,T);P.origin===S.origin&&k!=null?h=k+P.search+P.hash:E=!0}catch{En(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=U2(h,{relative:s}),[x,b,V]=wN(r,m),L=PN(h,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:p});function I(S){e&&e(S),S.defaultPrevented||L(S)}let w=j.createElement("a",{...m,...V,href:A||v,onClick:E||i?e:I,ref:SN(y,b),target:u,"data-discover":!C&&n==="render"?"true":void 0});return x&&!C?j.createElement(j.Fragment,null,w,j.createElement(_N,{page:v})):w});Nt.displayName="Link";var hn=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...h},d){let p=il(o,{relative:h.relative}),m=gr(),y=j.useContext(rh),{navigator:T,basename:C}=j.useContext(Un),A=y!=null&&jN(p)&&a===!0,E=T.encodeLocation?T.encodeLocation(p).pathname:p.pathname,v=m.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),x=x?x.toLowerCase():null,E=E.toLowerCase()),x&&C&&(x=lr(x,C)||x);const b=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let V=v===E||!s&&v.startsWith(E)&&v.charAt(b)==="/",L=x!=null&&(x===E||!s&&x.startsWith(E)&&x.charAt(E.length)==="/"),I={isActive:V,isPending:L,isTransitioning:A},w=V?e:void 0,S;typeof r=="function"?S=r(I):S=[r,V?"active":null,L?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(I):i;return j.createElement(Nt,{...h,"aria-current":w,className:S,ref:d,style:P,to:o,viewTransition:a},typeof u=="function"?u(I):u)});hn.displayName="NavLink";var CN=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=bu,action:a,onSubmit:u,relative:h,preventScrollReset:d,viewTransition:p,...m},y)=>{let T=kN(),C=RN(a,{relative:h}),A=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&mE.test(a),v=x=>{if(u&&u(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,V=(b==null?void 0:b.getAttribute("formmethod"))||o;T(b||x.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:s,state:i,relative:h,preventScrollReset:d,viewTransition:p})};return j.createElement("form",{ref:y,method:A,action:C,onSubmit:r?u:v,...m,"data-discover":!E&&t==="render"?"true":void 0})});CN.displayName="Form";function bN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gE(t){let e=j.useContext(io);return Ae(e,bN(t)),e}function PN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=oo(),u=gr(),h=il(t,{relative:i});return j.useCallback(d=>{if(aN(d,e)){d.preventDefault();let p=n!==void 0?n:Da(u)===Da(h);a(t,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,a,h,n,r,e,t,s,i,o])}var NN=0,AN=()=>`__${String(++NN)}__`;function kN(){let{router:t}=gE("useSubmit"),{basename:e}=j.useContext(Un),n=X2();return j.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:u,body:h}=cN(r,e);if(s.navigate===!1){let d=s.fetcherKey||AN();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function RN(t,{relative:e}={}){let{basename:n}=j.useContext(Un),r=j.useContext(mr);Ae(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...il(t||".",{relative:e})},o=gr();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let d=a.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:er([n,i.pathname])),Da(i)}function jN(t,{relative:e}={}){let n=j.useContext(aE);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gE("useViewTransitionState"),s=il(t,{relative:e});if(!n.isTransitioning)return!1;let i=lr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=lr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dc(s.pathname,o)!=null||dc(s.pathname,i)!=null}const yE=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ih=j.createContext({}),Om=j.createContext(null),oh=typeof document<"u",DN=oh?j.useLayoutEffect:j.useEffect,vE=j.createContext({strict:!1}),Fm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),VN="framerAppearId",xE="data-"+Fm(VN);function MN(t,e,n,r){const{visualElement:s}=j.useContext(ih),i=j.useContext(vE),o=j.useContext(Om),a=j.useContext(yE).reducedMotion,u=j.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const h=u.current;j.useInsertionEffect(()=>{h&&h.update(n,o)});const d=j.useRef(!!(n[xE]&&!window.HandoffComplete));return DN(()=>{h&&(h.render(),d.current&&h.animationState&&h.animationState.animateChanges())}),j.useEffect(()=>{h&&(h.updateFeatures(),!d.current&&h.animationState&&h.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),h}function Si(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LN(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Si(n)&&(n.current=r))},[e])}function Va(t){return typeof t=="string"||Array.isArray(t)}function ah(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Um=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bm=["initial",...Um];function lh(t){return ah(t.animate)||Bm.some(e=>Va(t[e]))}function wE(t){return!!(lh(t)||t.variants)}function ON(t,e){if(lh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Va(n)?n:void 0,animate:Va(r)?r:void 0}}return t.inherit!==!1?e:{}}function FN(t){const{initial:e,animate:n}=ON(t,j.useContext(ih));return j.useMemo(()=>({initial:e,animate:n}),[h0(e),h0(n)])}function h0(t){return Array.isArray(t)?t.join(" "):t}const d0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ma={};for(const t in d0)Ma[t]={isEnabled:e=>d0[t].some(n=>!!e[n])};function UN(t){for(const e in t)Ma[e]={...Ma[e],...t[e]}}const _E=j.createContext({}),EE=j.createContext({}),BN=Symbol.for("motionComponentSymbol");function zN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&UN(t);function i(a,u){let h;const d={...j.useContext(yE),...a,layoutId:$N(a)},{isStatic:p}=d,m=FN(a),y=r(a,p);if(!p&&oh){m.visualElement=MN(s,y,d,e);const T=j.useContext(EE),C=j.useContext(vE).strict;m.visualElement&&(h=m.visualElement.loadFeatures(d,C,t,T))}return j.createElement(ih.Provider,{value:m},h&&m.visualElement?j.createElement(h,{visualElement:m.visualElement,...d}):null,n(s,a,LN(y,m.visualElement,u),y,p,m.visualElement))}const o=j.forwardRef(i);return o[BN]=s,o}function $N({layoutId:t}){const e=j.useContext(_E).id;return e&&t!==void 0?e+"-"+t:t}function HN(t){function e(r,s={}){return zN(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const WN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zm(t){return typeof t!="string"||t.includes("-")?!1:!!(WN.indexOf(t)>-1||/[A-Z]/.test(t))}const fc={};function qN(t){Object.assign(fc,t)}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xs=new Set(ol);function TE(t,{layout:e,layoutId:n}){return Xs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fc[t]||t==="opacity")}const Vt=t=>!!(t&&t.getVelocity),GN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KN=ol.length;function QN(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<KN;o++){const a=ol[o];if(t[a]!==void 0){const u=GN[a]||a;i+=`${u}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const SE=t=>e=>typeof e=="string"&&e.startsWith(t),IE=SE("--"),Zf=SE("var(--"),YN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,XN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Jr=(t,e,n)=>Math.min(Math.max(n,t),e),Js={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},oa={...Js,transform:t=>Jr(0,1,t)},iu={...Js,default:1},aa=t=>Math.round(t*1e5)/1e5,uh=/(-)?([\d]*\.?[\d])+/g,CE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,JN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function al(t){return typeof t=="string"}const ll=t=>({test:e=>al(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tr=ll("deg"),An=ll("%"),K=ll("px"),ZN=ll("vh"),eA=ll("vw"),f0={...An,parse:t=>An.parse(t)/100,transform:t=>An.transform(t*100)},p0={...Js,transform:Math.round},bE={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,size:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:iu,scaleX:iu,scaleY:iu,scaleZ:iu,skew:Tr,skewX:Tr,skewY:Tr,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:oa,originX:f0,originY:f0,originZ:K,zIndex:p0,fillOpacity:oa,strokeOpacity:oa,numOctaves:p0};function $m(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let u=!1,h=!1,d=!0;for(const p in e){const m=e[p];if(IE(p)){i[p]=m;continue}const y=bE[p],T=XN(m,y);if(Xs.has(p)){if(u=!0,o[p]=T,!d)continue;m!==(y.default||0)&&(d=!1)}else p.startsWith("origin")?(h=!0,a[p]=T):s[p]=T}if(e.transform||(u||r?s.transform=QN(t.transform,n,d,r):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=a;s.transformOrigin=`${p} ${m} ${y}`}}const Hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PE(t,e,n){for(const r in e)!Vt(e[r])&&!TE(r,n)&&(t[r]=e[r])}function tA({transformTemplate:t},e,n){return j.useMemo(()=>{const r=Hm();return $m(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function nA(t,e,n){const r=t.style||{},s={};return PE(s,r,t),Object.assign(s,tA(t,e,n)),t.transformValues?t.transformValues(s):s}function rA(t,e,n){const r={},s=nA(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const sA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sA.has(t)}let NE=t=>!pc(t);function iA(t){t&&(NE=e=>e.startsWith("on")?!pc(e):t(e))}try{iA(require("@emotion/is-prop-valid").default)}catch{}function oA(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(NE(s)||n===!0&&pc(s)||!e&&!pc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function m0(t,e,n){return typeof t=="string"?t:K.transform(e+n*t)}function aA(t,e,n){const r=m0(e,t.x,t.width),s=m0(n,t.y,t.height);return`${r} ${s}`}const lA={offset:"stroke-dashoffset",array:"stroke-dasharray"},uA={offset:"strokeDashoffset",array:"strokeDasharray"};function cA(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?lA:uA;t[i.offset]=K.transform(-r);const o=K.transform(e),a=K.transform(n);t[i.array]=`${o} ${a}`}function Wm(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...h},d,p,m){if($m(t,h,d,m),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:T,dimensions:C}=t;y.transform&&(C&&(T.transform=y.transform),delete y.transform),C&&(s!==void 0||i!==void 0||T.transform)&&(T.transformOrigin=aA(C,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&cA(y,o,a,u,!1)}const AE=()=>({...Hm(),attrs:{}}),qm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hA(t,e,n,r){const s=j.useMemo(()=>{const i=AE();return Wm(i,e,{enableHardwareAcceleration:!1},qm(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};PE(i,t.style,t),s.style={...i,...s.style}}return s}function dA(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(zm(n)?hA:rA)(r,i,o,n),d={...oA(r,typeof n=="string",t),...u,ref:s},{children:p}=r,m=j.useMemo(()=>Vt(p)?p.get():p,[p]);return j.createElement(n,{...d,children:m})}}function kE(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const RE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jE(t,e,n,r){kE(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(RE.has(s)?s:Fm(s),e.attrs[s])}function Gm(t,e){const{style:n}=t,r={};for(const s in n)(Vt(n[s])||e.style&&Vt(e.style[s])||TE(s,t))&&(r[s]=n[s]);return r}function DE(t,e){const n=Gm(t,e);for(const r in t)if(Vt(t[r])||Vt(e[r])){const s=ol.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Km(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function fA(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const mc=t=>Array.isArray(t),pA=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mA=t=>mc(t)?t[t.length-1]||0:t;function Nu(t){const e=Vt(t)?t.get():t;return pA(e)?e.toValue():e}function gA({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:yA(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const VE=t=>(e,n)=>{const r=j.useContext(ih),s=j.useContext(Om),i=()=>gA(t,e,r,s);return n?i():fA(i)};function yA(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Nu(i[m]);let{initial:o,animate:a}=t;const u=lh(t),h=wE(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const p=d?a:o;return p&&typeof p!="boolean"&&!ah(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const T=Km(t,y);if(!T)return;const{transitionEnd:C,transition:A,...E}=T;for(const v in E){let x=E[v];if(Array.isArray(x)){const b=d?x.length-1:0;x=x[b]}x!==null&&(s[v]=x)}for(const v in C)s[v]=C[v]}),s}const Le=t=>t;class g0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function vA(t){let e=new g0,n=new g0,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(u,h=!1,d=!1)=>{const p=d&&s,m=p?e:n;return h&&o.add(u),m.add(u)&&p&&s&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let h=0;h<r;h++){const d=e.order[h];d(u),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(u))}};return a}const ou=["prepare","read","update","preRender","render","postRender"],xA=40;function wA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ou.reduce((p,m)=>(p[m]=vA(()=>n=!0),p),{}),o=p=>i[p].process(s),a=()=>{const p=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,xA),1),s.timestamp=p,s.isProcessing=!0,ou.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},u=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:ou.reduce((p,m)=>{const y=i[m];return p[m]=(T,C=!1,A=!1)=>(n||u(),y.schedule(T,C,A)),p},{}),cancel:p=>ou.forEach(m=>i[m].cancel(p)),state:s,steps:i}}const{schedule:Te,cancel:ur,state:ht,steps:kd}=wA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Le,!0),_A={useVisualState:VE({scrapeMotionValuesFromProps:DE,createRenderState:AE,onMount:(t,e,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{Wm(n,r,{enableHardwareAcceleration:!1},qm(e.tagName),t.transformTemplate),jE(e,n)})}})},EA={useVisualState:VE({scrapeMotionValuesFromProps:Gm,createRenderState:Hm})};function TA(t,{forwardMotionProps:e=!1},n,r){return{...zm(t)?_A:EA,preloadedFeatures:n,useRender:dA(e),createVisualElement:r,Component:t}}function Qn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const ME=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ch(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const SA=t=>e=>ME(e)&&t(e,ch(e));function tr(t,e,n,r){return Qn(t,e,SA(n),r)}const IA=(t,e)=>n=>e(t(n)),Hr=(...t)=>t.reduce(IA);function LE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const y0=LE("dragHorizontal"),v0=LE("dragVertical");function OE(t){let e=!1;if(t==="y")e=v0();else if(t==="x")e=y0();else{const n=y0(),r=v0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function FE(){const t=OE(!0);return t?(t(),!1):!0}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}function x0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||FE())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Te.update(()=>a[r](i,o))};return tr(t.current,n,s,{passive:!t.getProps()[r]})}class CA extends us{mount(){this.unmount=Hr(x0(this.node,!0),x0(this.node,!1))}unmount(){}}class bA extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hr(Qn(this.node.current,"focus",()=>this.onFocus()),Qn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UE=(t,e)=>e?t===e?!0:UE(t,e.parentElement):!1;function Rd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ch(n))}class PA extends us{constructor(){super(...arguments),this.removeStartListeners=Le,this.removeEndListeners=Le,this.removeAccessibleListeners=Le,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=tr(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:d,globalTapTarget:p}=this.node.getProps();Te.update(()=>{!p&&!UE(this.node.current,a.target)?d&&d(a,u):h&&h(a,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=tr(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Hr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Rd("up",(u,h)=>{const{onTap:d}=this.node.getProps();d&&Te.update(()=>d(u,h))})};this.removeEndListeners(),this.removeEndListeners=Qn(this.node.current,"keyup",o),Rd("down",(a,u)=>{this.startPress(a,u)})},n=Qn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Rd("cancel",(i,o)=>this.cancelPress(i,o))},s=Qn(this.node.current,"blur",r);this.removeAccessibleListeners=Hr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=tr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ep=new WeakMap,jd=new WeakMap,NA=t=>{const e=ep.get(t.target);e&&e(t)},AA=t=>{t.forEach(NA)};function kA({root:t,...e}){const n=t||document;jd.has(n)||jd.set(n,{});const r=jd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(AA,{root:t,...e})),r[s]}function RA(t,e,n){const r=kA(e);return ep.set(t,n),r.observe(t),()=>{ep.delete(t),r.unobserve(t)}}const jA={some:0,all:1};class DA extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jA[s]},a=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=h?d:p;m&&m(u)};return RA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VA(e,n))&&this.startObserver()}unmount(){}}function VA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const MA={inView:{Feature:DA},tap:{Feature:PA},focus:{Feature:bA},hover:{Feature:CA}};function BE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function LA(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function OA(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function hh(t,e,n){const r=t.getProps();return Km(r,e,n!==void 0?n:r.custom,LA(t),OA(t))}let Qm=Le;const Rs=t=>t*1e3,nr=t=>t/1e3,FA={current:!1},zE=t=>Array.isArray(t)&&typeof t[0]=="number";function $E(t){return!!(!t||typeof t=="string"&&HE[t]||zE(t)||Array.isArray(t)&&t.every($E))}const Ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,HE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function WE(t){if(t)return zE(t)?Ho(t):Array.isArray(t)?t.map(WE):HE[t]}function UA(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:u}={}){const h={[e]:n};u&&(h.offset=u);const d=WE(a);return Array.isArray(d)&&(h.easing=d),t.animate(h,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function BA(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const qE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zA=1e-7,$A=12;function HA(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=qE(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>zA&&++a<$A);return o}function ul(t,e,n,r){if(t===e&&n===r)return Le;const s=i=>HA(i,0,1,t,n);return i=>i===0||i===1?i:qE(s(i),e,r)}const WA=ul(.42,0,1,1),qA=ul(0,0,.58,1),GE=ul(.42,0,.58,1),GA=t=>Array.isArray(t)&&typeof t[0]!="number",KE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QE=t=>e=>1-t(1-e),Ym=t=>1-Math.sin(Math.acos(t)),YE=QE(Ym),KA=KE(Ym),XE=ul(.33,1.53,.69,.99),Xm=QE(XE),QA=KE(Xm),YA=t=>(t*=2)<1?.5*Xm(t):.5*(2-Math.pow(2,-10*(t-1))),XA={linear:Le,easeIn:WA,easeInOut:GE,easeOut:qA,circIn:Ym,circInOut:KA,circOut:YE,backIn:Xm,backInOut:QA,backOut:XE,anticipate:YA},w0=t=>{if(Array.isArray(t)){Qm(t.length===4);const[e,n,r,s]=t;return ul(e,n,r,s)}else if(typeof t=="string")return XA[t];return t},Jm=(t,e)=>n=>!!(al(n)&&JN.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),JE=(t,e,n)=>r=>{if(!al(r))return r;const[s,i,o,a]=r.match(uh);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JA=t=>Jr(0,255,t),Dd={...Js,transform:t=>Math.round(JA(t))},Ps={test:Jm("rgb","red"),parse:JE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dd.transform(t)+", "+Dd.transform(e)+", "+Dd.transform(n)+", "+aa(oa.transform(r))+")"};function ZA(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const tp={test:Jm("#"),parse:ZA,transform:Ps.transform},Ii={test:Jm("hsl","hue"),parse:JE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+An.transform(aa(e))+", "+An.transform(aa(n))+", "+aa(oa.transform(r))+")"},wt={test:t=>Ps.test(t)||tp.test(t)||Ii.test(t),parse:t=>Ps.test(t)?Ps.parse(t):Ii.test(t)?Ii.parse(t):tp.parse(t),transform:t=>al(t)?t:t.hasOwnProperty("red")?Ps.transform(t):Ii.transform(t)},Pe=(t,e,n)=>-n*t+n*e+t;function Vd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ek({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=Vd(u,a,t+1/3),i=Vd(u,a,t),o=Vd(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Md=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},tk=[tp,Ps,Ii],nk=t=>tk.find(e=>e.test(t));function _0(t){const e=nk(t);let n=e.parse(t);return e===Ii&&(n=ek(n)),n}const ZE=(t,e)=>{const n=_0(t),r=_0(e),s={...n};return i=>(s.red=Md(n.red,r.red,i),s.green=Md(n.green,r.green,i),s.blue=Md(n.blue,r.blue,i),s.alpha=Pe(n.alpha,r.alpha,i),Ps.transform(s))};function rk(t){var e,n;return isNaN(t)&&al(t)&&(((e=t.match(uh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CE))===null||n===void 0?void 0:n.length)||0)>0}const eT={regex:YN,countKey:"Vars",token:"${v}",parse:Le},tT={regex:CE,countKey:"Colors",token:"${c}",parse:wt.parse},nT={regex:uh,countKey:"Numbers",token:"${n}",parse:Js.parse};function Ld(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function gc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ld(n,eT),Ld(n,tT),Ld(n,nT),n}function rT(t){return gc(t).values}function sT(t){const{values:e,numColors:n,numVars:r,tokenised:s}=gc(t),i=e.length;return o=>{let a=s;for(let u=0;u<i;u++)u<r?a=a.replace(eT.token,o[u]):u<r+n?a=a.replace(tT.token,wt.transform(o[u])):a=a.replace(nT.token,aa(o[u]));return a}}const sk=t=>typeof t=="number"?0:t;function ik(t){const e=rT(t);return sT(t)(e.map(sk))}const Zr={test:rk,parse:rT,createTransformer:sT,getAnimatableNone:ik},iT=(t,e)=>n=>`${n>0?e:t}`;function oT(t,e){return typeof t=="number"?n=>Pe(t,e,n):wt.test(t)?ZE(t,e):t.startsWith("var(")?iT(t,e):lT(t,e)}const aT=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>oT(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},ok=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=oT(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},lT=(t,e)=>{const n=Zr.createTransformer(e),r=gc(t),s=gc(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Hr(aT(r.values,s.values),n):iT(t,e)},La=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},E0=(t,e)=>n=>Pe(t,e,n);function ak(t){return typeof t=="number"?E0:typeof t=="string"?wt.test(t)?ZE:lT:Array.isArray(t)?aT:typeof t=="object"?ok:E0}function lk(t,e,n){const r=[],s=n||ak(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Le:e;a=Hr(u,a)}r.push(a)}return r}function uT(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Qm(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lk(e,r,s),a=o.length,u=h=>{let d=0;if(a>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=La(t[d],t[d+1],h);return o[d](p)};return n?h=>u(Jr(t[0],t[i-1],h)):u}function uk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=La(0,e,r);t.push(Pe(n,1,s))}}function ck(t){const e=[0];return uk(e,t.length-1),e}function hk(t,e){return t.map(n=>n*e)}function dk(t,e){return t.map(()=>e||GE).splice(0,t.length-1)}function yc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=GA(r)?r.map(w0):w0(r),i={done:!1,value:e[0]},o=hk(n&&n.length===e.length?n:ck(e),t),a=uT(o,e,{ease:Array.isArray(s)?s:dk(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}function cT(t,e){return e?t*(1e3/e):0}const fk=5;function hT(t,e,n){const r=Math.max(e-fk,0);return cT(n-t(r),e-r)}const Od=.001,pk=.01,mk=10,gk=.05,yk=1;function vk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Jr(gk,yk,o),t=Jr(pk,mk,nr(t)),o<1?(s=h=>{const d=h*o,p=d*t,m=d-n,y=np(h,o),T=Math.exp(-p);return Od-m/y*T},i=h=>{const p=h*o*t,m=p*n+n,y=Math.pow(o,2)*Math.pow(h,2)*t,T=Math.exp(-p),C=np(Math.pow(h,2),o);return(-s(h)+Od>0?-1:1)*((m-y)*T)/C}):(s=h=>{const d=Math.exp(-h*t),p=(h-n)*t+1;return-Od+d*p},i=h=>{const d=Math.exp(-h*t),p=(n-h)*(t*t);return d*p});const a=5/t,u=wk(s,i,a);if(t=Rs(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const xk=12;function wk(t,e,n){let r=n;for(let s=1;s<xk;s++)r=r-t(r)/e(r);return r}function np(t,e){return t*Math.sqrt(1-e*e)}const _k=["duration","bounce"],Ek=["stiffness","damping","mass"];function T0(t,e){return e.some(n=>t[n]!==void 0)}function Tk(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!T0(t,Ek)&&T0(t,_k)){const n=vk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function dT({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:u,mass:h,duration:d,velocity:p,isResolvedFromDuration:m}=Tk({...r,velocity:-nr(r.velocity||0)}),y=p||0,T=u/(2*Math.sqrt(a*h)),C=i-s,A=nr(Math.sqrt(a/h)),E=Math.abs(C)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let v;if(T<1){const x=np(A,T);v=b=>{const V=Math.exp(-T*A*b);return i-V*((y+T*A*C)/x*Math.sin(x*b)+C*Math.cos(x*b))}}else if(T===1)v=x=>i-Math.exp(-A*x)*(C+(y+A*C)*x);else{const x=A*Math.sqrt(T*T-1);v=b=>{const V=Math.exp(-T*A*b),L=Math.min(x*b,300);return i-V*((y+T*A*C)*Math.sinh(L)+x*C*Math.cosh(L))/x}}return{calculatedDuration:m&&d||null,next:x=>{const b=v(x);if(m)o.done=x>=d;else{let V=y;x!==0&&(T<1?V=hT(v,x,b):V=0);const L=Math.abs(V)<=n,I=Math.abs(i-b)<=e;o.done=L&&I}return o.value=o.done?i:b,o}}}function S0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:h=.5,restSpeed:d}){const p=t[0],m={done:!1,value:p},y=w=>a!==void 0&&w<a||u!==void 0&&w>u,T=w=>a===void 0?u:u===void 0||Math.abs(a-w)<Math.abs(u-w)?a:u;let C=n*e;const A=p+C,E=o===void 0?A:o(A);E!==A&&(C=E-p);const v=w=>-C*Math.exp(-w/r),x=w=>E+v(w),b=w=>{const S=v(w),P=x(w);m.done=Math.abs(S)<=h,m.value=m.done?E:P};let V,L;const I=w=>{y(m.value)&&(V=w,L=dT({keyframes:[m.value,T(m.value)],velocity:hT(x,w,m.value),damping:s,stiffness:i,restDelta:h,restSpeed:d}))};return I(0),{calculatedDuration:null,next:w=>{let S=!1;return!L&&V===void 0&&(S=!0,b(w),I(w)),V!==void 0&&w>V?L.next(w-V):(!S&&b(w),m)}}}const Sk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>ur(e),now:()=>ht.isProcessing?ht.timestamp:performance.now()}},I0=2e4;function C0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<I0;)e+=n,r=t.next(e);return e>=I0?1/0:e}const Ik={decay:S0,inertia:S0,tween:yc,keyframes:yc,spring:dT};function vc({autoplay:t=!0,delay:e=0,driver:n=Sk,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:h,onComplete:d,onUpdate:p,...m}){let y=1,T=!1,C,A;const E=()=>{A=new Promise(X=>{C=X})};E();let v;const x=Ik[s]||yc;let b;x!==yc&&typeof r[0]!="number"&&(b=uT([0,100],r,{clamp:!1}),r=[0,100]);const V=x({...m,keyframes:r});let L;a==="mirror"&&(L=x({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let I="idle",w=null,S=null,P=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=C0(V));const{calculatedDuration:k}=V;let R=1/0,N=1/0;k!==null&&(R=k+o,N=R*(i+1)-o);let fe=0;const te=X=>{if(S===null)return;y>0&&(S=Math.min(S,X)),y<0&&(S=Math.min(X-N/y,S)),w!==null?fe=w:fe=Math.round(X-S)*y;const ce=fe-e*(y>=0?1:-1),Se=y>=0?ce<0:ce>N;fe=Math.max(ce,0),I==="finished"&&w===null&&(fe=N);let qt=fe,Gt=V;if(i){const mo=Math.min(fe,N)/R;let Bn=Math.floor(mo),Qt=mo%1;!Qt&&mo>=1&&(Qt=1),Qt===1&&Bn--,Bn=Math.min(Bn,i+1),!!(Bn%2)&&(a==="reverse"?(Qt=1-Qt,o&&(Qt-=o/R)):a==="mirror"&&(Gt=L)),qt=Jr(0,1,Qt)*R}const yt=Se?{done:!1,value:r[0]}:Gt.next(qt);b&&(yt.value=b(yt.value));let{done:Kt}=yt;!Se&&k!==null&&(Kt=y>=0?fe>=N:fe<=0);const Dh=w===null&&(I==="finished"||I==="running"&&Kt);return p&&p(yt.value),Dh&&z(),yt},ve=()=>{v&&v.stop(),v=void 0},Ge=()=>{I="idle",ve(),C(),E(),S=P=null},z=()=>{I="finished",d&&d(),ve(),C()},q=()=>{if(T)return;v||(v=n(te));const X=v.now();u&&u(),w!==null?S=X-w:(!S||I==="finished")&&(S=X),I==="finished"&&E(),P=S,w=null,I="running",v.start()};t&&q();const Z={then(X,ce){return A.then(X,ce)},get time(){return nr(fe)},set time(X){X=Rs(X),fe=X,w!==null||!v||y===0?w=X:S=v.now()-X/y},get duration(){const X=V.calculatedDuration===null?C0(V):V.calculatedDuration;return nr(X)},get speed(){return y},set speed(X){X===y||!v||(y=X,Z.time=nr(fe))},get state(){return I},play:q,pause:()=>{I="paused",w=fe},stop:()=>{T=!0,I!=="idle"&&(I="idle",h&&h(),Ge())},cancel:()=>{P!==null&&te(P),Ge()},complete:()=>{I="finished"},sample:X=>(S=0,te(X))};return Z}function Ck(t){let e;return()=>(e===void 0&&(e=t()),e)}const bk=Ck(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pk=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),au=10,Nk=2e4,Ak=(t,e)=>e.type==="spring"||t==="backgroundColor"||!$E(e.ease);function kk(t,e,{onUpdate:n,onComplete:r,...s}){if(!(bk()&&Pk.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,u,h=!1;const d=()=>{u=new Promise(x=>{a=x})};d();let{keyframes:p,duration:m=300,ease:y,times:T}=s;if(Ak(e,s)){const x=vc({...s,repeat:0,delay:0});let b={done:!1,value:p[0]};const V=[];let L=0;for(;!b.done&&L<Nk;)b=x.sample(L),V.push(b.value),L+=au;T=void 0,p=V,m=L-au,y="linear"}const C=UA(t.owner.current,e,p,{...s,duration:m,ease:y,times:T}),A=()=>{h=!1,C.cancel()},E=()=>{h=!0,Te.update(A),a(),d()};return C.onfinish=()=>{h||(t.set(BA(p,s)),r&&r(),E())},{then(x,b){return u.then(x,b)},attachTimeline(x){return C.timeline=x,C.onfinish=null,Le},get time(){return nr(C.currentTime||0)},set time(x){C.currentTime=Rs(x)},get speed(){return C.playbackRate},set speed(x){C.playbackRate=x},get duration(){return nr(m)},play:()=>{o||(C.play(),ur(A))},pause:()=>C.pause(),stop:()=>{if(o=!0,C.playState==="idle")return;const{currentTime:x}=C;if(x){const b=vc({...s,autoplay:!1});t.setWithVelocity(b.sample(x-au).value,b.sample(x).value,au)}E()},complete:()=>{h||C.finish()},cancel:E}}function Rk({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Le,pause:Le,stop:Le,then:i=>(i(),Promise.resolve()),cancel:Le,complete:Le});return e?vc({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Dk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Vk={type:"keyframes",duration:.8},Mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lk=(t,{keyframes:e})=>e.length>2?Vk:Xs.has(t)?t.startsWith("scale")?Dk(e[1]):jk:Mk,rp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zr.test(e)||e==="0")&&!e.startsWith("url(")),Ok=new Set(["brightness","contrast","saturate","opacity"]);function Fk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uh)||[];if(!r)return t;const s=n.replace(r,"");let i=Ok.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Uk=/([a-z-]*)\(.*?\)/g,sp={...Zr,getAnimatableNone:t=>{const e=t.match(Uk);return e?e.map(Fk).join(" "):t}},Bk={...bE,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:sp,WebkitFilter:sp},Zm=t=>Bk[t];function fT(t,e){let n=Zm(t);return n!==sp&&(n=Zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pT=t=>/^0[^.\s]+$/.test(t);function zk(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||pT(t)}function $k(t,e,n,r){const s=rp(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const u=[];for(let h=0;h<i.length;h++)i[h]===null&&(i[h]=h===0?o:i[h-1]),zk(i[h])&&u.push(h),typeof i[h]=="string"&&i[h]!=="none"&&i[h]!=="0"&&(a=i[h]);if(s&&u.length&&a)for(let h=0;h<u.length;h++){const d=u[h];i[d]=fT(e,a)}return i}function Hk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:h,...d}){return!!Object.keys(d).length}function eg(t,e){return t[e]||t.default||t}const Wk={skipAnimations:!1},tg=(t,e,n,r={})=>s=>{const i=eg(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Rs(o);const u=$k(e,t,n,i),h=u[0],d=u[u.length-1],p=rp(t,h),m=rp(t,d);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:T=>{e.set(T),i.onUpdate&&i.onUpdate(T)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Hk(i)||(y={...y,...Lk(t,y)}),y.duration&&(y.duration=Rs(y.duration)),y.repeatDelay&&(y.repeatDelay=Rs(y.repeatDelay)),!p||!m||FA.current||i.type===!1||Wk.skipAnimations)return Rk(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=kk(e,t,y);if(T)return T}return vc(y)};function xc(t){return!!(Vt(t)&&t.add)}const mT=t=>/^\-?\d*\.?\d+$/.test(t);function ng(t,e){t.indexOf(e)===-1&&t.push(e)}function rg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sg{constructor(){this.subscriptions=[]}add(e){return ng(this.subscriptions,e),()=>rg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qk=t=>!isNaN(parseFloat(t));class Gk{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ht;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=qk(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gi(t,e){return new Gk(t,e)}const gT=t=>e=>e.test(t),Kk={test:t=>t==="auto",parse:t=>t},yT=[Js,K,An,Tr,eA,ZN,Kk],Oo=t=>yT.find(gT(t)),Qk=[...yT,wt,Zr],Yk=t=>Qk.find(gT(t));function Xk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gi(n))}function Jk(t,e){const n=hh(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=mA(i[o]);Xk(t,o,a)}}function Zk(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const u=i[a],h=e[u];let d=null;Array.isArray(h)&&(d=h[0]),d===null&&(d=(s=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&s!==void 0?s:e[u]),d!=null&&(typeof d=="string"&&(mT(d)||pT(d))?d=parseFloat(d):!Yk(d)&&Zr.test(h)&&(d=fT(u,h)),t.addValue(u,Gi(d,{owner:t})),n[u]===void 0&&(n[u]=d),d!==null&&t.setBaseTarget(u,d))}}function eR(t,e){return e?(e[t]||e.default||e).from:void 0}function tR(t,e,n){const r={};for(const s in t){const i=eR(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function nR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rR(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function vT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(i=r);const h=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in a){const m=t.getValue(p),y=a[p];if(!m||y===void 0||d&&nR(d,p))continue;const T={delay:n,elapsed:0,...eg(i||{},p)};if(window.HandoffAppearAnimations){const E=t.getProps()[xE];if(E){const v=window.HandoffAppearAnimations(E,p,m,Te);v!==null&&(T.elapsed=v,T.isHandoff=!0)}}let C=!T.isHandoff&&!rR(m,y);if(T.type==="spring"&&(m.getVelocity()||T.velocity)&&(C=!1),m.animation&&(C=!1),C)continue;m.start(tg(p,m,y,t.shouldReduceMotion&&Xs.has(p)?{type:!1}:T));const A=m.animation;xc(u)&&(u.add(p),A.then(()=>u.remove(p))),h.push(A)}return o&&Promise.all(h).then(()=>{o&&Jk(t,o)}),h}function ip(t,e,n={}){const r=hh(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(vT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return sR(t,e,h+u,d,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,h]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function sR(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(h=0)=>h*r:(h=0)=>a-h*r;return Array.from(t.variantChildren).sort(iR).forEach((h,d)=>{h.notify("AnimationStart",e),o.push(ip(h,e,{...i,delay:n+u(d)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function iR(t,e){return t.sortNodePosition(e)}function oR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ip(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ip(t,e,n);else{const s=typeof e=="function"?hh(t,e,n.custom):e;r=Promise.all(vT(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const aR=[...Um].reverse(),lR=Um.length;function uR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>oR(t,n,r)))}function cR(t){let e=uR(t);const n=dR();let r=!0;const s=(u,h)=>{const d=hh(t,h);if(d){const{transition:p,transitionEnd:m,...y}=d;u={...u,...y,...m}}return u};function i(u){e=u(t)}function o(u,h){const d=t.getProps(),p=t.getVariantContext(!0)||{},m=[],y=new Set;let T={},C=1/0;for(let E=0;E<lR;E++){const v=aR[E],x=n[v],b=d[v]!==void 0?d[v]:p[v],V=Va(b),L=v===h?x.isActive:null;L===!1&&(C=E);let I=b===p[v]&&b!==d[v]&&V;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),x.protectedKeys={...T},!x.isActive&&L===null||!b&&!x.prevProp||ah(b)||typeof b=="boolean")continue;let S=hR(x.prevProp,b)||v===h&&x.isActive&&!I&&V||E>C&&V,P=!1;const k=Array.isArray(b)?b:[b];let R=k.reduce(s,{});L===!1&&(R={});const{prevResolvedValues:N={}}=x,fe={...N,...R},te=ve=>{S=!0,y.has(ve)&&(P=!0,y.delete(ve)),x.needsAnimating[ve]=!0};for(const ve in fe){const Ge=R[ve],z=N[ve];if(T.hasOwnProperty(ve))continue;let q=!1;mc(Ge)&&mc(z)?q=!BE(Ge,z):q=Ge!==z,q?Ge!==void 0?te(ve):y.add(ve):Ge!==void 0&&y.has(ve)?te(ve):x.protectedKeys[ve]=!0}x.prevProp=b,x.prevResolvedValues=R,x.isActive&&(T={...T,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!I||P)&&m.push(...k.map(ve=>({animation:ve,options:{type:v,...u}})))}if(y.size){const E={};y.forEach(v=>{const x=t.getBaseTarget(v);x!==void 0&&(E[v]=x)}),m.push({animation:E})}let A=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(m):Promise.resolve()}function a(u,h,d){var p;if(n[u].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var T;return(T=y.animationState)===null||T===void 0?void 0:T.setActive(u,h)}),n[u].isActive=h;const m=o(d,u);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function hR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BE(e,t):!1}function xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dR(){return{animate:xs(!0),whileInView:xs(),whileHover:xs(),whileTap:xs(),whileDrag:xs(),whileFocus:xs(),exit:xs()}}class fR extends us{constructor(e){super(e),e.animationState||(e.animationState=cR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ah(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let pR=0;class mR extends us{constructor(){super(...arguments),this.id=pR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gR={animation:{Feature:fR},exit:{Feature:mR}},b0=(t,e)=>Math.abs(t-e);function yR(t,e){const n=b0(t.x,e.x),r=b0(t.y,e.y);return Math.sqrt(n**2+r**2)}class xT{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ud(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=yR(p.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:T}=p,{timestamp:C}=ht;this.history.push({...T,timestamp:C});const{onStart:A,onMove:E}=this.handlers;m||(A&&A(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Fd(m,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:T,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Ud(p.type==="pointercancel"?this.lastMoveEventInfo:Fd(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,A),T&&T(p,A)},!ME(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ch(e),a=Fd(o,this.transformPagePoint),{point:u}=a,{timestamp:h}=ht;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Ud(a,this.history)),this.removeListeners=Hr(tr(this.contextWindow,"pointermove",this.handlePointerMove),tr(this.contextWindow,"pointerup",this.handlePointerUp),tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function Fd(t,e){return e?{point:e(t.point)}:t}function P0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ud({point:t},e){return{point:t,delta:P0(t,wT(e)),offset:P0(t,vR(e)),velocity:xR(e,.1)}}function vR(t){return t[0]}function wT(t){return t[t.length-1]}function xR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=wT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Rs(e)));)n--;if(!r)return{x:0,y:0};const i=nr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $t(t){return t.max-t.min}function op(t,e=0,n=.01){return Math.abs(t-e)<=n}function N0(t,e,n,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=$t(n)/$t(e),(op(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(op(t.translate)||isNaN(t.translate))&&(t.translate=0)}function la(t,e,n,r){N0(t.x,e.x,n.x,r?r.originX:void 0),N0(t.y,e.y,n.y,r?r.originY:void 0)}function A0(t,e,n){t.min=n.min+e.min,t.max=t.min+$t(e)}function wR(t,e,n){A0(t.x,e.x,n.x),A0(t.y,e.y,n.y)}function k0(t,e,n){t.min=e.min-n.min,t.max=t.min+$t(e)}function ua(t,e,n){k0(t.x,e.x,n.x),k0(t.y,e.y,n.y)}function _R(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pe(n,t,r.max):Math.min(t,n)),t}function R0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ER(t,{top:e,left:n,bottom:r,right:s}){return{x:R0(t.x,n,s),y:R0(t.y,e,r)}}function j0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TR(t,e){return{x:j0(t.x,e.x),y:j0(t.y,e.y)}}function SR(t,e){let n=.5;const r=$t(t),s=$t(e);return s>r?n=La(e.min,e.max-r,t.min):r>s&&(n=La(t.min,t.max-s,e.min)),Jr(0,1,n)}function IR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ap=.35;function CR(t=ap){return t===!1?t=0:t===!0&&(t=ap),{x:D0(t,"left","right"),y:D0(t,"top","bottom")}}function D0(t,e,n){return{min:V0(t,e),max:V0(t,n)}}function V0(t,e){return typeof t=="number"?t:t[e]||0}const M0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ci=()=>({x:M0(),y:M0()}),L0=()=>({min:0,max:0}),Fe=()=>({x:L0(),y:L0()});function Xt(t){return[t("x"),t("y")]}function _T({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bd(t){return t===void 0||t===1}function lp({scale:t,scaleX:e,scaleY:n}){return!Bd(t)||!Bd(e)||!Bd(n)}function Es(t){return lp(t)||ET(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ET(t){return O0(t.x)||O0(t.y)}function O0(t){return t&&t!=="0%"}function wc(t,e,n){const r=t-n,s=e*r;return n+s}function F0(t,e,n,r,s){return s!==void 0&&(t=wc(t,s,r)),wc(t,n,r)+e}function up(t,e=0,n=1,r,s){t.min=F0(t.min,e,n,r,s),t.max=F0(t.max,e,n,r,s)}function TT(t,{x:e,y:n}){up(t.x,e.translate,e.scale,e.originPoint),up(t.y,n.translate,n.scale,n.originPoint)}function NR(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,TT(t,o)),r&&Es(i.latestValues)&&bi(t,i.latestValues))}e.x=U0(e.x),e.y=U0(e.y)}function U0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Cr(t,e){t.min=t.min+e,t.max=t.max+e}function B0(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Pe(t.min,t.max,i);up(t,e[n],e[r],o,e.scale)}const AR=["x","scaleX","originX"],kR=["y","scaleY","originY"];function bi(t,e){B0(t.x,e,AR),B0(t.y,e,kR)}function ST(t,e){return _T(PR(t.getBoundingClientRect(),e))}function RR(t,e,n){const r=ST(t,n),{scroll:s}=e;return s&&(Cr(r.x,s.offset.x),Cr(r.y,s.offset.y)),r}const IT=({current:t})=>t?t.ownerDocument.defaultView:null,jR=new WeakMap;class DR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ch(d,"page").point)},i=(d,p)=>{const{drag:m,dragPropagation:y,onDragStart:T}=this.getProps();if(m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OE(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(A=>{let E=this.getAxisMotionValue(A).get()||0;if(An.test(E)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[A];x&&(E=$t(x)*(parseFloat(E)/100))}}this.originPoint[A]=E}),T&&Te.update(()=>T(d,p),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:T,onDrag:C}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:A}=p;if(y&&this.currentDirection===null){this.currentDirection=VR(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,A),this.updateAxis("y",p.point,A),this.visualElement.render(),C&&C(d,p)},a=(d,p)=>this.stop(d,p),u=()=>Xt(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new xT(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:IT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Te.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!lu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_R(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Si(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=ER(s.layoutBox,n):this.constraints=!1,this.elastic=CR(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=IR(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Si(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=RR(r,s.root,this.visualElement.getTransformPagePoint());let o=TR(s.layout.layoutBox,i);if(n){const a=n(bR(o));this.hasMutatedConstraints=!!a,a&&(o=_T(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},h=Xt(d=>{if(!lu(d,n,this.currentDirection))return;let p=u&&u[d]||{};o&&(p={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,T)});return Promise.all(h).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(tg(e,r,0,n))}stopAnimation(){Xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xt(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Si(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xt(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();s[o]=SR({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xt(o=>{if(!lu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];a.set(Pe(u,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;jR.set(this.visualElement,this);const e=this.visualElement.current,n=tr(e,"pointerdown",u=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Si(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Qn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Xt(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ap,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function lu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MR extends us{constructor(e){super(e),this.removeGroupControls=Le,this.removeListeners=Le,this.controls=new DR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Le}unmount(){this.removeGroupControls(),this.removeListeners()}}const z0=t=>(e,n)=>{t&&Te.update(()=>t(e,n))};class LR extends us{constructor(){super(...arguments),this.removePointerDownListener=Le}onPointerDown(e){this.session=new xT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:z0(e),onStart:z0(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Te.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function OR(){const t=j.useContext(Om);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=j.useId();return j.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Au={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(K.test(t))t=parseFloat(t);else return t;const n=$0(t,e.target.x),r=$0(t,e.target.y);return`${n}% ${r}%`}},FR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Zr.parse(t);if(s.length>5)return r;const i=Zr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const h=Pe(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),i(s)}};class UR extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;qN(BR),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Au.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CT(t){const[e,n]=OR(),r=j.useContext(_E);return ne.createElement(UR,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(EE),isPresent:e,safeToRemove:n})}const BR={borderRadius:{...Fo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fo,borderTopRightRadius:Fo,borderBottomLeftRadius:Fo,borderBottomRightRadius:Fo,boxShadow:FR},bT=["TopLeft","TopRight","BottomLeft","BottomRight"],zR=bT.length,H0=t=>typeof t=="string"?parseFloat(t):t,W0=t=>typeof t=="number"||K.test(t);function $R(t,e,n,r,s,i){s?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,HR(r)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,WR(r))):i&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<zR;o++){const a=`border${bT[o]}Radius`;let u=q0(e,a),h=q0(n,a);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||W0(u)===W0(h)?(t[a]=Math.max(Pe(H0(u),H0(h),r),0),(An.test(h)||An.test(u))&&(t[a]+="%")):t[a]=h}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,r))}function q0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const HR=PT(0,.5,YE),WR=PT(.5,.95,Le);function PT(t,e,n){return r=>r<t?0:r>e?1:n(La(t,e,r))}function G0(t,e){t.min=e.min,t.max=e.max}function Yt(t,e){G0(t.x,e.x),G0(t.y,e.y)}function K0(t,e,n,r,s){return t-=e,t=wc(t,1/n,r),s!==void 0&&(t=wc(t,1/s,r)),t}function qR(t,e=0,n=1,r=.5,s,i=t,o=t){if(An.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(i.min,i.max,r);t===i&&(a-=e),t.min=K0(t.min,e,n,a,s),t.max=K0(t.max,e,n,a,s)}function Q0(t,e,[n,r,s],i,o){qR(t,e[n],e[r],e[s],e.scale,i,o)}const GR=["x","scaleX","originX"],KR=["y","scaleY","originY"];function Y0(t,e,n,r){Q0(t.x,e,GR,n?n.x:void 0,r?r.x:void 0),Q0(t.y,e,KR,n?n.y:void 0,r?r.y:void 0)}function X0(t){return t.translate===0&&t.scale===1}function NT(t){return X0(t.x)&&X0(t.y)}function QR(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function AT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function J0(t){return $t(t.x)/$t(t.y)}class YR{constructor(){this.members=[]}add(e){ng(this.members,e),e.scheduleRender()}remove(e){if(rg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z0(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:h,rotateY:d}=n;u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const XR=(t,e)=>t.depth-e.depth;class JR{constructor(){this.children=[],this.isDirty=!1}add(e){ng(this.children,e),this.isDirty=!0}remove(e){rg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XR),this.isDirty=!1,this.children.forEach(e)}}function ZR(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ur(r),t(i-e))};return Te.read(r,!0),()=>ur(r)}function ej(t){window.MotionDebug&&window.MotionDebug.record(t)}function tj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function nj(t,e,n){const r=Vt(t)?t:Gi(t);return r.start(tg("",r,e,n)),r.animation}const ex=["","X","Y","Z"],rj={visibility:"hidden"},tx=1e3;let sj=0;const Ts={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ts.totalNodes=Ts.resolvedTargetDeltas=Ts.recalculatedProjection=0,this.nodes.forEach(aj),this.nodes.forEach(dj),this.nodes.forEach(fj),this.nodes.forEach(lj),ej(Ts)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new JR)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tj(o),this.instance=o;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(h||u)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=ZR(m,250),Au.hasAnimatedSinceResize&&(Au.hasAnimatedSinceResize=!1,this.nodes.forEach(rx))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||vj,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=d.getProps(),v=!this.targetLayout||!AT(this.targetLayout,T)||y,x=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,x);const b={...eg(C,"layout"),onPlay:A,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else m||rx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nx);return}this.isUpdating||this.nodes.forEach(cj),this.isUpdating=!1,this.nodes.forEach(hj),this.nodes.forEach(ij),this.nodes.forEach(oj),this.clearAllSnapshots();const a=performance.now();ht.delta=Jr(0,1e3/60,a-ht.timestamp),ht.timestamp=a,ht.isProcessing=!0,kd.update.process(ht),kd.preRender.process(ht),kd.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(uj),this.sharedNodes.forEach(mj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!NT(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;o&&(a||Es(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),xj(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fe();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Cr(a.x,u.offset.x),Cr(a.y,u.offset.y)),a}removeElementScroll(o){const a=Fe();Yt(a,o);for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:p}=h;if(h!==this.root&&d&&p.layoutScroll){if(d.isRoot){Yt(a,o);const{scroll:m}=this.root;m&&(Cr(a.x,-m.offset.x),Cr(a.y,-m.offset.y))}Cr(a.x,d.offset.x),Cr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const u=Fe();Yt(u,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bi(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Es(d.latestValues)&&bi(u,d.latestValues)}return Es(this.latestValues)&&bi(u,this.latestValues),u}removeTransform(o){const a=Fe();Yt(a,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Es(h.latestValues))continue;lp(h.latestValues)&&h.updateSnapshot();const d=Fe(),p=h.measurePageBox();Yt(d,p),Y0(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Es(this.latestValues)&&Y0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ua(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),TT(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ua(this.relativeTargetOrigin,this.target,y.target),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ts.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lp(this.parent.latestValues)||ET(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(h=!1),h)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Yt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;NR(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=Ci(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ci(),this.projectionDeltaWithTransform=Ci());const C=this.projectionTransform;la(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=Z0(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Ts.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},p=Ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Fe(),y=u?u.source:void 0,T=this.layout?this.layout.source:void 0,C=y!==T,A=this.getStack(),E=!A||A.members.length<=1,v=!!(C&&!E&&this.options.crossfade===!0&&!this.path.some(yj));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const V=b/1e3;sx(p.x,o.x,V),sx(p.y,o.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ua(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gj(this.relativeTarget,this.relativeTargetOrigin,m,V),x&&QR(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Fe()),Yt(x,this.relativeTarget)),C&&(this.animationValues=d,$R(d,h,this.latestValues,V,v,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Au.hasAnimatedSinceResize=!0,this.currentAnimation=nj(0,tx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:h,latestValues:d}=o;if(!(!a||!u||!h)){if(this!==o&&this.layout&&h&&RT(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Fe();const p=$t(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const m=$t(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}Yt(a,u),bi(a,d),la(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new YR),this.sharedNodes.get(o).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const h={};for(let d=0;d<ex.length;d++){const p="rotate"+ex[d];u[p]&&(h[p]=u[p],o.setStaticValue(p,0))}o.render();for(const d in h)o.setStaticValue(d,h[d]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rj;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Nu(o==null?void 0:o.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Nu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Es(this.latestValues)&&(C.transform=d?d({},""):"none",this.hasProjected=!1),C}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=Z0(this.projectionDeltaWithTransform,this.treeScale,m),d&&(h.transform=d(m,h.transform));const{x:y,y:T}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,p.animationValues?h.opacity=p===this?(u=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:h.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in fc){if(m[C]===void 0)continue;const{correct:A,applyTo:E}=fc[C],v=h.transform==="none"?m[C]:A(m[C],p);if(E){const x=E.length;for(let b=0;b<x;b++)h[E[b]]=v}else h[C]=v}return this.options.layoutId&&(h.pointerEvents=p===this?Nu(o==null?void 0:o.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(nx),this.root.sharedNodes.clear()}}}function ij(t){t.updateLayout()}function oj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Xt(p=>{const m=o?n.measuredBox[p]:n.layoutBox[p],y=$t(m);m.min=r[p].min,m.max=m.min+y}):RT(i,n.layoutBox,r)&&Xt(p=>{const m=o?n.measuredBox[p]:n.layoutBox[p],y=$t(r[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=Ci();la(a,r,n.layoutBox);const u=Ci();o?la(u,t.applyTransform(s,!0),n.measuredBox):la(u,r,n.layoutBox);const h=!NT(a);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const T=Fe();ua(T,n.layoutBox,m.layoutBox);const C=Fe();ua(C,r,y.layoutBox),AT(T,C)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aj(t){Ts.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uj(t){t.clearSnapshot()}function nx(t){t.clearMeasurements()}function cj(t){t.isLayoutDirty=!1}function hj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dj(t){t.resolveTargetDelta()}function fj(t){t.calcProjection()}function pj(t){t.resetRotation()}function mj(t){t.removeLeadSnapshot()}function sx(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ix(t,e,n,r){t.min=Pe(e.min,n.min,r),t.max=Pe(e.max,n.max,r)}function gj(t,e,n,r){ix(t.x,e.x,n.x,r),ix(t.y,e.y,n.y,r)}function yj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vj={duration:.45,ease:[.4,0,.1,1]},ox=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),ax=ox("applewebkit/")&&!ox("chrome/")?Math.round:Le;function lx(t){t.min=ax(t.min),t.max=ax(t.max)}function xj(t){lx(t.x),lx(t.y)}function RT(t,e,n){return t==="position"||t==="preserve-aspect"&&!op(J0(e),J0(n),.2)}const wj=kT({attachResizeListener:(t,e)=>Qn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zd={current:void 0},jT=kT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zd.current){const t=new wj({});t.mount(window),t.setOptions({layoutScroll:!0}),zd.current=t}return zd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_j={pan:{Feature:LR},drag:{Feature:MR,ProjectionNode:jT,MeasureLayout:CT}},Ej=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Tj(t){const e=Ej.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function cp(t,e,n=1){const[r,s]=Tj(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return mT(o)?parseFloat(o):o}else return Zf(s)?cp(s,e,n+1):s}function Sj(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Zf(i))return;const o=cp(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Zf(i))continue;const o=cp(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const Ij=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),DT=t=>Ij.has(t),Cj=t=>Object.keys(t).some(DT),ux=t=>t===Js||t===K,cx=(t,e)=>parseFloat(t.split(", ")[e]),hx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return cx(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?cx(i[1],t):0}},bj=new Set(["x","y","z"]),Pj=ol.filter(t=>!bj.has(t));function Nj(t){const e=[];return Pj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ki={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hx(4,13),y:hx(5,14)};Ki.translateX=Ki.x;Ki.translateY=Ki.y;const Aj=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(h=>{a[h]=Ki[h](r,i)}),e.render();const u=e.measureViewportBox();return n.forEach(h=>{const d=e.getValue(h);d&&d.jump(a[h]),t[h]=Ki[h](u,i)}),t},kj=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(DT);let i=[],o=!1;const a=[];if(s.forEach(u=>{const h=t.getValue(u);if(!t.hasValue(u))return;let d=n[u],p=Oo(d);const m=e[u];let y;if(mc(m)){const T=m.length,C=m[0]===null?1:0;d=m[C],p=Oo(d);for(let A=C;A<T&&m[A]!==null;A++)y?Qm(Oo(m[A])===y):y=Oo(m[A])}else y=Oo(m);if(p!==y)if(ux(p)&&ux(y)){const T=h.get();typeof T=="string"&&h.set(parseFloat(T)),typeof m=="string"?e[u]=parseFloat(m):Array.isArray(m)&&y===K&&(e[u]=m.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(d===0||m===0)?d===0?h.set(y.transform(d)):e[u]=p.transform(m):(o||(i=Nj(t),o=!0),a.push(u),r[u]=r[u]!==void 0?r[u]:e[u],h.jump(m))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,h=Aj(e,t,a);return i.length&&i.forEach(([d,p])=>{t.getValue(d).set(p)}),t.render(),oh&&u!==null&&window.scrollTo({top:u}),{target:h,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Rj(t,e,n,r){return Cj(e)?kj(t,e,n,r):{target:e,transitionEnd:r}}const jj=(t,e,n,r)=>{const s=Sj(t,e,r);return e=s.target,r=s.transitionEnd,Rj(t,e,n,r)},hp={current:null},VT={current:!1};function Dj(){if(VT.current=!0,!!oh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hp.current=t.matches;t.addListener(e),e()}else hp.current=!1}function Vj(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Vt(i))t.addValue(s,i),xc(r)&&r.add(s);else if(Vt(o))t.addValue(s,Gi(i,{owner:t})),xc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Gi(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const dx=new WeakMap,MT=Object.keys(Ma),Mj=MT.length,fx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Lj=Bm.length;class Oj{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:a,renderState:u}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=lh(n),this.isVariantNode=wE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{});for(const p in d){const m=d[p];a[p]!==void 0&&Vt(m)&&(m.set(a[p],!1),xc(h)&&h.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,dx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VT.current||Dj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dx.delete(this.current),this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Xs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let u=0;u<Mj;u++){const h=MT[u],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:y}=Ma[h];m&&(o=m),d(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!d||p&&Si(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fx.length;r++){const s=fx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Vj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Lj;r++){const s=Bm[r],i=this.props[s];(Va(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gi(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Km(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LT extends Oj{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=tR(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){Zk(this,r,o);const a=jj(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Fj(t){return window.getComputedStyle(t)}class Uj extends LT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Xs.has(n)){const r=Zm(n);return r&&r.default||0}else{const r=Fj(e),s=(IE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ST(e,n)}build(e,n,r,s){$m(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Gm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){kE(e,n,r,s)}}class Bj extends LT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xs.has(n)){const r=Zm(n);return r&&r.default||0}return n=RE.has(n)?n:Fm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Fe()}scrapeMotionValuesFromProps(e,n){return DE(e,n)}build(e,n,r,s){Wm(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){jE(e,n,r,s)}mount(e){this.isSVGTag=qm(e.tagName),super.mount(e)}}const zj=(t,e)=>zm(t)?new Bj(e,{enableHardwareAcceleration:!1}):new Uj(e,{enableHardwareAcceleration:!0}),$j={layout:{ProjectionNode:jT,MeasureLayout:CT}},Hj={...gR,...MA,..._j,...$j},Ye=HN((t,e)=>TA(t,e,Hj,zj));var Wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ie=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...u},h)=>j.createElement("svg",{ref:h,...Wj,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${qj(t)}`,...u},[...e.map(([d,p])=>j.createElement(d,p)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},px=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),gn=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Gj=ie("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Kj=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Vi=ie("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),yn=ie("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ig=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),cl=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),dh=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Qj=ie("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Oa=ie("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),Yj=ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Xj=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Jj=ie("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Zj=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),eD=ie("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),tD=ie("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),dp=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),OT=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),og=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),nD=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),rD=ie("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Fa=ie("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),sD=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),iD=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),FT=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),oD=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),UT=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bt=ie("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),aD=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),lD=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),uD=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sn=ie("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),cD=ie("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),$d=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fs=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Yn=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hD=()=>{};var mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|h>>6,y=h&63;u||(y=64,o||(m=64)),r.push(n[d],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||h==null||p==null)throw new fD;const m=i<<2|a>>4;if(r.push(m),h!==64){const y=a<<4&240|h>>2;if(r.push(y),p!==64){const T=h<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pD=function(t){const e=BT(t);return zT.encodeByteArray(e,!0)},_c=function(t){return pD(t).replace(/\./g,"")},$T=function(t){try{return zT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=()=>mD().__FIREBASE_DEFAULTS__,yD=()=>{if(typeof process>"u"||typeof mx>"u")return;const t=mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$T(t[1]);return e&&JSON.parse(e)},fh=()=>{try{return hD()||gD()||yD()||vD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HT=t=>{var e,n;return(n=(e=fh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xD=t=>{const e=HT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WT=()=>{var t;return(t=fh())==null?void 0:t.config},qT=t=>{var e;return(e=fh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_c(JSON.stringify(n)),_c(JSON.stringify(o)),""].join(".")}const ca={};function ED(){const t={prod:[],emulator:[]};for(const e of Object.keys(ca))ca[e]?t.emulator.push(e):t.prod.push(e);return t}function TD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gx=!1;function KT(t,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||ca[t]===e||ca[t]||gx)return;ca[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=ED().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gx=!0,o()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=TD(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),A=document.getElementById(C)||document.createElement("a"),E=n("preprendIcon"),v=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;a(x),d(A,C);const b=h();u(v,E),x.append(v,T,A,b),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function ID(){var e;const t=(e=fh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ND(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AD(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kD(){try{return typeof indexedDB=="object"}catch{return!1}}function RD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jD,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?DD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new yr(s,a,r)}}function DD(t,e){return t.replace(VD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VD=/\{\$([^}]+)}/g;function MD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yx(i)&&yx(o)){if(!Us(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LD(t,e){const n=new OD(t,e);return n.subscribe.bind(n)}class OD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hd),s.error===void 0&&(s.error=Hd),s.complete===void 0&&(s.complete=Hd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zD(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BD(t){return t===Ss?void 0:t}function zD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const HD={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},WD=oe.INFO,qD={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},GD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=WD,this._logHandler=GD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const KD=(t,e)=>e.some(n=>t instanceof n);let vx,xx;function QD(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YD(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,fp=new WeakMap,YT=new WeakMap,Wd=new WeakMap,lg=new WeakMap;function XD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Wr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),lg.set(e,t),e}function JD(t){if(fp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fp.set(t,e)}let pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZD(t){pp=t(pp)}function eV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qd(this),e,...n);return YT.set(r,e.sort?e.sort():[e]),Wr(r)}:YD().includes(t)?function(...e){return t.apply(qd(this),e),Wr(QT.get(this))}:function(...e){return Wr(t.apply(qd(this),e))}}function tV(t){return typeof t=="function"?eV(t):(t instanceof IDBTransaction&&JD(t),KD(t,QD())?new Proxy(t,pp):t)}function Wr(t){if(t instanceof IDBRequest)return XD(t);if(Wd.has(t))return Wd.get(t);const e=tV(t);return e!==t&&(Wd.set(t,e),lg.set(e,t)),e}const qd=t=>lg.get(t);function nV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wr(o.result),u.oldVersion,u.newVersion,Wr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const rV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],Gd=new Map;function wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rV.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),s&&u.done]))[0]};return Gd.set(e,i),i}ZD(t=>({...t,get:(e,n,r)=>wx(e,n)||t.get(e,n,r),has:(e,n)=>!!wx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",_x="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new ag("@firebase/app"),aV="@firebase/app-compat",lV="@firebase/analytics-compat",uV="@firebase/analytics",cV="@firebase/app-check-compat",hV="@firebase/app-check",dV="@firebase/auth",fV="@firebase/auth-compat",pV="@firebase/database",mV="@firebase/data-connect",gV="@firebase/database-compat",yV="@firebase/functions",vV="@firebase/functions-compat",xV="@firebase/installations",wV="@firebase/installations-compat",_V="@firebase/messaging",EV="@firebase/messaging-compat",TV="@firebase/performance",SV="@firebase/performance-compat",IV="@firebase/remote-config",CV="@firebase/remote-config-compat",bV="@firebase/storage",PV="@firebase/storage-compat",NV="@firebase/firestore",AV="@firebase/ai",kV="@firebase/firestore-compat",RV="firebase",jV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",DV={[mp]:"fire-core",[aV]:"fire-core-compat",[uV]:"fire-analytics",[lV]:"fire-analytics-compat",[hV]:"fire-app-check",[cV]:"fire-app-check-compat",[dV]:"fire-auth",[fV]:"fire-auth-compat",[pV]:"fire-rtdb",[mV]:"fire-data-connect",[gV]:"fire-rtdb-compat",[yV]:"fire-fn",[vV]:"fire-fn-compat",[xV]:"fire-iid",[wV]:"fire-iid-compat",[_V]:"fire-fcm",[EV]:"fire-fcm-compat",[TV]:"fire-perf",[SV]:"fire-perf-compat",[IV]:"fire-rc",[CV]:"fire-rc-compat",[bV]:"fire-gcs",[PV]:"fire-gcs-compat",[NV]:"fire-fst",[kV]:"fire-fst-compat",[AV]:"fire-vertex","fire-js":"fire-js",[RV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,VV=new Map,yp=new Map;function Ex(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(yp.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const n of Ec.values())Ex(n,t);for(const n of VV.values())Ex(n,t);return!0}function ug(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new hl("app","Firebase",MV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=jV;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qr.create("bad-app-name",{appName:String(s)});if(n||(n=WT()),!n)throw qr.create("no-options");const i=Ec.get(s);if(i){if(Us(n,i.options)&&Us(r,i.config))return i;throw qr.create("duplicate-app",{appName:s})}const o=new $D(s);for(const u of yp.values())o.addComponent(u);const a=new LV(n,r,o);return Ec.set(s,a),a}function JT(t=gp){const e=Ec.get(t);if(!e&&t===gp&&WT())return XT();if(!e)throw qr.create("no-app",{appName:t});return e}function Gr(t,e,n){let r=DV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(o.join(" "));return}Qi(new Bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="firebase-heartbeat-database",FV=1,Ua="firebase-heartbeat-store";let Kd=null;function ZT(){return Kd||(Kd=nV(OV,FV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Kd}async function UV(t){try{const n=(await ZT()).transaction(Ua),r=await n.objectStore(Ua).get(eS(t));return await n.done,r}catch(e){if(e instanceof yr)cr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function Tx(t,e){try{const r=(await ZT()).transaction(Ua,"readwrite");await r.objectStore(Ua).put(e,eS(t)),await r.done}catch(n){if(n instanceof yr)cr.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(r.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=1024,zV=30;class $V{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zV){const o=qV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sx(),{heartbeatsToSend:r,unsentEntries:s}=HV(this._heartbeatsCache.heartbeats),i=_c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return cr.warn(n),""}}}function Sx(){return new Date().toISOString().substring(0,10)}function HV(t,e=BV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ix(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ix(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kD()?RD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ix(t){return _c(JSON.stringify({version:2,heartbeats:t})).length}function qV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){Qi(new Bs("platform-logger",e=>new iV(e),"PRIVATE")),Qi(new Bs("heartbeat",e=>new $V(e),"PRIVATE")),Gr(mp,_x,t),Gr(mp,_x,"esm2020"),Gr("fire-js","")}GV("");var KV="firebase",QV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(KV,QV,"app");function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YV=tS,nS=new hl("auth","Firebase",tS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new ag("@firebase/auth");function XV(t,...e){Tc.logLevel<=oe.WARN&&Tc.warn(`Auth (${lo}): ${t}`,...e)}function ku(t,...e){Tc.logLevel<=oe.ERROR&&Tc.error(`Auth (${lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw cg(t,...e)}function kn(t,...e){return cg(t,...e)}function rS(t,e,n){const r={...YV(),[e]:n};return new hl("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return rS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nS.create(t,...e)}function Q(t,e,...n){if(!t)throw cg(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ku(e),new Error(e)}function hr(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function JV(){return Cx()==="http:"||Cx()==="https:"}function Cx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JV()||bD()||"connection"in navigator)?navigator.onLine:!0}function e4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=SD()||PD()}get(){return ZV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r4=new fl(3e4,6e4);function cs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hs(t,e,n,r,s={}){return iS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=dl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return CD()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ao(t.emulatorConfig.host)&&(h.credentials="include"),sS.fetch()(await oS(t,t.config.apiHost,n,a),h)})}async function iS(t,e,n){t._canInitEmulator=!1;const r={...t4,...e};try{const s=new i4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,h]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw uu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rS(t,d,h);Tn(t,d)}}catch(s){if(s instanceof yr)throw s;Tn(t,"network-request-failed",{message:String(s)})}}async function pl(t,e,n,r,s={}){const i=await hs(t,e,n,r,s);return"mfaPendingCredential"in i&&Tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function oS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?hg(t.config,s):`${t.config.apiScheme}://${s}`;return n4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function s4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),r4.get())})}}function uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kn(t,e,r);return s.customData._tokenResponse=n,s}function bx(t){return t!==void 0&&t.enterprise!==void 0}class o4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a4(t,e){return hs(t,"GET","/v2/recaptchaConfig",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function Sc(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u4(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),s=dg(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ha(Qd(s.auth_time)),issuedAtTime:ha(Qd(s.iat)),expirationTime:ha(Qd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qd(t){return Number(t)*1e3}function dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ku("JWT malformed, contained fewer than 3 sections"),null;try{const s=$T(n);return s?JSON.parse(s):(ku("Failed to decode base64 JWT payload"),null)}catch(s){return ku("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Px(t){const e=dg(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&c4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Ba(t,Sc(e,{idToken:n}));Q(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?aS(s.providerUserInfo):[],o=f4(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new xp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function d4(t){const e=Tt(t);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function aS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){const n=await iS(t,{},async()=>{const r=dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await oS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&ao(t.emulatorConfig.host)&&(u.credentials="include"),sS.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m4(t,e){return hs(t,"POST","/v2/accounts:revokeToken",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=Px(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await p4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Mi;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mi,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new h4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u4(this,e)}reload(){return d4(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await Ba(this,l4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:T,stsTokenManager:C}=n;Q(p&&C,e,"internal-error");const A=Mi.fromJSON(this.name,C);Q(typeof p=="string",e,"internal-error"),Er(r,e.name),Er(s,e.name),Q(typeof m=="boolean",e,"internal-error"),Q(typeof y=="boolean",e,"internal-error"),Er(i,e.name),Er(o,e.name),Er(a,e.name),Er(u,e.name),Er(h,e.name),Er(d,e.name);const E=new vn({uid:p,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:A,createdAt:h,lastLoginAt:d});return T&&Array.isArray(T)&&(E.providerData=T.map(v=>({...v}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Mi;s.updateFromServerResponse(n);const i=new vn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ic(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?aS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Mi;a.updateFromIdToken(r);const u=new vn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Map;function Jn(t){hr(t instanceof Function,"Expected a class definition");let e=Nx.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lS.type="NONE";const Ax=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e,n){return`firebase:${t}:${e}:${n}`}class Li{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ru(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ru("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sc(this.auth,{idToken:e}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Li(Jn(Ax),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Jn(Ax);const o=Ru(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const d=await h._get(o);if(d){let p;if(typeof d=="string"){const m=await Sc(e,{idToken:d}).catch(()=>{});if(!m)break;p=await vn._fromGetAccountInfoResponse(e,m,d)}else p=vn._fromJSON(e,d);h!==i&&(a=p),i=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Li(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Li(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(mS(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||hS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uS(t=gt()){return/firefox\//i.test(t)}function cS(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hS(t=gt()){return/crios\//i.test(t)}function dS(t=gt()){return/iemobile/i.test(t)}function fS(t=gt()){return/android/i.test(t)}function pS(t=gt()){return/blackberry/i.test(t)}function mS(t=gt()){return/webos/i.test(t)}function fg(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g4(t=gt()){var e;return fg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function y4(){return ND()&&document.documentMode===10}function gS(t=gt()){return fg(t)||fS(t)||mS(t)||pS(t)||/windows phone/i.test(t)||dS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e=[]){let n;switch(t){case"Browser":n=kx(gt());break;case"Worker":n=`${kx(gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e={}){return hs(t,"GET","/v2/passwordPolicy",cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=6;class _4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rx(this),this.idTokenSubscription=new Rx(this),this.beforeStateQueue=new v4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Li.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sc(this,{idToken:e}),r=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(en(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(rr(this));const n=e?Tt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x4(this),n=new _4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Li.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&XV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zs(t){return Tt(t)}class Rx{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T4(t){ph=t}function vS(t){return ph.loadJS(t)}function S4(){return ph.recaptchaEnterpriseScript}function I4(){return ph.gapiScript}function C4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b4{constructor(){this.enterprise=new P4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class P4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const N4="recaptcha-enterprise",xS="NO_RECAPTCHA";class A4{constructor(e){this.type=N4,this.auth=Zs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{a4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new o4(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;bx(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(xS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&bx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=S4();u.length!==0&&(u+=a),vS(u).then(()=>{s(a,i,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}}async function jx(t,e,n,r=!1,s=!1){const i=new A4(t);let o;if(s)o=xS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,h=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function wp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){const n=ug(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Us(i,e??{}))return s;Tn(s,"already-initialized")}return n.initialize({options:e})}function R4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j4(t,e,n){const r=Zs(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=wS(e),{host:o,port:a}=D4(e),u=a===null?"":`:${a}`,h={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Us(h,r.config.emulator)&&Us(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ao(o)?(GT(`${i}//${o}${u}`),KT("Auth",!0)):V4()}function wS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D4(t){const e=wS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Dx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Dx(o)}}}function Dx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function M4(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e){return pl(t,"POST","/v1/accounts:signInWithPassword",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){return pl(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}async function F4(t,e){return pl(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends pg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new za(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new za(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,n,"signInWithPassword",L4);case"emailLink":return O4(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,r,"signUpPassword",M4);case"emailLink":return F4(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(t,e){return pl(t,"POST","/v1/accounts:signInWithIdp",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="http://localhost";class zs extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new zs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oi(e,n)}buildRequest(){const e={requestUri:U4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z4(t){const e=Wo(qo(t)).link,n=e?Wo(qo(e)).deep_link_id:null,r=Wo(qo(t)).deep_link_id;return(r?Wo(qo(r)).link:null)||r||n||e||t}class mg{constructor(e){const n=Wo(qo(e)),r=n.apiKey??null,s=n.oobCode??null,i=B4(n.mode??null);Q(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=z4(e);try{return new mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mg.parseLink(n);return Q(r,"argument-error"),za._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends _S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ml{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ml{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ml{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e){return pl(t,"POST","/v1/accounts:signUp",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vn._fromIdTokenResponse(e,r,s),o=Vx(r);return new $s({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Vx(r);return new $s({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Vx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends yr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Cc(e,n,r,s)}}function ES(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(t,i,e,r):i})}async function H4(t,e,n=!1){const r=await Ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject(rr(r));const s="reauthenticate";try{const i=await Ba(t,ES(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=dg(i.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),$s._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(t,e,n=!1){if(en(t.app))return Promise.reject(rr(t));const r="signIn",s=await ES(t,r,e),i=await $s._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function q4(t,e){return TS(Zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t){const e=Zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G4(t,e,n){if(en(t.app))return Promise.reject(rr(t));const r=Zs(t),o=await wp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&SS(t),u}),a=await $s._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function K4(t,e,n){return en(t.app)?Promise.reject(rr(t)):q4(Tt(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SS(t),r})}function Q4(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function Y4(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function IS(t){return Tt(t).signOut()}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=1e3,J4=10;class bS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);y4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const Z4=bS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PS.type="SESSION";const NS=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async h=>h(n.origin,i)),u=await eM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const h=gg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function nM(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function rM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function iM(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",oM=1,Pc="firebaseLocalStorage",RS="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(t,e){return t.transaction([Pc],e?"readwrite":"readonly").objectStore(Pc)}function aM(){const t=indexedDB.deleteDatabase(kS);return new gl(t).toPromise()}function _p(){const t=indexedDB.open(kS,oM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pc,{keyPath:RS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pc)?e(r):(r.close(),await aM(),e(await _p()))})})}async function Mx(t,e,n){const r=gh(t,!0).put({[RS]:e,value:n});return new gl(r).toPromise()}async function lM(t,e){const n=gh(t,!1).get(e),r=await new gl(n).toPromise();return r===void 0?null:r.value}function Lx(t,e){const n=gh(t,!0).delete(e);return new gl(n).toPromise()}const uM=800,cM=3;class jS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await rM(),!this.activeServiceWorker)return;this.sender=new tM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await Mx(e,bc,"1"),await Lx(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gh(s,!1).getAll();return new gl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jS.type="LOCAL";const hM=jS;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){return e?Jn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fM(t){return TS(t.auth,new yg(t),t.bypassAuthState)}function pM(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),W4(n,new yg(t),t.bypassAuthState)}async function mM(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),H4(n,new yg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fM;case"linkViaPopup":case"linkViaRedirect":return mM;case"reauthViaPopup":case"reauthViaRedirect":return pM;default:Tn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new fl(2e3,1e4);class Pi extends DS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gM.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="pendingRedirect",ju=new Map;class vM extends DS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const r=await xM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xM(t,e){const n=EM(e),r=_M(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wM(t,e){ju.set(t._key(),e)}function _M(t){return Jn(t._redirectPersistence)}function EM(t){return Ru(yM,t.config.apiKey,t.name)}async function TM(t,e,n=!1){if(en(t.app))return Promise.reject(rr(t));const r=Zs(t),s=dM(r,e),o=await new vM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=10*60*1e3;class IM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ox(e))}saveEventToCache(e){this.cachedEventUids.add(Ox(e)),this.lastProcessedEventTime=Date.now()}}function Ox(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NM=/^https?/;async function AM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bM(t);for(const n of e)try{if(kM(n))return}catch{}Tn(t,"unauthorized-domain")}function kM(t){const e=vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NM.test(n))return!1;if(PM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new fl(3e4,6e4);function Fx(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jM(t){return new Promise((e,n)=>{var s,i,o;function r(){Fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fx(),n(kn(t,"network-request-failed"))},timeout:RM.get()})}if((i=(s=Rn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Rn().gapi)!=null&&o.load)r();else{const a=C4("iframefcb");return Rn()[a]=()=>{gapi.load?r():n(kn(t,"network-request-failed"))},vS(`${I4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Du=null,e})}let Du=null;function DM(t){return Du=Du||jM(t),Du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new fl(5e3,15e3),MM="__/auth/iframe",LM="emulator/auth/iframe",OM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UM(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hg(e,LM):`https://${t.config.authDomain}/${MM}`,r={apiKey:e.apiKey,appName:t.name,v:lo},s=FM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${dl(r).slice(1)}`}async function BM(t){const e=await DM(t),n=Rn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:UM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=Rn().setTimeout(()=>{i(o)},VM.get());function u(){Rn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$M=500,HM=600,WM="_blank",qM="http://localhost";class Ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(t,e,n,r=$M,s=HM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...zM,width:r.toString(),height:s.toString(),top:i,left:o},h=gt().toLowerCase();n&&(a=hS(h)?WM:n),uS(h)&&(e=e||qM,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(g4(h)&&a!=="_self")return KM(e||"",a),new Ux(null);const p=window.open(e||"",a,d);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Ux(p)}function KM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="__/auth/handler",YM="emulator/auth/handler",XM=encodeURIComponent("fac");async function Bx(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lo,eventId:s};if(e instanceof _S){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof ml){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),h=u?`#${XM}=${encodeURIComponent(u)}`:"";return`${JM(t)}?${dl(a).slice(1)}${h}`}function JM({config:t}){return t.emulator?hg(t,YM):`https://${t.authDomain}/${QM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class ZM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NS,this._completeRedirectFn=TM,this._overrideRedirectResult=wM}async _openPopup(e,n,r,s){var o;hr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Bx(e,n,r,vp(),s);return GM(e,i,gg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Bx(e,n,r,vp(),s);return nM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BM(e),r=new IM(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yd,{type:Yd},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Yd];i!==void 0&&n(!!i),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gS()||cS()||fg()}}const eL=ZM;var zx="@firebase/auth",$x="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rL(t){Qi(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(t)},h=new E4(r,s,i,u);return R4(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new Bs("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(r=>new tL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(zx,$x,nL(t)),Gr(zx,$x,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=5*60,iL=qT("authIdTokenMaxAge")||sL;let Hx=null;const oL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iL)return;const s=n==null?void 0:n.token;Hx!==s&&(Hx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aL(t=JT()){const e=ug(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k4(t,{popupRedirectResolver:eL,persistence:[hM,Z4,NS]}),r=qT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oL(i.toString());Y4(n,o,()=>o(n.currentUser)),Q4(n,a=>o(a))}}const s=HT("auth");return s&&j4(n,`http://${s}`),n}function lL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}T4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rL("Browser");var Wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,MS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function S(){}S.prototype=w.prototype,I.D=w.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(P,k,R){for(var N=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)N[fe-2]=arguments[fe];return w.prototype[k].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,w,S){S||(S=0);var P=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)P[k]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(k=0;16>k;++k)P[k]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=I.g[0],S=I.g[1],k=I.g[2];var R=I.g[3],N=w+(R^S&(k^R))+P[0]+3614090360&4294967295;w=S+(N<<7&4294967295|N>>>25),N=R+(k^w&(S^k))+P[1]+3905402710&4294967295,R=w+(N<<12&4294967295|N>>>20),N=k+(S^R&(w^S))+P[2]+606105819&4294967295,k=R+(N<<17&4294967295|N>>>15),N=S+(w^k&(R^w))+P[3]+3250441966&4294967295,S=k+(N<<22&4294967295|N>>>10),N=w+(R^S&(k^R))+P[4]+4118548399&4294967295,w=S+(N<<7&4294967295|N>>>25),N=R+(k^w&(S^k))+P[5]+1200080426&4294967295,R=w+(N<<12&4294967295|N>>>20),N=k+(S^R&(w^S))+P[6]+2821735955&4294967295,k=R+(N<<17&4294967295|N>>>15),N=S+(w^k&(R^w))+P[7]+4249261313&4294967295,S=k+(N<<22&4294967295|N>>>10),N=w+(R^S&(k^R))+P[8]+1770035416&4294967295,w=S+(N<<7&4294967295|N>>>25),N=R+(k^w&(S^k))+P[9]+2336552879&4294967295,R=w+(N<<12&4294967295|N>>>20),N=k+(S^R&(w^S))+P[10]+4294925233&4294967295,k=R+(N<<17&4294967295|N>>>15),N=S+(w^k&(R^w))+P[11]+2304563134&4294967295,S=k+(N<<22&4294967295|N>>>10),N=w+(R^S&(k^R))+P[12]+1804603682&4294967295,w=S+(N<<7&4294967295|N>>>25),N=R+(k^w&(S^k))+P[13]+4254626195&4294967295,R=w+(N<<12&4294967295|N>>>20),N=k+(S^R&(w^S))+P[14]+2792965006&4294967295,k=R+(N<<17&4294967295|N>>>15),N=S+(w^k&(R^w))+P[15]+1236535329&4294967295,S=k+(N<<22&4294967295|N>>>10),N=w+(k^R&(S^k))+P[1]+4129170786&4294967295,w=S+(N<<5&4294967295|N>>>27),N=R+(S^k&(w^S))+P[6]+3225465664&4294967295,R=w+(N<<9&4294967295|N>>>23),N=k+(w^S&(R^w))+P[11]+643717713&4294967295,k=R+(N<<14&4294967295|N>>>18),N=S+(R^w&(k^R))+P[0]+3921069994&4294967295,S=k+(N<<20&4294967295|N>>>12),N=w+(k^R&(S^k))+P[5]+3593408605&4294967295,w=S+(N<<5&4294967295|N>>>27),N=R+(S^k&(w^S))+P[10]+38016083&4294967295,R=w+(N<<9&4294967295|N>>>23),N=k+(w^S&(R^w))+P[15]+3634488961&4294967295,k=R+(N<<14&4294967295|N>>>18),N=S+(R^w&(k^R))+P[4]+3889429448&4294967295,S=k+(N<<20&4294967295|N>>>12),N=w+(k^R&(S^k))+P[9]+568446438&4294967295,w=S+(N<<5&4294967295|N>>>27),N=R+(S^k&(w^S))+P[14]+3275163606&4294967295,R=w+(N<<9&4294967295|N>>>23),N=k+(w^S&(R^w))+P[3]+4107603335&4294967295,k=R+(N<<14&4294967295|N>>>18),N=S+(R^w&(k^R))+P[8]+1163531501&4294967295,S=k+(N<<20&4294967295|N>>>12),N=w+(k^R&(S^k))+P[13]+2850285829&4294967295,w=S+(N<<5&4294967295|N>>>27),N=R+(S^k&(w^S))+P[2]+4243563512&4294967295,R=w+(N<<9&4294967295|N>>>23),N=k+(w^S&(R^w))+P[7]+1735328473&4294967295,k=R+(N<<14&4294967295|N>>>18),N=S+(R^w&(k^R))+P[12]+2368359562&4294967295,S=k+(N<<20&4294967295|N>>>12),N=w+(S^k^R)+P[5]+4294588738&4294967295,w=S+(N<<4&4294967295|N>>>28),N=R+(w^S^k)+P[8]+2272392833&4294967295,R=w+(N<<11&4294967295|N>>>21),N=k+(R^w^S)+P[11]+1839030562&4294967295,k=R+(N<<16&4294967295|N>>>16),N=S+(k^R^w)+P[14]+4259657740&4294967295,S=k+(N<<23&4294967295|N>>>9),N=w+(S^k^R)+P[1]+2763975236&4294967295,w=S+(N<<4&4294967295|N>>>28),N=R+(w^S^k)+P[4]+1272893353&4294967295,R=w+(N<<11&4294967295|N>>>21),N=k+(R^w^S)+P[7]+4139469664&4294967295,k=R+(N<<16&4294967295|N>>>16),N=S+(k^R^w)+P[10]+3200236656&4294967295,S=k+(N<<23&4294967295|N>>>9),N=w+(S^k^R)+P[13]+681279174&4294967295,w=S+(N<<4&4294967295|N>>>28),N=R+(w^S^k)+P[0]+3936430074&4294967295,R=w+(N<<11&4294967295|N>>>21),N=k+(R^w^S)+P[3]+3572445317&4294967295,k=R+(N<<16&4294967295|N>>>16),N=S+(k^R^w)+P[6]+76029189&4294967295,S=k+(N<<23&4294967295|N>>>9),N=w+(S^k^R)+P[9]+3654602809&4294967295,w=S+(N<<4&4294967295|N>>>28),N=R+(w^S^k)+P[12]+3873151461&4294967295,R=w+(N<<11&4294967295|N>>>21),N=k+(R^w^S)+P[15]+530742520&4294967295,k=R+(N<<16&4294967295|N>>>16),N=S+(k^R^w)+P[2]+3299628645&4294967295,S=k+(N<<23&4294967295|N>>>9),N=w+(k^(S|~R))+P[0]+4096336452&4294967295,w=S+(N<<6&4294967295|N>>>26),N=R+(S^(w|~k))+P[7]+1126891415&4294967295,R=w+(N<<10&4294967295|N>>>22),N=k+(w^(R|~S))+P[14]+2878612391&4294967295,k=R+(N<<15&4294967295|N>>>17),N=S+(R^(k|~w))+P[5]+4237533241&4294967295,S=k+(N<<21&4294967295|N>>>11),N=w+(k^(S|~R))+P[12]+1700485571&4294967295,w=S+(N<<6&4294967295|N>>>26),N=R+(S^(w|~k))+P[3]+2399980690&4294967295,R=w+(N<<10&4294967295|N>>>22),N=k+(w^(R|~S))+P[10]+4293915773&4294967295,k=R+(N<<15&4294967295|N>>>17),N=S+(R^(k|~w))+P[1]+2240044497&4294967295,S=k+(N<<21&4294967295|N>>>11),N=w+(k^(S|~R))+P[8]+1873313359&4294967295,w=S+(N<<6&4294967295|N>>>26),N=R+(S^(w|~k))+P[15]+4264355552&4294967295,R=w+(N<<10&4294967295|N>>>22),N=k+(w^(R|~S))+P[6]+2734768916&4294967295,k=R+(N<<15&4294967295|N>>>17),N=S+(R^(k|~w))+P[13]+1309151649&4294967295,S=k+(N<<21&4294967295|N>>>11),N=w+(k^(S|~R))+P[4]+4149444226&4294967295,w=S+(N<<6&4294967295|N>>>26),N=R+(S^(w|~k))+P[11]+3174756917&4294967295,R=w+(N<<10&4294967295|N>>>22),N=k+(w^(R|~S))+P[2]+718787259&4294967295,k=R+(N<<15&4294967295|N>>>17),N=S+(R^(k|~w))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var S=w-this.blockSize,P=this.B,k=this.h,R=0;R<w;){if(k==0)for(;R<=S;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<w;)if(P[k++]=I.charCodeAt(R++),k==this.blockSize){s(this,P),k=0;break}}else for(;R<w;)if(P[k++]=I[R++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var S=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=S&255,S/=256;for(this.u(I),I=Array(16),w=S=0;4>w;++w)for(var P=0;32>P;P+=8)I[S++]=this.g[w]>>>P&255;return I};function i(I,w){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=w(I)}function o(I,w){this.h=w;for(var S=[],P=!0,k=I.length-1;0<=k;k--){var R=I[k]|0;P&&R==w||(S[k]=R,P=!1)}this.g=S}var a={};function u(I){return-128<=I&&128>I?i(I,function(w){return new o([w|0],0>w?-1:0)}):new o([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(h(-I));for(var w=[],S=1,P=0;I>=S;P++)w[P]=I/S|0,S*=4294967296;return new o(w,0)}function d(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return A(d(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=h(Math.pow(w,8)),P=p,k=0;k<I.length;k+=8){var R=Math.min(8,I.length-k),N=parseInt(I.substring(k,k+R),w);8>R?(R=h(Math.pow(w,R)),P=P.j(R).add(h(N))):(P=P.j(S),P=P.add(h(N)))}return P}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(C(this))return-A(this).m();for(var I=0,w=1,S=0;S<this.g.length;S++){var P=this.i(S);I+=(0<=P?P:4294967296+P)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(C(this))return"-"+A(this).toString(I);for(var w=h(Math.pow(I,6)),S=this,P="";;){var k=b(S,w).g;S=E(S,k.j(w));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=k,T(S))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function C(I){return I.h==-1}t.l=function(I){return I=E(this,I),C(I)?-1:T(I)?0:1};function A(I){for(var w=I.g.length,S=[],P=0;P<w;P++)S[P]=~I.g[P];return new o(S,~I.h).add(m)}t.abs=function(){return C(this)?A(this):this},t.add=function(I){for(var w=Math.max(this.g.length,I.g.length),S=[],P=0,k=0;k<=w;k++){var R=P+(this.i(k)&65535)+(I.i(k)&65535),N=(R>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=N>>>16,R&=65535,N&=65535,S[k]=N<<16|R}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(I,w){return I.add(A(w))}t.j=function(I){if(T(this)||T(I))return p;if(C(this))return C(I)?A(this).j(A(I)):A(A(this).j(I));if(C(I))return A(this.j(A(I)));if(0>this.l(y)&&0>I.l(y))return h(this.m()*I.m());for(var w=this.g.length+I.g.length,S=[],P=0;P<2*w;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<I.g.length;k++){var R=this.i(P)>>>16,N=this.i(P)&65535,fe=I.i(k)>>>16,te=I.i(k)&65535;S[2*P+2*k]+=N*te,v(S,2*P+2*k),S[2*P+2*k+1]+=R*te,v(S,2*P+2*k+1),S[2*P+2*k+1]+=N*fe,v(S,2*P+2*k+1),S[2*P+2*k+2]+=R*fe,v(S,2*P+2*k+2)}for(P=0;P<w;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=w;P<2*w;P++)S[P]=0;return new o(S,0)};function v(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function x(I,w){this.g=I,this.h=w}function b(I,w){if(T(w))throw Error("division by zero");if(T(I))return new x(p,p);if(C(I))return w=b(A(I),w),new x(A(w.g),A(w.h));if(C(w))return w=b(I,A(w)),new x(A(w.g),w.h);if(30<I.g.length){if(C(I)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var S=m,P=w;0>=P.l(I);)S=V(S),P=V(P);var k=L(S,1),R=L(P,1);for(P=L(P,2),S=L(S,2);!T(P);){var N=R.add(P);0>=N.l(I)&&(k=k.add(S),R=N),P=L(P,1),S=L(S,1)}return w=E(I,k.j(w)),new x(k,w)}for(k=p;0<=I.l(w);){for(S=Math.max(1,Math.floor(I.m()/w.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=h(S),N=R.j(w);C(N)||0<N.l(I);)S-=P,R=h(S),N=R.j(w);T(R)&&(R=m),k=k.add(R),I=E(I,N)}return new x(k,I)}t.A=function(I){return b(this,I).h},t.and=function(I){for(var w=Math.max(this.g.length,I.g.length),S=[],P=0;P<w;P++)S[P]=this.i(P)&I.i(P);return new o(S,this.h&I.h)},t.or=function(I){for(var w=Math.max(this.g.length,I.g.length),S=[],P=0;P<w;P++)S[P]=this.i(P)|I.i(P);return new o(S,this.h|I.h)},t.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),S=[],P=0;P<w;P++)S[P]=this.i(P)^I.i(P);return new o(S,this.h^I.h)};function V(I){for(var w=I.g.length+1,S=[],P=0;P<w;P++)S[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(S,I.h)}function L(I,w){var S=w>>5;w%=32;for(var P=I.g.length-S,k=[],R=0;R<P;R++)k[R]=0<w?I.i(R+S)>>>w|I.i(R+S+1)<<32-w:I.i(R+S);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Kr=o}).apply(typeof Wx<"u"?Wx:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LS,Go,OS,Vu,Ep,FS,US,BS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var D=l[_];if(!(D in g))break e;g=g[D]}l=l[l.length-1],_=g[l],f=f(_),f!=_&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var g=0,_=!1,D={next:function(){if(!_&&g<l.length){var M=g++;return{value:f(M,l[M]),done:!1}}return _=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function h(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,g){return l.call.apply(l.bind,arguments)}function p(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,_),l.apply(f,D)}}return function(){return l.apply(f,arguments)}}function m(l,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function y(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function T(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,D,M){for(var B=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)B[ge-2]=arguments[ge];return f.prototype[D].apply(_,B)}}function C(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function A(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(u(_)){const D=l.length||0,M=_.length||0;l.length=D+M;for(let B=0;B<M;B++)l[D+B]=_[B]}else l.push(_)}}class E{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function I(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function w(l){const f={};for(const g in l)f[g]=l[g];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let g,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(g in _)l[g]=_[g];for(let M=0;M<S.length;M++)g=S[M],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function k(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function R(l){a.setTimeout(()=>{throw l},0)}function N(){var l=q;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class fe{constructor(){this.h=this.g=null}add(f,g){const _=te.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var te=new E(()=>new ve,l=>l.reset());class ve{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,z=!1,q=new fe,Z=()=>{const l=a.Promise.resolve(void 0);Ge=()=>{l.then(X)}};var X=()=>{for(var l;l=N();){try{l.h.call(l.g)}catch(g){R(g)}var f=te;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}z=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function Gt(l,f){if(Se.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(V){e:{try{b(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:yt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Gt.aa.h.call(this)}}T(Gt,Se);var yt={2:"touch",3:"pen",4:"mouse"};Gt.prototype.h=function(){Gt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),Dh=0;function mo(l,f,g,_,D){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=D,this.key=++Dh,this.da=this.fa=!1}function Bn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qt(l){this.src=l,this.g={},this.h=0}Qt.prototype.add=function(l,f,g,_,D){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var B=Vh(l,f,_,D);return-1<B?(f=l[B],g||(f.fa=!1)):(f=new mo(f,this.src,M,!!_,D),f.fa=g,l.push(f)),f};function Sl(l,f){var g=f.type;if(g in l.g){var _=l.g[g],D=Array.prototype.indexOf.call(_,f,void 0),M;(M=0<=D)&&Array.prototype.splice.call(_,D,1),M&&(Bn(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Vh(l,f,g,_){for(var D=0;D<l.length;++D){var M=l[D];if(!M.da&&M.listener==f&&M.capture==!!g&&M.ha==_)return D}return-1}var Mh="closure_lm_"+(1e6*Math.random()|0),Lh={};function Jg(l,f,g,_,D){if(Array.isArray(f)){for(var M=0;M<f.length;M++)Jg(l,f[M],g,_,D);return null}return g=ty(g),l&&l[Kt]?l.K(f,g,h(_)?!!_.capture:!1,D):hC(l,f,g,!1,_,D)}function hC(l,f,g,_,D,M){if(!f)throw Error("Invalid event type");var B=h(D)?!!D.capture:!!D,ge=Fh(l);if(ge||(l[Mh]=ge=new Qt(l)),g=ge.add(f,g,_,B,M),g.proxy)return g;if(_=dC(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)qt||(D=B),D===void 0&&(D=!1),l.addEventListener(f.toString(),_,D);else if(l.attachEvent)l.attachEvent(ey(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function dC(){function l(g){return f.call(l.src,l.listener,g)}const f=fC;return l}function Zg(l,f,g,_,D){if(Array.isArray(f))for(var M=0;M<f.length;M++)Zg(l,f[M],g,_,D);else _=h(_)?!!_.capture:!!_,g=ty(g),l&&l[Kt]?(l=l.i,f=String(f).toString(),f in l.g&&(M=l.g[f],g=Vh(M,g,_,D),-1<g&&(Bn(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete l.g[f],l.h--)))):l&&(l=Fh(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Vh(f,g,_,D)),(g=-1<l?f[l]:null)&&Oh(g))}function Oh(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Kt])Sl(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(ey(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=Fh(f))?(Sl(g,l),g.h==0&&(g.src=null,f[Mh]=null)):Bn(l)}}}function ey(l){return l in Lh?Lh[l]:Lh[l]="on"+l}function fC(l,f){if(l.da)l=!0;else{f=new Gt(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&Oh(l),l=g.call(_,f)}return l}function Fh(l){return l=l[Mh],l instanceof Qt?l:null}var Uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ty(l){return typeof l=="function"?l:(l[Uh]||(l[Uh]=function(f){return l.handleEvent(f)}),l[Uh])}function it(){ce.call(this),this.i=new Qt(this),this.M=this,this.F=null}T(it,ce),it.prototype[Kt]=!0,it.prototype.removeEventListener=function(l,f,g,_){Zg(this,l,f,g,_)};function vt(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new Se(f,l);else if(f instanceof Se)f.target=f.target||l;else{var D=f;f=new Se(_,l),P(f,D)}if(D=!0,g)for(var M=g.length-1;0<=M;M--){var B=f.g=g[M];D=Il(B,_,!0,f)&&D}if(B=f.g=l,D=Il(B,_,!0,f)&&D,D=Il(B,_,!1,f)&&D,g)for(M=0;M<g.length;M++)B=f.g=g[M],D=Il(B,_,!1,f)&&D}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)Bn(g[_]);delete l.g[f],l.h--}}this.F=null},it.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},it.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};function Il(l,f,g,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,M=0;M<f.length;++M){var B=f[M];if(B&&!B.da&&B.capture==g){var ge=B.listener,Je=B.ha||B.src;B.fa&&Sl(l.i,B),D=ge.call(Je,_)!==!1&&D}}return D&&!_.defaultPrevented}function ny(l,f,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function ry(l){l.g=ny(()=>{l.g=null,l.i&&(l.i=!1,ry(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class pC extends ce{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ry(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(l){ce.call(this),this.h=l,this.g={}}T(go,ce);var sy=[];function iy(l){L(l.g,function(f,g){this.g.hasOwnProperty(g)&&Oh(f)},l),l.g={}}go.prototype.N=function(){go.aa.N.call(this),iy(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bh=a.JSON.stringify,mC=a.JSON.parse,gC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function zh(){}zh.prototype.h=null;function oy(l){return l.h||(l.h=l.i())}function ay(){}var yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $h(){Se.call(this,"d")}T($h,Se);function Hh(){Se.call(this,"c")}T(Hh,Se);var ms={},ly=null;function Cl(){return ly=ly||new it}ms.La="serverreachability";function uy(l){Se.call(this,ms.La,l)}T(uy,Se);function vo(l){const f=Cl();vt(f,new uy(f))}ms.STAT_EVENT="statevent";function cy(l,f){Se.call(this,ms.STAT_EVENT,l),this.stat=f}T(cy,Se);function xt(l){const f=Cl();vt(f,new cy(f,l))}ms.Ma="timingevent";function hy(l,f){Se.call(this,ms.Ma,l),this.size=f}T(hy,Se);function xo(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function yC(l,f,g,_,D,M){l.info(function(){if(l.g)if(M)for(var B="",ge=M.split("&"),Je=0;Je<ge.length;Je++){var de=ge[Je].split("=");if(1<de.length){var ot=de[0];de=de[1];var at=ot.split("_");B=2<=at.length&&at[1]=="type"?B+(ot+"="+de+"&"):B+(ot+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+f+`
`+g+`
`+B})}function vC(l,f,g,_,D,M,B){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+f+`
`+g+`
`+M+" "+B})}function ri(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+wC(l,g)+(_?" "+_:"")})}function xC(l,f){l.info(function(){return"TIMEOUT: "+f})}wo.prototype.info=function(){};function wC(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var D=_[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return Bh(g)}catch{return f}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wh;function Pl(){}T(Pl,zh),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},Wh=new Pl;function vr(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fy}function fy(){this.i=null,this.g="",this.h=!1}var py={},qh={};function Gh(l,f,g){l.L=1,l.v=Rl(zn(f)),l.m=g,l.P=!0,my(l,null)}function my(l,f){l.F=Date.now(),Nl(l),l.A=zn(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Ny(g.i,"t",_),l.C=0,g=l.j.J,l.h=new fy,l.g=Gy(l.j,g?f:null,!l.m),0<l.O&&(l.M=new pC(m(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(sy[0]=D.toString()),D=sy);for(var M=0;M<D.length;M++){var B=Jg(g,D[M],_||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),vo(),yC(l.i,l.u,l.A,l.l,l.R,l.m)}vr.prototype.ca=function(l){l=l.target;const f=this.M;f&&$n(l)==3?f.j():this.Y(l)},vr.prototype.Y=function(l){try{if(l==this.g)e:{const at=$n(this.g);var f=this.g.Ba();const oi=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||My(this.g)))){this.J||at!=4||f==7||(f==8||0>=oi?vo(3):vo(2)),Kh(this);var g=this.g.Z();this.X=g;t:if(gy(this)){var _=My(this.g);l="";var D=_.length,M=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),_o(this);var B="";break t}this.h.i=new a.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(M&&f==D-1)});_.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,vC(this.i,this.u,this.A,this.l,this.R,at,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Je=this.g;if((ge=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ge)){var de=ge;break t}}de=null}if(g=de)ri(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qh(this,g);else{this.o=!1,this.s=3,xt(12),gs(this),_o(this);break e}}if(this.P){g=!0;let ln;for(;!this.J&&this.C<B.length;)if(ln=_C(this,B),ln==qh){at==4&&(this.s=4,xt(14),g=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==py){this.s=4,xt(15),ri(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else ri(this.i,this.l,ln,null),Qh(this,ln);if(gy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||B.length!=0||this.h.h||(this.s=1,xt(16),g=!1),this.o=this.o&&g,!g)ri(this.i,this.l,B,"[Invalid Chunked Response]"),gs(this),_o(this);else if(0<B.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),td(ot),ot.M=!0,xt(11))}}else ri(this.i,this.l,B,null),Qh(this,B);at==4&&gs(this),this.o&&!this.J&&(at==4?$y(this.j,this):(this.o=!1,Nl(this)))}else OC(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),gs(this),_o(this)}}}catch{}finally{}};function gy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function _C(l,f){var g=l.C,_=f.indexOf(`
`,g);return _==-1?qh:(g=Number(f.substring(g,_)),isNaN(g)?py:(_+=1,_+g>f.length?qh:(f=f.slice(_,_+g),l.C=_+g,f)))}vr.prototype.cancel=function(){this.J=!0,gs(this)};function Nl(l){l.S=Date.now()+l.I,yy(l,l.I)}function yy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xo(m(l.ba,l),f)}function Kh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}vr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xC(this.i,this.A),this.L!=2&&(vo(),xt(17)),gs(this),this.s=2,_o(this)):yy(this,this.S-l)};function _o(l){l.j.G==0||l.J||$y(l.j,l)}function gs(l){Kh(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,iy(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Qh(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Yh(g.h,l))){if(!l.K&&Yh(g.h,l)&&g.G==3){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Ol(g),Ml(g);else break e;ed(g),xt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=xo(m(g.Za,g),6e3));if(1>=wy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else vs(g,11)}else if((l.K||g.g==l)&&Ol(g),!v(f))for(D=g.Da.g.parse(f),f=0;f<D.length;f++){let de=D[f];if(g.T=de[0],de=de[1],g.G==2)if(de[0]=="c"){g.K=de[1],g.ia=de[2];const ot=de[3];ot!=null&&(g.la=ot,g.j.info("VER="+g.la));const at=de[4];at!=null&&(g.Aa=at,g.j.info("SVER="+g.Aa));const oi=de[5];oi!=null&&typeof oi=="number"&&0<oi&&(_=1.5*oi,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const ln=l.g;if(ln){const Ul=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var M=_.h;M.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Xh(M,M.h),M.h=null))}if(_.D){const nd=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;nd&&(_.ya=nd,xe(_.I,_.D,nd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var B=l;if(_.qa=qy(_,_.J?_.ia:null,_.W),B.K){_y(_.h,B);var ge=B,Je=_.L;Je&&(ge.I=Je),ge.B&&(Kh(ge),Nl(ge)),_.g=B}else By(_);0<g.i.length&&Ll(g)}else de[0]!="stop"&&de[0]!="close"||vs(g,7);else g.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?vs(g,7):Zh(g):de[0]!="noop"&&g.l&&g.l.ta(de),g.v=0)}}vo(4)}catch{}}var EC=class{constructor(l,f){this.g=l,this.map=f}};function vy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function wy(l){return l.h?1:l.g?l.g.size:0}function Yh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Xh(l,f){l.g?l.g.add(f):l.h=f}function _y(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}vy.prototype.cancel=function(){if(this.i=Ey(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ey(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return C(l.i)}function TC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}f=[],g=0;for(_ in l)f[g++]=l[_];return f}function SC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}function Ty(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=SC(l),_=TC(l),D=_.length,M=0;M<D;M++)f.call(void 0,_[M],g&&g[M],l)}var Sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IC(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),D=null;if(0<=_){var M=l[g].substring(0,_);D=l[g].substring(_+1)}else M=l[g];f(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ys(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ys){this.h=l.h,Al(this,l.j),this.o=l.o,this.g=l.g,kl(this,l.s),this.l=l.l;var f=l.i,g=new So;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Iy(this,g),this.m=l.m}else l&&(f=String(l).match(Sy))?(this.h=!1,Al(this,f[1]||"",!0),this.o=Eo(f[2]||""),this.g=Eo(f[3]||"",!0),kl(this,f[4]),this.l=Eo(f[5]||"",!0),Iy(this,f[6]||"",!0),this.m=Eo(f[7]||"")):(this.h=!1,this.i=new So(null,this.h))}ys.prototype.toString=function(){var l=[],f=this.j;f&&l.push(To(f,Cy,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(To(f,Cy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(To(g,g.charAt(0)=="/"?PC:bC,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",To(g,AC)),l.join("")};function zn(l){return new ys(l)}function Al(l,f,g){l.j=g?Eo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function kl(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Iy(l,f,g){f instanceof So?(l.i=f,kC(l.i,l.h)):(g||(f=To(f,NC)),l.i=new So(f,l.h))}function xe(l,f,g){l.i.set(f,g)}function Rl(l){return xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Eo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function To(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,CC),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function CC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Cy=/[#\/\?@]/g,bC=/[#\?:]/g,PC=/[#\?]/g,NC=/[#\?@]/g,AC=/#/g;function So(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function xr(l){l.g||(l.g=new Map,l.h=0,l.i&&IC(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=So.prototype,t.add=function(l,f){xr(this),this.i=null,l=si(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function by(l,f){xr(l),f=si(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Py(l,f){return xr(l),f=si(l,f),l.g.has(f)}t.forEach=function(l,f){xr(this),this.g.forEach(function(g,_){g.forEach(function(D){l.call(f,D,_,this)},this)},this)},t.na=function(){xr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const D=l[_];for(let M=0;M<D.length;M++)g.push(f[_])}return g},t.V=function(l){xr(this);let f=[];if(typeof l=="string")Py(this,l)&&(f=f.concat(this.g.get(si(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return xr(this),this.i=null,l=si(this,l),Py(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ny(l,f,g){by(l,f),0<g.length&&(l.i=null,l.g.set(si(l,f),C(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const M=encodeURIComponent(String(_)),B=this.V(_);for(_=0;_<B.length;_++){var D=M;B[_]!==""&&(D+="="+encodeURIComponent(String(B[_]))),l.push(D)}}return this.i=l.join("&")};function si(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function kC(l,f){f&&!l.j&&(xr(l),l.i=null,l.g.forEach(function(g,_){var D=_.toLowerCase();_!=D&&(by(this,_),Ny(this,D,g))},l)),l.j=f}function RC(l,f){const g=new wo;if(a.Image){const _=new Image;_.onload=y(wr,g,"TestLoadImage: loaded",!0,f,_),_.onerror=y(wr,g,"TestLoadImage: error",!1,f,_),_.onabort=y(wr,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=y(wr,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function jC(l,f){const g=new wo,_=new AbortController,D=setTimeout(()=>{_.abort(),wr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(M=>{clearTimeout(D),M.ok?wr(g,"TestPingServer: ok",!0,f):wr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),wr(g,"TestPingServer: error",!1,f)})}function wr(l,f,g,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(g)}catch{}}function DC(){this.g=new gC}function VC(l,f,g){const _=g||"";try{Ty(l,function(D,M){let B=D;h(D)&&(B=Bh(D)),f.push(_+M+"="+encodeURIComponent(B))})}catch(D){throw f.push(_+"type="+encodeURIComponent("_badmap")),D}}function jl(l){this.l=l.Ub||null,this.j=l.eb||!1}T(jl,zh),jl.prototype.g=function(){return new Dl(this.l,this.j)},jl.prototype.i=function(l){return function(){return l}}({});function Dl(l,f){it.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Dl,it),t=Dl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Co(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ay(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ay(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Io(this):Co(this),this.readyState==3&&Ay(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Io(this))},t.Qa=function(l){this.g&&(this.response=l,Io(this))},t.ga=function(){this.g&&Io(this)};function Io(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Co(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Co(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ky(l){let f="";return L(l,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function Jh(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=ky(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):xe(l,f,g))}function je(l){it.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(je,it);var MC=/^https?$/i,LC=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wh.g(),this.v=this.o?oy(this.o):oy(Wh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(M){Ry(this,M);return}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)g.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())g.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LC,f,void 0))||_||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of g)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vy(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Ry(this,M)}};function Ry(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,jy(l),Vl(l)}function jy(l){l.A||(l.A=!0,vt(l,"complete"),vt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,vt(this,"complete"),vt(this,"abort"),Vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dy(this):this.bb())},t.bb=function(){Dy(this)};function Dy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||$n(l)!=4||l.Z()!=2)){if(l.u&&$n(l)==4)ny(l.Ea,0,l);else if(vt(l,"readystatechange"),$n(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=B===0){var D=String(l.D).match(Sy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),_=!MC.test(D?D.toLowerCase():"")}g=_}if(g)vt(l,"complete"),vt(l,"success");else{l.m=6;try{var M=2<$n(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",jy(l)}}finally{Vl(l)}}}}function Vl(l,f){if(l.g){Vy(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||vt(l,"ready");try{g.onreadystatechange=_}catch{}}}function Vy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function $n(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),mC(f)}};function My(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function OC(l){const f={};l=(l.g&&2<=$n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(v(l[_]))continue;var g=k(l[_]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=f[D]||[];f[D]=M,M.push(g)}I(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Ly(l){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,l),this.cb=bo("retryDelaySeedMs",1e4,l),this.Wa=bo("forwardChannelMaxRetries",2,l),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vy(l&&l.concurrentRequestLimit),this.Da=new DC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ly.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,_){xt(0),this.W=l,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=qy(this,null,this.W),Ll(this)};function Zh(l){if(Oy(l),l.G==3){var f=l.U++,g=zn(l.I);if(xe(g,"SID",l.K),xe(g,"RID",f),xe(g,"TYPE","terminate"),Po(l,g),f=new vr(l,l.j,f),f.L=2,f.v=Rl(zn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Gy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Nl(f)}Wy(l)}function Ml(l){l.g&&(td(l),l.g.cancel(),l.g=null)}function Oy(l){Ml(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ol(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ll(l){if(!xy(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ge||Z(),z||(Ge(),z=!0),q.add(f,l),l.B=0}}function FC(l,f){return wy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xo(m(l.Ga,l,f),Hy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new vr(this,this.j,l);let M=this.o;if(this.S&&(M?(M=w(M),P(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Uy(this,D,f),g=zn(this.I),xe(g,"RID",l),xe(g,"CVER",22),this.D&&xe(g,"X-HTTP-Session-Id",this.D),Po(this,g),M&&(this.O?f="headers="+encodeURIComponent(String(ky(M)))+"&"+f:this.m&&Jh(g,this.m,M)),Xh(this.h,D),this.Ua&&xe(g,"TYPE","init"),this.P?(xe(g,"$req",f),xe(g,"SID","null"),D.T=!0,Gh(D,g,null)):Gh(D,g,f),this.G=2}}else this.G==3&&(l?Fy(this,l):this.i.length==0||xy(this.h)||Fy(this))};function Fy(l,f){var g;f?g=f.l:g=l.U++;const _=zn(l.I);xe(_,"SID",l.K),xe(_,"RID",g),xe(_,"AID",l.T),Po(l,_),l.m&&l.o&&Jh(_,l.m,l.o),g=new vr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Uy(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Xh(l.h,g),Gh(g,_,f)}function Po(l,f){l.H&&L(l.H,function(g,_){xe(f,_,g)}),l.l&&Ty({},function(g,_){xe(f,_,g)})}function Uy(l,f,g){g=Math.min(l.i.length,g);var _=l.l?m(l.l.Na,l.l,l):null;e:{var D=l.i;let M=-1;for(;;){const B=["count="+g];M==-1?0<g?(M=D[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let ge=!0;for(let Je=0;Je<g;Je++){let de=D[Je].g;const ot=D[Je].map;if(de-=M,0>de)M=Math.max(0,D[Je].g-100),ge=!1;else try{VC(ot,B,"req"+de+"_")}catch{_&&_(ot)}}if(ge){_=B.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function By(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ge||Z(),z||(Ge(),z=!0),q.add(f,l),l.v=0}}function ed(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xo(m(l.Fa,l),Hy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,zy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Ml(this),zy(this))};function td(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function zy(l){l.g=new vr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=zn(l.qa);xe(f,"RID","rpc"),xe(f,"SID",l.K),xe(f,"AID",l.T),xe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&xe(f,"TO",l.ja),xe(f,"TYPE","xmlhttp"),Po(l,f),l.m&&l.o&&Jh(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Rl(zn(f)),g.m=null,g.P=!0,my(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Ml(this),ed(this),xt(19))};function Ol(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function $y(l,f){var g=null;if(l.g==f){Ol(l),td(l),l.g=null;var _=2}else if(Yh(l.h,f))g=f.D,_y(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var D=l.B;_=Cl(),vt(_,new hy(_,g)),Ll(l)}else By(l);else if(D=f.s,D==3||D==0&&0<f.X||!(_==1&&FC(l,f)||_==2&&ed(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),D){case 1:vs(l,5);break;case 4:vs(l,10);break;case 3:vs(l,6);break;default:vs(l,2)}}}function Hy(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function vs(l,f){if(l.j.info("Error code "+f),f==2){var g=m(l.fb,l),_=l.Xa;const D=!_;_=new ys(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Al(_,"https"),Rl(_),D?RC(_.toString(),g):jC(_.toString(),g)}else xt(2);l.G=0,l.l&&l.l.sa(f),Wy(l),Oy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Wy(l){if(l.G=0,l.ka=[],l.l){const f=Ey(l.h);(f.length!=0||l.i.length!=0)&&(A(l.ka,f),A(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function qy(l,f,g){var _=g instanceof ys?zn(g):new ys(g);if(_.g!="")f&&(_.g=f+"."+_.g),kl(_,_.s);else{var D=a.location;_=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var M=new ys(null);_&&Al(M,_),f&&(M.g=f),D&&kl(M,D),g&&(M.l=g),_=M}return g=l.D,f=l.ya,g&&f&&xe(_,g,f),xe(_,"VER",l.la),Po(l,_),_}function Gy(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new je(new jl({eb:g})):new je(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ky(){}t=Ky.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fl(){}Fl.prototype.g=function(l,f){return new Mt(l,f)};function Mt(l,f){it.call(this),this.g=new Ly(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ii(this)}T(Mt,it),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Zh(this.g)},Mt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Bh(l),l=g);f.i.push(new EC(f.Ya++,l)),f.G==3&&Ll(f)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,Mt.aa.N.call(this)};function Qy(l){$h.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}T(Qy,$h);function Yy(){Hh.call(this),this.status=1}T(Yy,Hh);function ii(l){this.g=l}T(ii,Ky),ii.prototype.ua=function(){vt(this.g,"a")},ii.prototype.ta=function(l){vt(this.g,new Qy(l))},ii.prototype.sa=function(l){vt(this.g,new Yy)},ii.prototype.ra=function(){vt(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,BS=function(){return new Fl},US=function(){return Cl()},FS=ms,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,Vu=bl,dy.COMPLETE="complete",OS=dy,ay.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",it.prototype.listen=it.prototype.K,Go=ay,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,LS=je}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",Gx="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new ag("@firebase/firestore");function li(){return Hs.logLevel}function $(t,...e){if(Hs.logLevel<=oe.DEBUG){const n=e.map(vg);Hs.debug(`Firestore (${co}): ${t}`,...n)}}function dr(t,...e){if(Hs.logLevel<=oe.ERROR){const n=e.map(vg);Hs.error(`Firestore (${co}): ${t}`,...n)}}function Yi(t,...e){if(Hs.logLevel<=oe.WARN){const n=e.map(vg);Hs.warn(`Firestore (${co}): ${t}`,...n)}}function vg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zS(t,r,n)}function zS(t,e,n){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dr(r),new Error(r)}function pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||zS(e,s,r)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class cL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hL{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new $S(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class dL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const r=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Tp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Xd(s)===Xd(i)?ae(s,i):Xd(s)?1:-1}return ae(t.length,e.length)}const gL=55296,yL=57343;function Xd(t){const e=t.charCodeAt(0);return e>=gL&&e<=yL}function Xi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="__name__";class Cn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Cn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ae(e.length,n.length)}static compareSegments(e,n){const r=Cn.isNumericId(e),s=Cn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cn.extractNumericId(e).compare(Cn.extractNumericId(n)):Tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class be extends Cn{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const vL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends Cn{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return vL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qx}static keyField(){return new tt([Qx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(be.fromString(e))}static fromName(e){return new G(be.fromString(e).popFirst(5))}static empty(){return new G(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yx(t){if(!G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e){const n={typeString:t};return e&&(n.value=e),n}function yl(t,e){if(!HS(t))throw new W(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=-62135596800,Jx=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Jx);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xx)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jx}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yl(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Be("string",_e._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new _e(0,0))}static max(){return new J(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=-1;function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new es(s,G.empty(),e)}function EL(t){return new es(t.readTime,t.key,$a)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(J.min(),G.empty(),$a)}static max(){return new es(J.max(),G.empty(),$a)}}function TL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==SL)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(d=>{o[h]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function CL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function vh(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function bL(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function PL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zx(e)),e=NL(t.get(n),e);return Zx(e)}function NL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case WS:n+="";break;default:n+=i}}return n}function Zx(t){return t+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??et.RED,this.left=s??et.EMPTY,this.right=i??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new et(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Ft([])}unionWith(e){let n=new qe(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ft(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GS("Invalid base64 string: "+i):i}}(e);return new st(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=AL.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="server_timestamp",QS="__type__",YS="__previous_value__",XS="__local_write_time__";function Eg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QS])==null?void 0:r.stringValue)===KS}function xh(t){const e=t.mapValue.fields[YS];return Eg(e)?xh(e):e}function Ha(t){const e=ts(t.mapValue.fields[XS].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,s,i,o,a,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Ac="(default)";class Wa{constructor(e,n){this.projectId=e,this.database=n||Ac}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="__type__",RL="__max__",du={mapValue:{}},ZS="__vector__",kc="value";function rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eg(t)?4:DL(t)?9007199254740991:jL(t)?10:11:Y(28295,{value:t})}function On(t,e){if(t===e)return!0;const n=rs(t);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ha(t).isEqual(Ha(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ts(s.timestampValue),a=ts(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ns(s.bytesValue).isEqual(ns(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ve(s.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(s.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ve(s.integerValue)===Ve(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ve(s.doubleValue),a=Ve(i.doubleValue);return o===a?Nc(o)===Nc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ew(o)!==ew(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!On(o[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function qa(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;const n=rs(t),r=rs(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ve(i.integerValue||i.doubleValue),u=Ve(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return nw(t.timestampValue,e.timestampValue);case 4:return nw(Ha(t),Ha(e));case 5:return Tp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ns(i),u=ns(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const d=ae(a[h],u[h]);if(d!==0)return d}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ae(Ve(i.latitude),Ve(o.latitude));return a!==0?a:ae(Ve(i.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,T,C;const a=i.fields||{},u=o.fields||{},h=(m=a[kc])==null?void 0:m.arrayValue,d=(y=u[kc])==null?void 0:y.arrayValue,p=ae(((T=h==null?void 0:h.values)==null?void 0:T.length)||0,((C=d==null?void 0:d.values)==null?void 0:C.length)||0);return p!==0?p:rw(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===du.mapValue&&o===du.mapValue)return 0;if(i===du.mapValue)return 1;if(o===du.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Tp(u[p],d[p]);if(m!==0)return m;const y=Ji(a[u[p]],h[d[p]]);if(y!==0)return y}return ae(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function nw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=ts(t),r=ts(e),s=ae(n.seconds,r.seconds);return s!==0?s:ae(n.nanos,r.nanos)}function rw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ji(n[s],r[s]);if(i)return i}return ae(n.length,r.length)}function Zi(t){return Sp(t)}function Sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sp(n.fields[o])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function Mu(t){switch(rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(t);return e?16+Mu(e):16;case 5:return 2*t.stringValue.length;case 6:return ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Mu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ds(r.fields,(i,o)=>{s+=i.length+Mu(o)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function Ip(t){return!!t&&"integerValue"in t}function Tg(t){return!!t&&"arrayValue"in t}function sw(t){return!!t&&"nullValue"in t}function iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lu(t){return!!t&&"mapValue"in t}function jL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JS])==null?void 0:r.stringValue)===ZS}function da(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=da(t.arrayValue.values[n]);return e}return{...t}}function DL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(n)}setAll(e){let n=tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=da(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new At(da(this.value))}}function eI(t){const e=[];return ds(t.fields,(n,r)=>{const s=new tt([n]);if(Lu(r)){const i=eI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ft(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,J.min(),J.min(),J.min(),At.empty(),0)}static newFoundDocument(e,n,r,s){return new pt(e,1,n,J.min(),r,s,0)}static newNoDocument(e,n){return new pt(e,2,n,J.min(),J.min(),At.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,J.min(),J.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.position=e,this.inclusive=n}}function ow(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function aw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function VL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{}class $e extends tI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new UL(e,r):n==="in"?new BL(e,r):n==="not-in"?new zL(e,r):n==="array-contains-any"?new $L(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OL(e,r):new FL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ji(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends tI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fn(e,n)}matches(e){return nI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nI(t){return t.op==="and"}function rI(t){return ML(t)&&nI(t)}function ML(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Cp(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(rI(t))return t.filters.map(e=>Cp(e)).join(",");{const e=t.filters.map(n=>Cp(n)).join(",");return`${t.op}(${e})`}}function sI(t,e){return t instanceof $e?function(r,s){return s instanceof $e&&r.op===s.op&&r.field.isEqual(s.field)&&On(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&sI(o,s.filters[a]),!0):!1}(t,e):void Y(19439)}function iI(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(iI).join(" ,")+"}"}(t):"Filter"}class LL extends $e{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class OL extends $e{constructor(e,n){super(e,"in",n),this.keys=oI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FL extends $e{constructor(e,n){super(e,"not-in",n),this.keys=oI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class UL extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tg(n)&&qa(n.arrayValue,this.value)}}class BL extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qa(this.value.arrayValue,n)}}class zL extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qa(this.value.arrayValue,n)}}class $L extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function lw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new HL(t,e,n,r,s,i,o)}function Sg(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.Te=n}return e.Te}function Ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aw(t.startAt,e.startAt)&&aw(t.endAt,e.endAt)}function bp(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WL(t,e,n,r,s,i,o,a){return new wh(t,e,n,r,s,i,o,a)}function Cg(t){return new wh(t)}function uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qL(t){return t.collectionGroup!==null}function fa(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qe(tt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new jc(i,r))}),n.has(tt.keyField().canonicalString())||e.Ie.push(new jc(tt.keyField(),r))}return e.Ie}function jn(t){const e=ee(t);return e.Ee||(e.Ee=GL(e,fa(t))),e.Ee}function GL(t,e){if(t.limitType==="F")return lw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jc(s.field,i)});const n=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return lw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pp(t,e,n){return new wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return Ig(jn(t),jn(e))&&t.limitType===e.limitType}function aI(t){return`${Sg(jn(t))}|lt:${t.limitType}`}function ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iI(s)).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zi(s)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of fa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const h=ow(o,a,u);return o.inclusive?h<=0:h<0}(r.startAt,fa(r),s)||r.endAt&&!function(o,a,u){const h=ow(o,a,u);return o.inclusive?h>=0:h>0}(r.endAt,fa(r),s))}(t,e)}function KL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lI(t){return(e,n)=>{let r=!1;for(const s of fa(t)){const i=QL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QL(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),h=a.data.field(i);return u!==null&&h!==null?Ji(u,h):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=new Re(G.comparator);function fr(){return YL}const uI=new Re(G.comparator);function Ko(...t){let e=uI;for(const n of t)e=e.insert(n.key,n);return e}function cI(t){let e=uI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return pa()}function hI(){return pa()}function pa(){return new ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const XL=new Re(G.comparator),JL=new qe(G.comparator);function le(...t){let e=JL;for(const n of t)e=e.add(n);return e}const ZL=new qe(ae);function eO(){return ZL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function dI(t){return{integerValue:""+t}}function tO(t,e){return bL(e)?dI(e):bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function nO(t,e,n){return t instanceof Dc?function(s,i){const o={fields:{[QS]:{stringValue:KS},[XS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Eg(i)&&(i=xh(i)),i&&(o.fields[YS]=i),{mapValue:o}}(n,e):t instanceof Ga?pI(t,e):t instanceof Ka?mI(t,e):function(s,i){const o=fI(s,i),a=cw(o)+cw(s.Ae);return Ip(o)&&Ip(s.Ae)?dI(a):bg(s.serializer,a)}(t,e)}function rO(t,e,n){return t instanceof Ga?pI(t,e):t instanceof Ka?mI(t,e):n}function fI(t,e){return t instanceof Vc?function(r){return Ip(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dc extends Th{}class Ga extends Th{constructor(e){super(),this.elements=e}}function pI(t,e){const n=gI(e);for(const r of t.elements)n.some(s=>On(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ka extends Th{constructor(e){super(),this.elements=e}}function mI(t,e){let n=gI(e);for(const r of t.elements)n=n.filter(s=>!On(s,r));return{arrayValue:{values:n}}}class Vc extends Th{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cw(t){return Ve(t.integerValue||t.doubleValue)}function gI(t){return Tg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ga&&s instanceof Ga||r instanceof Ka&&s instanceof Ka?Xi(r.elements,s.elements,On):r instanceof Vc&&s instanceof Vc?On(r.Ae,s.Ae):r instanceof Dc&&s instanceof Dc}(t.transform,e.transform)}class iO{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sh{}function yI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xI(t.key,Dn.none()):new vl(t.key,t.data,Dn.none());{const n=t.data,r=At.empty();let s=new qe(tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fs(t.key,r,new Ft(s.toArray()),Dn.none())}}function oO(t,e,n){t instanceof vl?function(s,i,o){const a=s.value.clone(),u=dw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,i,o){if(!Ou(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=dw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(vI(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,r){return t instanceof vl?function(i,o,a,u){if(!Ou(i.precondition,o))return a;const h=i.value.clone(),d=fw(i.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(i,o,a,u){if(!Ou(i.precondition,o))return a;const h=fw(i.fieldTransforms,u,o),d=o.data;return d.setAll(vI(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Ou(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function aO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=fI(r.transform,s||null);i!=null&&(n===null&&(n=At.empty()),n.set(r.field,i))}return n||null}function hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xi(r,s,(i,o)=>sO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vl extends Sh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends Sh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dw(t,e,n){const r=new Map;pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,rO(o,a,n[s]))}return r}function fw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,nO(i,o,e))}return r}class xI extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lO extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&oO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=yI(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>hw(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>hw(n,r))}}class Pg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return XL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Pg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ue;function dO(t){switch(t){case F.OK:return Y(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function wI(t){if(t===void 0)return dr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Oe.OK:return F.OK;case Oe.CANCELLED:return F.CANCELLED;case Oe.UNKNOWN:return F.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return F.INTERNAL;case Oe.UNAVAILABLE:return F.UNAVAILABLE;case Oe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Oe.NOT_FOUND:return F.NOT_FOUND;case Oe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Oe.ABORTED:return F.ABORTED;case Oe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Oe.DATA_LOSS:return F.DATA_LOSS;default:return Y(39323,{code:t})}}(ue=Oe||(Oe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Kr([4294967295,4294967295],0);function pw(t){const e=fO().encode(t),n=new MS;return n.update(e),new Uint8Array(n.digest())}function mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Kr([n,r],0),new Kr([s,i],0)]}class Ng{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qo(`Invalid padding: ${n}`);if(r<0)throw new Qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Kr.fromNumber(r)));return s.compare(pO)===1&&(s=new Kr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pw(e),[r,s]=mw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ng(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=pw(e),[r,s]=mw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ih(J.min(),s,new Re(ae),fr(),le())}}class xl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xl(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class _I{constructor(e,n){this.targetId=e,this.Ce=n}}class EI{constructor(e,n,r=st.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class gw{constructor(){this.ve=0,this.Fe=yw(),this.Me=st.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),r=le();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y(38017,{changeType:i})}}),new xl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mO{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=fu(),this.He=fu(),this.Ye=new Re(ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(bp(i))if(r===0){const o=new G(i.path);this.et(n,o,pt.newNoDocument(o,J.min()))}else pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ns(r).toUint8Array()}catch(u){if(u instanceof GS)return Yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ng(o,s,i)}catch(u){return Yi(u instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&bp(a.target)){const u=new G(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,pt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=le();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ih(e,n,this.Ye,this.je,r);return this.je=fr(),this.Je=fu(),this.He=fu(),this.Ye=new Re(ae),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qe(ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qe(ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fu(){return new Re(G.comparator)}function yw(){return new Re(G.comparator)}const gO={asc:"ASCENDING",desc:"DESCENDING"},yO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vO={and:"AND",or:"OR"};class xO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wO(t,e){return Mc(t,e.toTimestamp())}function Vn(t){return pe(!!t,49232),J.fromTimestamp(function(n){const r=ts(n);return new _e(r.seconds,r.nanos)}(t))}function Ag(t,e){return Ap(t,e).canonicalString()}function Ap(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SI(t){const e=be.fromString(t);return pe(NI(e),10190,{key:e.toString()}),e}function kp(t,e){return Ag(t.databaseId,e.path)}function Jd(t,e){const n=SI(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(CI(n))}function II(t,e){return Ag(t.databaseId,e)}function _O(t){const e=SI(t);return e.length===4?be.emptyPath():CI(e)}function Rp(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CI(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vw(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function EO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(pe(d===void 0||typeof d=="string",58123),st.fromBase64String(d||"")):(pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const d=h.code===void 0?F.UNKNOWN:wI(h.code);return new W(d,h.message||"")}(o);n=new EI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jd(t,r.document.name),i=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):J.min(),a=new At({mapValue:{fields:r.document.fields}}),u=pt.newFoundDocument(s,i,o,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Fu(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jd(t,r.document),i=r.readTime?Vn(r.readTime):J.min(),o=pt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jd(t,r.document),i=r.removedTargetIds||[];n=new Fu([],i,s,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hO(s,i),a=r.targetId;n=new _I(a,o)}}return n}function TO(t,e){let n;if(e instanceof vl)n={update:vw(t,e.key,e.value)};else if(e instanceof xI)n={delete:kp(t,e.key)};else if(e instanceof fs)n={update:vw(t,e.key,e.data),updateMask:RO(e.fieldMask)};else{if(!(e instanceof lO))return Y(16599,{Vt:e.type});n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:wO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y(27497)}(t,e.precondition)),n}function SO(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Vn(s.updateTime):Vn(i);return o.isEqual(J.min())&&(o=Vn(i)),new iO(o,s.transformResults||[])}(n,e))):[]}function IO(t,e){return{documents:[II(t,e.path)]}}function CO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=II(t,s);const i=function(h){if(h.length!==0)return PI(Fn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:ci(m.field),direction:NO(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Np(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function bO(t){let e=_O(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){pe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const m=bI(p);return m instanceof Fn&&rI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(T){return new jc(hi(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,vh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,y=p.values||[];return new Rc(y,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,y=p.values||[];return new Rc(y,m)}(n.endAt)),WL(e,s,o,i,a,"F",u,h)}function PO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hi(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=hi(n.unaryFilter.field);return $e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hi(n.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hi(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(hi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>bI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function NO(t){return gO[t]}function AO(t){return yO[t]}function kO(t){return vO[t]}function ci(t){return{fieldPath:t.canonicalString()}}function hi(t){return tt.fromServerFormat(t.fieldPath)}function PI(t){return t instanceof $e?function(n){if(n.op==="=="){if(iw(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NAN"}};if(sw(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iw(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NAN"}};if(sw(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(n.field),op:AO(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>PI(s));return r.length===1?r[0]:{compositeFilter:{op:kO(n.op),filters:r}}}(t):Y(54877,{filter:t})}function RO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,s,i=J.min(),o=J.min(),a=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.yt=e}}function DO(t){const e=bO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Cn=new MO}addToCollectionParentIndex(e,n){return this.Cn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(es.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class MO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qe(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qe(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AI=41943040;class bt{static withCacheSize(e){return new bt(e,bt.DEFAULT_COLLECTION_PERCENTILE,bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bt.DEFAULT_COLLECTION_PERCENTILE=10,bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bt.DEFAULT=new bt(AI,bt.DEFAULT_COLLECTION_PERCENTILE,bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bt.DISABLED=new bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="LruGarbageCollector",LO=1048576;function _w([t,e],[n,r]){const s=ae(t,n);return s===0?ae(e,r):s}class OO{constructor(e){this.Ir=e,this.buffer=new qe(_w),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_w(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$(ww,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?$(ww,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Vr(3e5)})}}class UO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(yh.ce);const r=new OO(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(xw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),li()<=oe.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function BO(t,e){return new UO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.changes=new ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ma(r.mutation,s,Ft.empty(),_e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=Ns();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ko();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=fr();const o=pa(),a=function(){return pa()}();return n.forEach((u,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof fs)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),ma(d.mutation,h,d.mutation.getFieldMask(),_e.now())):o.set(h.key,Ft.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>a.set(h,new $O(d,o.get(h)??null))),a))}recalculateAndSaveOverlays(e,n){const r=pa();let s=new Re((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||Ft.empty();d=a.applyToLocalView(h,d),r.set(u,d);const p=(s.get(a.batchId)||le()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,d=u.value,p=hI();d.forEach(m=>{if(!i.has(m)){const y=yI(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Ns());let a=$a,u=i;return o.next(h=>O.forEach(h,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,le())).next(d=>({batchId:a,changes:cI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=Ko();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ko();return this.indexManager.getCollectionParents(e,i).next(a=>O.forEach(a,u=>{const h=function(p,m){return new wh(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,pt.newInvalidDocument(d)))});let a=Ko();return o.forEach((u,h)=>{const d=i.get(u);d!==void 0&&ma(d.mutation,h,Ft.empty(),_e.now()),Eh(n,h)&&(a=a.insert(u,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return O.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:DO(s.bundledQuery),readTime:Vn(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.overlays=new Re(G.comparator),this.qr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Ns(),i=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Re((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Ns(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=Ns(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=s)););return O.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cO(n,r));let i=this.qr.get(n);i===void 0&&(i=le(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Qr=new qe(Ke.$r),this.Ur=new qe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ke(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new G(new be([])),r=new Ke(n,e),s=new Ke(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new be([])),r=new Ke(n,e),s=new Ke(n,e+1);let i=le();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ke(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||ae(e.Yr,n.Yr)}static Kr(e,n){return ae(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ke.$r)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ke(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?_g:this.tr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),s=new Ke(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(ae);return n.forEach(s=>{const i=new Ke(s,0),o=new Ke(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),O.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const o=new Ke(new G(i),0);let a=new qe(ae);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(a=a.add(u.Yr)),!0)},o),O.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return O.forEach(n.mutations,s=>{const i=new Ke(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ke(n,0),s=this.Zr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.ri=e,this.docs=function(){return new Re(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pt.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=fr();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||TL(EL(d),r)<=0||(s.has(d.key)||Eh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y(9500)}ii(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YO(this)}getSize(e){return O.resolve(this.size)}}class YO extends zO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.persistence=e,this.si=new ei(n=>Sg(n),Ig),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new kg,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),O.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Pr(n),O.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new GO,this.referenceDelegate=e(this),this.Pi=new XO(this),this.indexManager=new VO,this.remoteDocumentCache=function(s){return new QO(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new jO(n),this.Ii=new WO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new KO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const s=new JO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return O.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class JO extends IL{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new kg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.fi,r=>{const s=G.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return O.or([()=>O.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lc{constructor(e,n){this.persistence=e,this.pi=new ei(r=>PL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=BO(this,n)}static mi(e,n){return new Lc(e,n)}Ei(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return O.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?O.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,J.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),O.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mu(e.data.value)),n}br(e,n,r){return O.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return O.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AD()?8:CL(gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ZO;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(li()<=oe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),O.resolve()):(li()<=oe.DEBUG&&$("QueryEngine","Query:",ui(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(li()<=oe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):O.resolve())}ys(e,n){if(uw(n))return O.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Pp(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,a);return this.Cs(n,h,o,u.readTime)?this.ys(e,Pp(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,s){return uw(n)||s.isEqual(J.min())?O.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?O.resolve(null):(li()<=oe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ui(n)),this.vs(e,o,n,_L(s,$a)).next(a=>a))})}Ds(e,n){let r=new qe(lI(e));return n.forEach((s,i)=>{Eh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return li()<=oe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ui(n)),this.ps.getDocumentsMatchingQuery(e,n,es.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",t3=3e8;class n3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Re(ae),this.xs=new ei(i=>Sg(i),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function r3(t,e,n,r){return new n3(t,e,n,r)}async function RI(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=le();for(const h of s){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:a}))})})}function s3(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,h,d){const p=h.batch,m=p.keys();let y=O.resolve();return m.forEach(T=>{y=y.next(()=>d.getEntry(u,T)).next(C=>{const A=h.docVersions.get(T);pe(A!==null,48541),C.version.compareTo(A)<0&&(p.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),d.addEntry(C)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jI(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function i3(t,e){const n=ee(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,p)=>{const m=s.get(p);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(st.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(C,A,E){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=t3?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,y,d)&&a.push(n.Pi.updateTargetData(i,y))});let u=fr(),h=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(o3(i,o,e.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!r.isEqual(J.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ms=s,i))}function o3(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=fr();return n.forEach((a,u)=>{const h=i.get(a);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$(Dg,"Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),{ks:o,qs:s}})}function a3(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_g),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l3(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function jp(t,e,n){const r=ee(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fo(o))throw o;$(Dg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Ew(t,e,n){const r=ee(t);let s=J.min(),i=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const p=ee(u),m=p.xs.get(d);return m!==void 0?O.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,d)}(r,o,jn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:J.min(),n?i:le())).next(a=>(u3(r,KL(e),a),{documents:a,Qs:i})))}function u3(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Tw{constructor(){this.activeTargetIds=eO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c3{constructor(){this.Mo=new Tw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class Iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$(Sw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$(Sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu=null;function Dp(){return pu===null?pu=function(){return 268435456+Math.round(2147483648*Math.random())}():pu++,"0x"+pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",d3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ac?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Dp(),a=this.zo(e,n.toUriEncodedString());$(Zd,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:h}=new URL(a),d=ao(h);return this.Jo(e,a,u,r,d).then(p=>($(Zd,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Yi(Zd,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=d3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class m3 extends f3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Dp();return new Promise((a,u)=>{const h=new LS;h.setWithCredentials(!0),h.listenOnce(OS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Vu.NO_ERROR:const p=h.getResponseJson();$(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Vu.TIMEOUT:$(ct,`RPC '${e}' ${o} timed out`),u(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const m=h.getStatus();if($(ct,`RPC '${e}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const C=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(T.status);u(new W(C,T.message))}else u(new W(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new W(F.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{$(ct,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);$(ct,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Dp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BS(),a=US(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");$(ct,`Creating RPC '${e}' stream ${s}: ${d}`,u);const p=o.createWebChannel(d,u);this.I_(p);let m=!1,y=!1;const T=new p3({Yo:A=>{y?$(ct,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(m||($(ct,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),$(ct,`RPC '${e}' stream ${s} sending:`,A),p.send(A))},Zo:()=>p.close()}),C=(A,E,v)=>{A.listen(E,x=>{try{v(x)}catch(b){setTimeout(()=>{throw b},0)}})};return C(p,Go.EventType.OPEN,()=>{y||($(ct,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),C(p,Go.EventType.CLOSE,()=>{y||(y=!0,$(ct,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(p))}),C(p,Go.EventType.ERROR,A=>{y||(y=!0,Yi(ct,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new W(F.UNAVAILABLE,"The operation could not be completed")))}),C(p,Go.EventType.MESSAGE,A=>{var E;if(!y){const v=A.data[0];pe(!!v,16349);const x=v,b=(x==null?void 0:x.error)||((E=x[0])==null?void 0:E.error);if(b){$(ct,`RPC '${e}' stream ${s} received error:`,b);const V=b.status;let L=function(S){const P=Oe[S];if(P!==void 0)return wI(P)}(V),I=b.message;L===void 0&&(L=F.INTERNAL,I="Unknown error status: "+V+" with message "+b.message),y=!0,T.a_(new W(L,I)),p.close()}else $(ct,`RPC '${e}' stream ${s} received:`,v),T.u_(v)}}),C(a,FS.STAT_EVENT,A=>{A.stat===Ep.PROXY?$(ct,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Ep.NOPROXY&&$(ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return new xO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&$("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="PersistentStream";class VI{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $(Cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():($(Cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g3 extends VI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EO(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Vn(o.readTime):J.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Rp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=bp(u)?{documents:IO(i,u)}:{query:CO(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TI(i,o.resumeToken);const h=Np(i,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Mc(i,o.snapshotVersion.toTimestamp());const h=Np(i,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=PO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.q_(n)}}class y3 extends VI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SO(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TO(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class x3 extends v3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ap(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Ap(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):$("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class _3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ti(this)&&($(qs,"Restarting streams for network reachability change."),await async function(u){const h=ee(u);h.Ea.add(4),await wl(h),h.Ra.set("Unknown"),h.Ea.delete(4),await bh(h)}(this))})}),this.Ra=new w3(r,s)}}async function bh(t){if(ti(t))for(const e of t.da)await e(!0)}async function wl(t){for(const e of t.da)await e(!1)}function MI(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Og(n)?Lg(n):po(n).O_()&&Mg(n,e))}function Vg(t,e){const n=ee(t),r=po(n);n.Ia.delete(e),r.O_()&&LI(n,e),n.Ia.size===0&&(r.O_()?r.L_():ti(n)&&n.Ra.set("Unknown"))}function Mg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(t).Y_(e)}function LI(t,e){t.Va.Ue(e),po(t).Z_(e)}function Lg(t){t.Va=new mO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),po(t).start(),t.Ra.ua()}function Og(t){return ti(t)&&!po(t).x_()&&t.Ia.size>0}function ti(t){return ee(t).Ea.size===0}function OI(t){t.Va=void 0}async function E3(t){t.Ra.set("Online")}async function T3(t){t.Ia.forEach((e,n)=>{Mg(t,e)})}async function S3(t,e){OI(t),Og(t)?(t.Ra.ha(e),Lg(t)):t.Ra.set("Unknown")}async function I3(t,e,n){if(t.Ra.set("Online"),e instanceof EI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){$(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oc(t,r)}else if(e instanceof Fu?t.Va.Ze(e):e instanceof _I?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const r=await jI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(st.EMPTY_BYTE_STRING,d.snapshotVersion)),LI(i,u);const p=new Vr(d.target,u,h,d.sequenceNumber);Mg(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$(qs,"Failed to raise snapshot:",r),await Oc(t,r)}}async function Oc(t,e,n){if(!fo(e))throw e;t.Ea.add(1),await wl(t),t.Ra.set("Offline"),n||(n=()=>jI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(qs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bh(t)})}function FI(t,e){return e().catch(n=>Oc(t,n,e))}async function Ph(t){const e=ee(t),n=ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_g;for(;C3(e);)try{const s=await a3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,b3(e,s)}catch(s){await Oc(e,s)}UI(e)&&BI(e)}function C3(t){return ti(t)&&t.Ta.length<10}function b3(t,e){t.Ta.push(e);const n=ss(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UI(t){return ti(t)&&!ss(t).x_()&&t.Ta.length>0}function BI(t){ss(t).start()}async function P3(t){ss(t).ra()}async function N3(t){const e=ss(t);for(const n of t.Ta)e.ea(n.mutations)}async function A3(t,e,n){const r=t.Ta.shift(),s=Pg.from(r,e,n);await FI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ph(t)}async function k3(t,e){e&&ss(t).X_&&await async function(r,s){if(function(o){return dO(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();ss(r).B_(),await FI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ph(r)}}(t,e),UI(t)&&BI(t)}async function bw(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),$(qs,"RemoteStore received new credentials");const r=ti(n);n.Ea.add(3),await wl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bh(n)}async function R3(t,e){const n=ee(t);e?(n.Ea.delete(2),await bh(n)):e||(n.Ea.add(2),await wl(n),n.Ra.set("Unknown"))}function po(t){return t.ma||(t.ma=function(n,r,s){const i=ee(n);return i.sa(),new g3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:E3.bind(null,t),t_:T3.bind(null,t),r_:S3.bind(null,t),H_:I3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Og(t)?Lg(t):t.Ra.set("Unknown")):(await t.ma.stop(),OI(t))})),t.ma}function ss(t){return t.fa||(t.fa=function(n,r,s){const i=ee(n);return i.sa(),new y3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:P3.bind(null,t),r_:k3.bind(null,t),ta:N3.bind(null,t),na:A3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ph(t)):(await t.fa.stop(),t.Ta.length>0&&($(qs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Fg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(t,e){if(dr("AsyncQueue",`${e}: ${t}`),fo(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{static emptySet(e){return new Fi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Ko(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.ga=new Re(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class to{constructor(e,n,r,s,i,o,a,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new to(e,n,Fi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class D3{constructor(){this.queries=Nw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ee(n),i=s.queries;s.queries=Nw(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function Nw(){return new ei(t=>aI(t),_h)}async function V3(t,e){const n=ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new j3,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ug(o,`Initialization of query '${ui(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Bg(n)}async function M3(t,e){const n=ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L3(t,e){const n=ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Bg(n)}function O3(t,e,n){const r=ee(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Bg(t){t.Ca.forEach(e=>{e.next()})}var Vp,Aw;(Aw=Vp||(Vp={})).Ma="default",Aw.Cache="cache";class F3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.key=e}}class $I{constructor(e){this.key=e}}class U3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=lI(e),this.tu=new Fi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Pw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const m=s.get(d),y=Eh(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;m&&y?m.data.isEqual(y.data)?T!==C&&(r.track({type:3,doc:y}),A=!0):this.su(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||h)&&(a=!0)),A&&(y?(o=o.add(y),i=C?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,p)=>function(y,T){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:A})}};return C(y)-C(T)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new to(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new $I(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new zI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zg="SyncEngine";class B3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class z3{constructor(e){this.key=e,this.hu=!1}}class $3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ei(a=>aI(a),_h),this.Iu=new Map,this.Eu=new Set,this.du=new Re(G.comparator),this.Au=new Map,this.Ru=new kg,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H3(t,e,n=!0){const r=QI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await HI(r,e,n,!0),s}async function W3(t,e){const n=QI(t);await HI(n,e,!0,!1)}async function HI(t,e,n,r){const s=await l3(t.localStore,jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await q3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MI(t.remoteStore,s),a}async function q3(t,e,n,r,s){t.pu=(p,m,y)=>async function(C,A,E,v){let x=A.view.ru(E);x.Cs&&(x=await Ew(C.localStore,A.query,!1).then(({documents:I})=>A.view.ru(I,x)));const b=v&&v.targetChanges.get(A.targetId),V=v&&v.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(x,C.isPrimaryClient,b,V);return Rw(C,A.targetId,L.au),L.snapshot}(t,p,m,y);const i=await Ew(t.localStore,e,!0),o=new U3(e,i.Qs),a=o.ru(i.documents),u=xl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(a,t.isPrimaryClient,u);Rw(t,n,h.au);const d=new B3(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function G3(t,e,n){const r=ee(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!_h(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vg(r.remoteStore,s.targetId),Mp(r,s.targetId)}).catch(ho)):(Mp(r,s.targetId),await jp(r.localStore,s.targetId,!0))}async function K3(t,e){const n=ee(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vg(n.remoteStore,r.targetId))}async function Q3(t,e,n){const r=n6(t);try{const s=await function(o,a){const u=ee(o),h=_e.now(),d=a.reduce((y,T)=>y.add(T.key),le());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=fr(),C=le();return u.Ns.getEntries(y,d).next(A=>{T=A,T.forEach((E,v)=>{v.isValidDocument()||(C=C.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(A=>{p=A;const E=[];for(const v of a){const x=aO(v,p.get(v.key).overlayedDocument);x!=null&&E.push(new fs(v.key,x,eI(x.value.mapValue),Dn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,E,a)}).next(A=>{m=A;const E=A.applyToLocalDocumentSet(p,C);return u.documentOverlayCache.saveOverlays(y,A.batchId,E)})}).then(()=>({batchId:m.batchId,changes:cI(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Re(ae)),h=h.insert(a,u),o.Vu[o.currentUser.toKey()]=h}(r,s.batchId,n),await _l(r,s.changes),await Ph(r.remoteStore)}catch(s){const i=Ug(s,"Failed to persist write");n.reject(i)}}async function WI(t,e){const n=ee(t);try{const r=await i3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?pe(o.hu,14607):s.removedDocuments.size>0&&(pe(o.hu,42227),o.hu=!1))}),await _l(n,r,e)}catch(r){await ho(r)}}function kw(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ee(o);u.onlineState=a;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.va(a)&&(h=!0)}),h&&Bg(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y3(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Re(G.comparator);o=o.insert(i,pt.newNoDocument(i,J.min()));const a=le().add(i),u=new Ih(J.min(),new Map,new Re(ae),o,a);await WI(r,u),r.du=r.du.remove(i),r.Au.delete(e),$g(r)}else await jp(r.localStore,e,!1).then(()=>Mp(r,e,n)).catch(ho)}async function X3(t,e){const n=ee(t),r=e.batch.batchId;try{const s=await s3(n.localStore,e);GI(n,r,null),qI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _l(n,s)}catch(s){await ho(s)}}async function J3(t,e,n){const r=ee(t);try{const s=await function(o,a){const u=ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,a).next(p=>(pe(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);GI(r,e,n),qI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _l(r,s)}catch(s){await ho(s)}}function qI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function GI(t,e,n){const r=ee(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Mp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||KI(t,r)})}function KI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$g(t))}function Rw(t,e,n){for(const r of n)r instanceof zI?(t.Ru.addReference(r.key,e),Z3(t,r)):r instanceof $I?($(zg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KI(t,r.key)):Y(19791,{wu:r})}function Z3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||($(zg,"New document in limbo: "+n),t.Eu.add(r),$g(t))}function $g(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(be.fromString(e)),r=t.fu.next();t.Au.set(r,new z3(n)),t.du=t.du.insert(n,r),MI(t.remoteStore,new Vr(jn(Cg(n.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function _l(t,e,n){const r=ee(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=jg.As(u.targetId,h);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,h){const d=ee(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(h,m=>O.forEach(m.Es,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.ds,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!fo(p))throw p;$(Dg,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=d.Ms.get(m),T=y.snapshotVersion,C=y.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(m,C)}}}(r.localStore,i))}async function e6(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){$(zg,"User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new W(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _l(n,r.Ls)}}function t6(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return le().add(r.key);{let s=le();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function QI(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y3.bind(null,e),e.Pu.H_=L3.bind(null,e.eventManager),e.Pu.yu=O3.bind(null,e.eventManager),e}function n6(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J3.bind(null,e),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r3(this.persistence,new e3,e.initialUser,this.serializer)}Cu(e){return new kI(Rg.mi,this.serializer)}Du(e){return new c3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class r6 extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof Lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bt.withCacheSize(this.cacheSizeBytes):bt.DEFAULT;return new kI(r=>Lc.mi(r,n),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e6.bind(null,this.syncEngine),await R3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D3}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),r=function(i){return new m3(i)}(e.databaseInfo);return function(i,o,a,u){return new x3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new _3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kw(this.syncEngine,n,0),function(){return Iw.v()?new Iw:new h3}())}createSyncEngine(e,n){return function(s,i,o,a,u,h,d){const p=new $3(s,i,o,a,u,h);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ee(s);$(qs,"RemoteStore shutting down."),i.Ea.add(5),await wl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class i6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dt.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{$(is,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(is,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),$(is,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o6(t);$(is,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>bw(e.remoteStore,s)),t._onlineComponents=e}async function o6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(is,"Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new Fc)}}else $(is,"Using default OfflineComponentProvider"),await tf(t,new r6(void 0));return t._offlineComponents}async function YI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(is,"Using user provided OnlineComponentProvider"),await jw(t,t._uninitializedComponentsProvider._online)):($(is,"Using default OnlineComponentProvider"),await jw(t,new Lp))),t._onlineComponents}function a6(t){return YI(t).then(e=>e.syncEngine)}async function l6(t){const e=await YI(t),n=e.eventManager;return n.onListen=H3.bind(null,e.syncEngine),n.onUnlisten=G3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K3.bind(null,e.syncEngine),n}function u6(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,h){const d=new s6({next:m=>{d.Nu(),o.enqueueAndForget(()=>M3(i,p));const y=m.docs.has(a);!y&&m.fromCache?h.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?h.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new F3(Cg(a.path),d,{includeMetadataChanges:!0,qa:!0});return V3(i,p)}(await l6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firestore.googleapis.com",Vw=!0;class Mw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JI,this.ssl=Vw}else this.host=e.host,this.ssl=e.ssl??Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LO)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uL;switch(r.type){case"firstParty":return new fL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dw.get(n);r&&($("ComponentProvider","Removing Datastore"),Dw.delete(n),r.terminate())}(this),Promise.resolve()}}function c6(t,e,n,r={}){var h;t=Ws(t,Hg);const s=ao(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(GT(`https://${a}`),KT("Firestore",!0)),i.host!==JI&&i.host!==a&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!Us(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=dt.MOCK_USER;else{d=_D(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dt(m)}t._authCredentials=new cL(new $S(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wg(this.firestore,e,this._query)}}class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yl(n,We._jsonSchema))return new We(e,r||null,new G(be.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Be("string",We._jsonSchemaVersion),referencePath:Be("string")};class Qa extends Wg{constructor(e,n,r){super(e,n,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new G(e))}withConverter(e){return new Qa(this.firestore,e,this._path)}}function El(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=xg.newId()),xL("doc","path",e),t instanceof Hg){const r=be.fromString(e,...n);return Yx(r),new We(t,null,new G(r))}{if(!(t instanceof We||t instanceof Qa))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Yx(r),new We(t.firestore,t instanceof Qa?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Ow{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DI(this,"async_queue_retry"),this._c=()=>{const r=ef();r&&$(Lw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;$(Lw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",Fw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Fg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Y(47125,{Pc:Fw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Fw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Nh extends Hg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ow,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function h6(t,e){const n=typeof t=="object"?t:JT(),r=typeof t=="string"?t:Ac,s=ug(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xD("firestore");i&&c6(s,...i)}return s}function ZI(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d6(t),t._firestoreClient}function d6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,h,d){return new kL(a,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new i6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(st.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tn(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yl(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:Be("string",tn._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mn._jsonSchemaVersion}}static fromJSON(e){if(yl(e,Mn._jsonSchema))return new Mn(e.latitude,e.longitude)}}Mn._jsonSchemaVersion="firestore/geoPoint/1.0",Mn._jsonSchema={type:Be("string",Mn._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ln._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yl(e,Ln._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ln(e.vectorValues);throw new W(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ln._jsonSchemaVersion="firestore/vectorValue/1.0",Ln._jsonSchema={type:Be("string",Ln._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^__.*__$/;class p6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vl(e,this.data,n,this.fieldTransforms)}}class eC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class Gg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tC(this.Ac)&&f6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(e)}Cc(e,n,r,s=!1){return new Gg({Ac:e,methodName:n,Dc:r,path:tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nC(t){const e=t._freezeSettings(),n=Ch(t._databaseId);return new m6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g6(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Kg("Data must be an object, but it was:",o,r);const a=rC(r,o);let u,h;if(i.merge)u=new Ft(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const m=Op(e,p,n);if(!o.contains(m))throw new W(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);iC(d,m)||d.push(m)}u=new Ft(d),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new p6(new At(a),u,h)}class kh extends qg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function y6(t,e,n,r){const s=t.Cc(1,e,n);Kg("Data must be an object, but it was:",s,r);const i=[],o=At.empty();ds(r,(u,h)=>{const d=Qg(e,u,n);h=Tt(h);const p=s.yc(d);if(h instanceof kh)i.push(d);else{const m=Rh(h,p);m!=null&&(i.push(d),o.set(d,m))}});const a=new Ft(i);return new eC(o,a,s.fieldTransforms)}function v6(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Op(e,r,n)],u=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Op(e,i[m])),u.push(i[m+1]);const h=[],d=At.empty();for(let m=a.length-1;m>=0;--m)if(!iC(h,a[m])){const y=a[m];let T=u[m];T=Tt(T);const C=o.yc(y);if(T instanceof kh)h.push(y);else{const A=Rh(T,C);A!=null&&(h.push(y),d.set(y,A))}}const p=new Ft(h);return new eC(d,p,o.fieldTransforms)}function Rh(t,e){if(sC(t=Tt(t)))return Kg("Unsupported field value:",e,t),rC(t,e);if(t instanceof qg)return function(r,s){if(!tC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Rh(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_e.fromDate(r);return{timestampValue:Mc(s.serializer,i)}}if(r instanceof _e){const i=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mc(s.serializer,i)}}if(r instanceof Mn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tn)return{bytesValue:TI(s.serializer,r._byteString)};if(r instanceof We){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ag(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ln)return function(o,a){return{mapValue:{fields:{[JS]:{stringValue:ZS},[kc]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.Sc("VectorValues must only contain numeric values.");return bg(a.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${wg(r)}`)}(t,e)}function rC(t,e){const n={};return qS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,s)=>{const i=Rh(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function sC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof Mn||t instanceof tn||t instanceof We||t instanceof qg||t instanceof Ln)}function Kg(t,e,n){if(!sC(n)||!HS(n)){const r=wg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Op(t,e,n){if((e=Tt(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return Qg(t,e);throw Uc("Field path arguments must be of type string or ",t,!1,void 0,n)}const x6=new RegExp("[~\\*/\\[\\]]");function Qg(t,e,n){if(e.search(x6)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(F.INVALID_ARGUMENT,a+t+u)}function iC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w6 extends oC{data(){return super.data()}}function aC(t,e){return typeof e=="string"?Qg(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}class _6{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[kc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ve(o.doubleValue));return new Ln(n)}convertGeoPoint(e){return new Mn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ha(e));default:return null}}convertTimestamp(e){const n=ts(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);pe(NI(r),9688,{name:e});const s=new Wa(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||dr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends oC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:Be("string",js._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Uu extends js{data(e={}){return super.data(e)}}class ga{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Uu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Uu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:T6(a.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){t=Ws(t,We);const e=Ws(t.firestore,Nh);return u6(ZI(e),t._key).then(n=>b6(e,t,n))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Be("string",ga._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class S6 extends _6{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function I6(t,e,n){t=Ws(t,We);const r=Ws(t.firestore,Nh),s=E6(t.converter,e);return lC(r,[g6(nC(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Dn.none())])}function C6(t,e,n,...r){t=Ws(t,We);const s=Ws(t.firestore,Nh),i=nC(s);let o;return o=typeof(e=Tt(e))=="string"||e instanceof Ah?v6(i,"updateDoc",t._key,e,n,r):y6(i,"updateDoc",t._key,e),lC(s,[o.toMutation(t._key,Dn.exists(!0))])}function lC(t,e){return function(r,s){const i=new Qr;return r.asyncQueue.enqueueAndForget(async()=>Q3(await a6(r),s,i)),i.promise}(ZI(t),e)}function b6(t,e,n){const r=n.docs.get(e._key),s=new S6(t);return new js(t,s,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){co=s})(lo),Qi(new Bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Nh(new hL(r.getProvider("auth-internal")),new pL(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(h.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Gr(qx,Gx,e),Gr(qx,Gx,"esm2020")})();const P6={apiKey:"AIzaSyCzbio5pa2HJQ8Q8HwLNsezaPnht9vI2B4",authDomain:"groupmoq.firebaseapp.com",projectId:"groupmoq",storageBucket:"groupmoq.appspot.com",messagingSenderId:"498359963663",appId:"1:498359963663:web:b180b74b717f3112db537a"},uC=XT(P6),Gs=aL(uC),Tl=h6(uC);function ps({inverted:t=!1}){const[e,n]=j.useState(!1),[r,s]=j.useState(!1),[i,o]=j.useState(null),[a,u]=j.useState(null),[h,d]=j.useState(!1),p=oo();j.useEffect(()=>{const v=()=>s(window.scrollY>20);return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),j.useEffect(()=>{const v=Gs.onAuthStateChanged(async x=>{if(o(x),x)try{const b=await Yg(El(Tl,"users",x.uid));b.exists()&&u(b.data())}catch(b){console.error("Error fetching user profile:",b)}else u(null)});return()=>v()},[]);const m=async()=>{try{await IS(Gs),d(!1),p("/")}catch(v){console.error("Sign out failed:",v)}},y="text-sm transition hover:opacity-90",T="text-white hover:text-white",C="text-slate-700 hover:text-slate-900",A=`${y} ${r?C:t?T:C}`,E=r?"border-slate-300 text-slate-800 hover:bg-slate-50":t?"border-white text-white hover:bg-white hover:text-[#1B2A41]":"border-slate-300 text-slate-800 hover:bg-slate-50";return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:`fixed top-0 left-0 w-full z-100 transition-colors duration-300 ${r?"bg-white/90 backdrop-blur border-b border-slate-200 shadow-sm":"bg-transparent"}`,children:[c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-lg grid place-items-center font-black",style:{backgroundColor:r?"#1B2A41":t?"#F0A92D":"#1B2A41",color:r?"white":t?"#1B2A41":"white"},children:"G"}),c.jsx(Nt,{to:"/",className:`font-semibold ${r?"text-slate-900":t?"text-white":"text-slate-900"}`,children:"GroupMOQ"})]}),c.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[c.jsx(hn,{to:"/",className:A,children:"Home"}),c.jsx(hn,{to:"/how-it-works",className:A,children:"How it works"}),c.jsx(hn,{to:"/pools",className:A,children:"Open pools"}),c.jsx(hn,{to:"/suppliers",className:A,children:"For suppliers"}),c.jsx(hn,{to:"/how-it-works#faq",className:A,children:"FAQ"}),i&&a?c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>d(!h),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${r?"hover:bg-slate-100 text-slate-700":t?"hover:bg-white/10 text-white":"hover:bg-slate-100 text-slate-700"}`,children:[c.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:c.jsx($d,{className:"h-4 w-4 text-white"})}),c.jsx("span",{className:"text-sm font-medium",children:a.businessName||"User"}),c.jsx(ig,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]}),h&&c.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 py-2",style:{zIndex:99999,position:"absolute",pointerEvents:"auto"},onClick:v=>v.stopPropagation(),children:[c.jsxs("div",{className:"px-4 py-2 border-b border-slate-100",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900",children:a.businessName}),c.jsx("p",{className:"text-xs text-slate-500",children:i.email}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:a.userType})]}),c.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),console.log("Dashboard clicked!"),d(!1),p("/dashboard")},className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 w-full text-left",style:{background:"none",border:"none",cursor:"pointer",pointerEvents:"auto"},children:[c.jsx($d,{className:"h-4 w-4"}),"Dashboard"]}),c.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),console.log("Profile Settings clicked!"),d(!1),p("/profile-setup")},className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 w-full text-left",style:{background:"none",border:"none",cursor:"pointer",pointerEvents:"auto"},children:[c.jsx(UT,{className:"h-4 w-4"}),"Profile Settings"]}),c.jsx("div",{className:"border-t border-slate-100 mt-2 pt-2",children:c.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),console.log("Sign out clicked!"),m()},className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",style:{background:"none",border:"none",cursor:"pointer",pointerEvents:"auto"},children:[c.jsx(OT,{className:"h-4 w-4"}),"Sign Out"]})})]})]}):c.jsx(Nt,{to:"/signin",className:`rounded-md border px-4 py-2 transition ${E}`,children:"Sign in"})]}),c.jsx("button",{className:`md:hidden ${r?"text-slate-900":t?"text-white":"text-slate-900"}`,onClick:()=>n(!e),children:e?c.jsx(Yn,{size:24}):c.jsx(nD,{size:24})})]}),e&&c.jsxs("div",{className:"md:hidden bg-[#0F1826] text-white px-6 py-6 space-y-5 shadow-lg",children:[c.jsx(hn,{to:"/",className:"block text-lg",onClick:()=>n(!1),children:"Home"}),c.jsx(hn,{to:"/how-it-works",className:"block text-lg",onClick:()=>n(!1),children:"How it works"}),c.jsx(hn,{to:"/pools",className:"block text-lg",onClick:()=>n(!1),children:"Open pools"}),c.jsx(hn,{to:"/suppliers",className:"block text-lg",onClick:()=>n(!1),children:"For suppliers"}),c.jsx(hn,{to:"/how-it-works#faq",className:"block text-lg",onClick:()=>n(!1),children:"FAQ"}),i&&a?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-slate-700 pt-5",children:c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:c.jsx($d,{className:"h-5 w-5 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:a.businessName}),c.jsx("p",{className:"text-sm text-slate-400 capitalize",children:a.userType})]})]})}),c.jsx(Nt,{to:"/dashboard",onClick:()=>n(!1),className:"block text-lg",children:"Dashboard"}),c.jsx(Nt,{to:"/profile-setup",onClick:()=>n(!1),className:"block text-lg",children:"Profile Settings"}),c.jsx("button",{onClick:()=>{n(!1),m()},className:"block w-full text-left text-lg text-red-400",children:"Sign Out"})]}):c.jsx(Nt,{to:"/signin",onClick:()=>n(!1),className:"block w-full rounded-md border px-4 py-2 text-center transition border-white text-white hover:bg-white hover:text-[#1B2A41]",children:"Sign in"})]})]}),c.jsx("div",{className:"h-16"})]})}const Uw={navy:"#1B2A41"};function N6(){const[t,e]=j.useState(""),[n,r]=j.useState(""),s=oo(),i=async o=>{o.preventDefault();try{const u=(await K4(Gs,t,n)).user,h=await Yg(El(Tl,"users",u.uid));h.exists()&&h.data().profileComplete?s("/dashboard"):s("/profile-setup")}catch(a){console.error("Login failed:",a.message),alert("Login failed: "+a.message)}};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#0F1826] to-[#15233A] text-white",children:[c.jsx(ps,{inverted:!0}),c.jsx("section",{className:"flex flex-grow items-center justify-center px-4 sm:px-6 lg:px-8 pt-16 pb-12",children:c.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md rounded-2xl bg-white p-8 shadow-lg text-slate-900",children:[c.jsx("h1",{className:"text-2xl font-extrabold text-center text-slate-900",children:"Sign in to GroupMOQ"}),c.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Escrow-protected platform. Your info stays safe."}),c.jsxs("form",{onSubmit:i,className:"mt-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx(og,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"email",required:!0,placeholder:"you@example.com",value:t,onChange:o=>e(o.target.value),className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#1B2A41]"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx(dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"password",required:!0,placeholder:"••••••••",value:n,onChange:o=>r(o.target.value),className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#1B2A41]"})]})]}),c.jsx("button",{type:"submit",className:"w-full rounded-lg px-4 py-2.5 font-medium text-white hover:opacity-90",style:{backgroundColor:Uw.navy},children:"Sign In"})]}),c.jsxs("div",{className:"mt-4 text-sm text-center text-slate-600",children:["Don’t have an account?"," ",c.jsx(Nt,{to:"/signup",className:"font-medium hover:underline",style:{color:Uw.navy},children:"Create one"})]})]})}),c.jsx(ni,{})]})}const Bw={navy:"#1B2A41"};function A6(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(""),o=oo(),a=async u=>{if(u.preventDefault(),n!==s){alert("Passwords do not match");return}try{const d=(await G4(Gs,t,n)).user;await I6(El(Tl,"users",d.uid),{uid:d.uid,email:d.email,profileComplete:!1}),o("/profile-setup")}catch(h){console.error("Signup failed:",h.message),alert("Signup failed: "+h.message)}};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#0F1826] to-[#15233A] text-white",children:[c.jsx(ps,{inverted:!0}),c.jsx("section",{className:"flex flex-grow items-center justify-center px-4 sm:px-6 lg:px-8 pt-16 pb-12",children:c.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md rounded-2xl bg-white p-8 shadow-lg text-slate-900",children:[c.jsx("h1",{className:"text-2xl font-extrabold text-center text-slate-900",children:"Create your GroupMOQ account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Join the escrow-protected group buying platform."}),c.jsxs("form",{onSubmit:a,className:"mt-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx(og,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"email",required:!0,placeholder:"you@example.com",value:t,onChange:u=>e(u.target.value),className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#1B2A41]"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx(dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"password",required:!0,placeholder:"••••••••",value:n,onChange:u=>r(u.target.value),className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#1B2A41]"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx(dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"password",required:!0,placeholder:"••••••••",value:s,onChange:u=>i(u.target.value),className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#1B2A41]"})]})]}),c.jsx("button",{type:"submit",className:"w-full rounded-lg px-4 py-2.5 font-medium text-white hover:opacity-90",style:{backgroundColor:Bw.navy},children:"Create Account"})]}),c.jsxs("div",{className:"mt-4 text-sm text-center text-slate-600",children:["Already have an account?"," ",c.jsx(Nt,{to:"/signin",className:"font-medium hover:underline",style:{color:Bw.navy},children:"Sign in"})]})]})}),c.jsx(ni,{})]})}const k6={navy:"#1B2A41"};function R6(){const[t,e]=j.useState({fullName:"",businessName:"",userType:"buyer",country:"",phone:"",products:"",email:"",password:""}),n=oo(),r=i=>{e({...t,[i.target.name]:i.target.value})},s=async i=>{i.preventDefault();try{const o=Gs.currentUser;if(!o)throw new Error("No authenticated user");await C6(El(Tl,"users",o.uid),{...t,profileComplete:!0,updatedAt:new Date}),n("/dashboard")}catch(o){console.error("Profile setup failed:",o.message),alert("Error: "+o.message)}};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#0F1826] to-[#15233A] text-white",children:[c.jsx(ps,{inverted:!0}),c.jsx("section",{className:"flex flex-grow items-center justify-center px-4 sm:px-6 lg:px-8 pt-16 pb-12",children:c.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md rounded-2xl bg-white p-8 shadow-lg text-slate-900",children:[c.jsx("h1",{className:"text-2xl font-extrabold text-center text-slate-900",children:"Complete Your Profile"}),c.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Tell us about your business so we can customize your experience."}),c.jsxs("form",{onSubmit:s,className:"mt-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Full Name"}),c.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:r,placeholder:"John Doe",required:!0,className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Business / Brand Name"}),c.jsx("input",{type:"text",name:"businessName",value:t.businessName,onChange:r,placeholder:"My Trading Co.",required:!0,className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"I am a..."}),c.jsxs("select",{name:"userType",value:t.userType,onChange:r,className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[c.jsx("option",{value:"buyer",children:"Buyer"}),c.jsx("option",{value:"supplier",children:"Supplier"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Country"}),c.jsx("input",{type:"text",name:"country",value:t.country,onChange:r,placeholder:"Vietnam",required:!0,className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Phone Number"}),c.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:r,placeholder:"+84 123 456 789",className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Products you buy / sell"}),c.jsx("input",{type:"text",name:"products",value:t.products,onChange:r,placeholder:"e.g. Rice, Shoes",className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email Address"}),c.jsx("input",{type:"email",name:"email",value:t.email,onChange:r,placeholder:"you@example.com",required:!0,className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),c.jsx("input",{type:"password",name:"password",value:t.password,onChange:r,placeholder:"••••••••",required:!0,className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsx("button",{type:"submit",className:"w-full rounded-lg px-4 py-2.5 font-medium text-white hover:opacity-90",style:{backgroundColor:k6.navy},children:"Save & Continue"})]})]})}),c.jsx(ni,{})]})}function j6(){const[t,e]=j.useState(null),[n,r]=j.useState(null),[s,i]=j.useState(!0),o=oo();j.useEffect(()=>{const h=Gs.onAuthStateChanged(async d=>{if(!d){o("/signin");return}try{const p=await Yg(El(Tl,"users",d.uid));if(p.exists()){const m=p.data();if(!m.profileComplete){o("/profile-setup");return}e(m.userType),r(m)}}catch(p){console.error("Error loading user type:",p.message)}finally{i(!1)}});return()=>h()},[o]);const a=async()=>{try{await IS(Gs),o("/")}catch(h){console.error("Sign out failed:",h)}};if(s)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Loading your dashboard..."})]})});const u={totalSavings:t==="buyer"?2847:12450,activeDeals:t==="buyer"?3:8,completedOrders:t==="buyer"?12:47};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[c.jsx(ps,{}),c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Welcome back, ",(n==null?void 0:n.businessName)||"User","!"]}),c.jsx("p",{className:"text-slate-600 mt-1",children:t==="buyer"?"Ready to join some pools?":"Manage your listings and orders"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(Kj,{className:"h-5 w-5"})}),c.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[c.jsx(OT,{className:"h-4 w-4"}),"Sign Out"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-600",children:t==="buyer"?"Total Savings":"Total Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["$",u.totalSavings.toLocaleString()]})]}),c.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(dh,{className:"h-6 w-6 text-green-600"})})]}),c.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[c.jsx(uD,{className:"h-4 w-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-green-600",children:"+12% from last month"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-600",children:t==="buyer"?"Active Pools":"Active Listings"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900",children:u.activeDeals})]}),c.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(px,{className:"h-6 w-6 text-blue-600"})})]}),c.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[c.jsx(cl,{className:"h-4 w-4 text-blue-500 mr-1"}),c.jsx("span",{className:"text-slate-600",children:"2 ending soon"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Completed Orders"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900",children:u.completedOrders})]}),c.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx(rD,{className:"h-6 w-6 text-purple-600"})})]}),c.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[c.jsx(aD,{className:"h-4 w-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-slate-600",children:"100% success rate"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Pool Participation"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"78%"})]}),c.jsx("div",{className:"h-12 w-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:c.jsx(px,{className:"h-6 w-6 text-indigo-600"})})]}),c.jsx("div",{className:"relative h-3 bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-1000",style:{width:"78%"}})}),c.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-slate-500",children:[c.jsx("span",{children:"Joined: 23"}),c.jsx("span",{children:"Completed: 18"})]})]})]}),c.jsxs("div",{className:"grid lg:grid-cols-12 gap-8",children:[c.jsxs("div",{className:"lg:col-span-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Quick Actions"}),c.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(iD,{className:"h-4 w-4"}),t==="buyer"?"Create Pool Request":"Add New Listing"]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:c.jsx(UT,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:"Your Profile"}),c.jsxs("p",{className:"text-sm text-slate-600",children:["Account type: ",t]})]})]})}),c.jsx("p",{className:"text-slate-600 text-sm mt-4 mb-6",children:"Update your contact info, business details, and verification status."}),c.jsx(Nt,{to:"/profile-setup",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Edit Profile →"})]}),t==="buyer"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:c.jsx(lD,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:"Open Pools"}),c.jsx("p",{className:"text-sm text-slate-600",children:"347 active pools"})]})]})}),c.jsx("p",{className:"text-slate-600 text-sm mt-4 mb-6",children:"Browse available pools and join forces with other buyers."}),c.jsx(Nt,{to:"/pools",className:"inline-flex items-center text-green-600 hover:text-green-700 font-medium text-sm",children:"Explore Pools →"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:c.jsx(Fs,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:"Your Pools"}),c.jsxs("p",{className:"text-sm text-slate-600",children:[u.activeDeals," active"]})]})]})}),c.jsx("p",{className:"text-slate-600 text-sm mt-4 mb-6",children:"Track the pools you've joined and see funding progress."}),c.jsx(Nt,{to:"/my-pools",className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium text-sm",children:"View My Pools →"})]})]}),t==="supplier"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center",children:c.jsx(Oa,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:"Your Listings"}),c.jsxs("p",{className:"text-sm text-slate-600",children:[u.activeDeals," active"]})]})]})}),c.jsx("p",{className:"text-slate-600 text-sm mt-4 mb-6",children:"Manage your product offerings, pricing, and MOQ."}),c.jsx(Nt,{to:"/my-listings",className:"inline-flex items-center text-yellow-600 hover:text-yellow-700 font-medium text-sm",children:"Manage Listings →"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-pink-500 to-pink-600 rounded-lg flex items-center justify-center",children:c.jsx(Fs,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:"Buyer Requests"}),c.jsx("p",{className:"text-sm text-slate-600",children:"23 new requests"})]})]})}),c.jsx("p",{className:"text-slate-600 text-sm mt-4 mb-6",children:"View requests from buyers looking for group deals."}),c.jsx(Nt,{to:"/buyer-requests",className:"inline-flex items-center text-pink-600 hover:text-pink-700 font-medium text-sm",children:"See Requests →"})]})]})]})]}),c.jsxs("div",{className:"lg:col-span-4",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 mb-6",children:[c.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Recent Activity"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-slate-900",children:"Pool funding completed"}),c.jsx("p",{className:"text-slate-500",children:"ICUMSA-45 Sugar • 2 hours ago"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-slate-900",children:"New pool available"}),c.jsx("p",{className:"text-slate-500",children:"Coffee Beans AA • 4 hours ago"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-2 w-2 bg-yellow-500 rounded-full mt-2"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-slate-900",children:"Payment processed"}),c.jsx("p",{className:"text-slate-500",children:"Fabric Order #12 • 1 day ago"})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Get started with our comprehensive guide to group buying."}),c.jsx("button",{className:"bg-white text-blue-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors",children:"View Guide"})]})]})]})]})]})}const Ya="/assets/refinedsugar-DgX5AClU.png",D6="/assets/sugarheader--Lguombp.png",Xg="/assets/coffeebeansheader-vYWUnpgE.png",Xa="/assets/fabricheader-BvUKeeFj.png",jh="/assets/metalheader-CVTmA131.png",V6="/assets/humanhairheader-DATfc81o.png",M6="/assets/factoryhowitworkssection-CEgRnavX.png",re={navy:"#1B2A41",gold:"#F0A92D",bgLight:"#F7F5F2"};function L6(){return c.jsx(O6,{})}function O6(){const[t,e]=ne.useState(!1),[n,r]=ne.useState(!1),[s,i]=ne.useState(null),o=p=>{i(p),e(!0)},a=p=>{i(p),r(!0)},u=()=>e(!1),h=()=>r(!1),d={id:"sugar-icumsa-45",title:"ICUMSA-45 Refined Sugar",subtitle:"MOQ 10 MT • Saigon/Laem Chabang lanes",category:"Sugar",image:Ya,price:"$XXX/MT",oldPrice:"$YYY/MT",progress:63,target:100,unitLabel:"unit",minUnits:12,unitPrice:27,currency:"USD"};return c.jsxs("div",{className:"min-h-screen flex flex-col pt-16",children:[c.jsxs("section",{className:"relative isolate",children:[c.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-[#F7F5F2] to-[#ECEBE7]"}),c.jsx("div",{className:"w-full border-b border-slate-200 bg-white/70 backdrop-blur",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-2 flex items-center justify-center gap-3 text-slate-800 text-sm",children:[c.jsx("span",{className:"rounded-full px-2 py-0.5 text-xs",style:{backgroundColor:re.gold,color:re.navy},children:"Limited Pilot"}),c.jsx("span",{className:"font-medium",style:{color:re.navy},children:"Factory pricing, without factory MOQs."})]})}),c.jsx(ps,{}),c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-55 pt-55",children:c.jsx("div",{className:"flex items-center justify-center gap-14 overflow-x-auto",children:[{label:"Sugar",link:"#sugar",image:D6},{label:"Coffee Beans",link:"#coffee",image:Xg},{label:"Fabrics",link:"#fabrics",image:Xa},{label:"Metals",link:"#metals",image:jh},{label:"Human Hair",link:"#hair",image:V6}].map(p=>c.jsxs("a",{href:p.link,className:"flex flex-col items-center gap-3 group p-1",children:[c.jsx("div",{className:"h-24 w-24 rounded-full overflow-hidden border-2 border-slate-200 shadow-sm ring-0 group-hover:ring-2 transition",style:{"--tw-ring-color":re.gold},children:c.jsx("img",{src:p.image,alt:p.label,className:"h-full w-full object-cover"})}),c.jsx("span",{className:"text-slate-800 text-sm font-medium",children:p.label})]},p.label))})}),c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10 lg:py-16 grid lg:grid-cols-12 gap-10 items-center",children:[c.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"lg:col-span-6",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1 text-xs text-slate-800",children:[c.jsx(Vi,{className:"h-4 w-4",style:{color:re.navy}})," Verified suppliers"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1 text-xs text-slate-800",children:[c.jsx(Vi,{className:"h-4 w-4",style:{color:re.navy}})," Escrow protected"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1 text-xs text-slate-800",children:[c.jsx(Vi,{className:"h-4 w-4",style:{color:re.navy}})," Freight pooling"]})]}),c.jsxs("h1",{className:"text-4xl sm:text-5xl/tight font-extrabold text-slate-900",children:["Buy together. ",c.jsx("span",{className:"text-slate-700",children:"Save more."})]}),c.jsx("p",{className:"mt-4 text-lg text-slate-700 max-w-xl",children:"Pool orders with other buyers to unlock wholesale pricing from manufacturers. Power in numbers, savings in bulk."}),c.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[c.jsx("button",{onClick:()=>o(d),className:"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:re.navy},children:"Join an open pool"}),c.jsx("a",{href:"#create",className:"inline-flex items-center justify-center rounded-lg border px-5 py-3 text-slate-900 hover:bg-slate-50",style:{borderColor:re.navy},children:"Start a new pool"})]}),c.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-6",children:[{Icon:Fs,label:"Buyers pooled",value:"2,340+"},{Icon:Fa,label:"Avg. savings",value:"22%"},{Icon:Bt,label:"Escrow backed",value:"Stripe Connect"},{Icon:sn,label:"Ship lanes",value:"US ↔ VN/TH/CN"}].map(({Icon:p,label:m,value:y})=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full border border-slate-200 bg-white flex items-center justify-center",children:c.jsx(p,{className:"h-5 w-5",style:{color:re.navy}})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-wider",children:m}),c.jsx("p",{className:"text-slate-900 font-semibold",children:y})]})]},m))})]}),c.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"lg:col-span-6",children:c.jsxs("div",{className:"mx-auto max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-slate-700 text-sm",children:"Featured pool"}),c.jsx("span",{className:"rounded-md px-2 py-1 text-xs text-slate-900",style:{backgroundColor:re.bgLight},children:"Ends in 3d 12h"})]}),c.jsx("div",{className:"aspect-[16/10] w-full overflow-hidden rounded-xl bg-slate-100",children:c.jsx("img",{src:Ya,alt:"Refined sugar crystals",className:"h-full w-full object-cover",loading:"eager"})}),c.jsxs("div",{className:"mt-5 flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-slate-900 font-semibold",children:"ICUMSA-45 Refined Sugar"}),c.jsx("p",{className:"text-slate-600 text-sm",children:"MOQ 10 MT • Saigon/Laem Chabang lanes"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-2xl font-extrabold text-slate-900",children:"$XXX/MT"}),c.jsx("p",{className:"text-slate-500 text-xs line-through",children:"$YYY/MT"})]})]}),c.jsxs("div",{className:"mt-5",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[c.jsx("span",{children:"Group progress"}),c.jsx("span",{children:"63/100 joined"})]}),c.jsx("div",{className:"h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full",style:{width:"63%",backgroundColor:re.gold}})}),c.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"More buyers, lower prices. If MOQ isn't met, everyone gets a full refund."})]}),c.jsxs("div",{className:"mt-5 grid sm:grid-cols-2 gap-3",children:[c.jsx("button",{onClick:()=>o(d),className:"rounded-lg px-4 py-2.5 font-medium text-white hover:opacity-90",style:{backgroundColor:re.navy},children:"Join this pool"}),c.jsx("button",{onClick:()=>a(d),className:"rounded-lg border px-4 py-2.5 text-slate-900 hover:bg-slate-50",style:{borderColor:re.navy},children:"View details"})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 text-xs text-slate-600",children:[c.jsx("span",{children:"✅ Full refund if MOQ not met"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"✅ Compliance docs uploaded"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"✅ Third-party inspection available"})]})]})})]})]}),c.jsx(F6,{}),c.jsx(U6,{onJoin:o,onDetails:a}),c.jsx(B6,{onJoin:o,onDetails:a}),c.jsx(z6,{}),c.jsx($6,{}),c.jsx(ni,{}),c.jsx(H6,{open:t,pool:s,onClose:u}),c.jsx(W6,{open:n,pool:s,onClose:h})]})}function F6(){return c.jsx("section",{id:"how",className:"relative scroll-mt-28 md:scroll-mt-32",children:c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:c.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 -z-10",children:[c.jsx("img",{src:jh,alt:"How it works background",className:"h-full w-full object-cover","aria-hidden":!0}),c.jsx("div",{className:"absolute inset-0 bg-[rgba(27,42,65,0.72)]"})]}),c.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10 sm:py-14 text-center",children:[c.jsx("span",{className:"inline-block rounded-full px-3 py-1 text-xs font-medium border border-white/20 bg-white/10 text-white",children:"How it works"}),c.jsx("h2",{className:"mt-3 text-3xl sm:text-4xl font-extrabold text-white",children:"Pooling power, made simple"}),c.jsx("p",{className:"mt-3 text-white/90",children:"Buyers team up to hit a factory's minimum order (MOQ). Funds sit in escrow. When the pool closes and MOQ is met, production starts and freight is pooled to cut landed cost."}),c.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:[c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 px-3 py-1 text-white/90",children:[c.jsx(yn,{className:"h-4 w-4"})," Verified suppliers"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 px-3 py-1 text-white/90",children:[c.jsx(Bt,{className:"h-4 w-4"})," Escrow protected"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 px-3 py-1 text-white/90",children:[c.jsx(sn,{className:"h-4 w-4"})," Pooled freight"]})]}),c.jsx("div",{className:"mt-8",children:c.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{n:1,Icon:Fs,title:"Join or start a pool",text:"Pick a category and join an open pool, or create your own with a target quantity and deadline."},{n:2,Icon:dh,title:"Commit with escrow",text:"Your funds are held via Stripe Connect until the pool closes. Cancel anytime before close."},{n:3,Icon:Oa,title:"Produce • Inspect • Ship",text:"MOQ met → supplier starts production. Optional third-party inspection. Freight is pooled for better rates."}].map(({n:t,Icon:e,title:n,text:r},s,i)=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"rounded-2xl border border-white/20 bg-white/10 backdrop-blur-md p-6 text-left text-white shadow-[0_6px_30px_rgba(0,0,0,0.25)]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full border border-white/30 bg-white/10 grid place-items-center",children:c.jsx(e,{className:"h-5 w-5 text-white"})}),c.jsx("h3",{className:"text-lg font-semibold",children:n})]}),c.jsx("p",{className:"mt-3 text-white/90 text-sm leading-relaxed",children:r})]}),c.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-white/15 backdrop-blur border border-white/30 grid place-items-center text-sm font-semibold text-white",children:t}),s<i.length-1&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden md:block absolute top-1/2 -right-8 w-12 h-[2px] bg-white/40"}),c.jsx("div",{className:"hidden md:block absolute top-1/2 -right-8 translate-x-full -translate-y-1/2 w-0 h-0 border-y-[10px] border-y-transparent border-l-[10px] border-l-white/60"})]}),s<i.length-1&&c.jsxs("div",{className:"md:hidden absolute -bottom-7 left-1/2 -translate-x-1/2",children:[c.jsx("div",{className:"mx-auto w-[2px] h-5 bg-white/40"}),c.jsx("div",{className:"mx-auto w-0 h-0 border-x-[8px] border-x-transparent border-t-[8px] border-t-white/60"})]})]},t))})})]})]})})})}function U6({onJoin:t,onDetails:e}){const[n,r]=ne.useState(""),i=[{id:1,title:"ICUMSA-45 Refined Sugar",subtitle:"MOQ 10 MT • Saigon/Laem Chabang lanes",category:"Sugar",image:Ya,price:"$XXX/MT",oldPrice:"$YYY/MT",progress:63,target:100,unitLabel:"unit",minUnits:12,unitPrice:27,currency:"USD"},{id:2,title:"Specialty Coffee Beans (AA)",subtitle:"MOQ 2 MT • HCMC/Hai Phong lanes",category:"Coffee",image:Xg,price:"$—/MT",oldPrice:"$—/MT",progress:41,target:80,unitLabel:"bag",minUnits:10,unitPrice:19,currency:"USD"},{id:3,title:"Woven Upholstery Fabrics",subtitle:"MOQ 5,000 m • TH/CN lanes",category:"Fabrics",image:Xa,price:"$—/m",oldPrice:"$—/m",progress:28,target:60,unitLabel:"m",minUnits:100,unitPrice:3.2,currency:"USD"}].filter(o=>{const a=n.trim().toLowerCase();return a?o.title.toLowerCase().includes(a)||o.category.toLowerCase().includes(a)||o.subtitle.toLowerCase().includes(a):!0});return c.jsx("section",{id:"pools",className:"relative scroll-mt-28 md:scroll-mt-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-12 lg:pt-14 pb-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Popular pools"}),c.jsx("p",{className:"text-slate-700",children:"Browse active pools or search by commodity, spec, or lane."})]}),c.jsxs("div",{className:"w-full md:w-[420px] relative",children:[c.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),c.jsx("input",{value:n,onChange:o=>r(o.target.value),placeholder:"Search pools (e.g., sugar, coffee, fabrics)",className:"w-full rounded-xl border border-slate-300 bg-white pl-10 pr-3 py-3 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300"})]})]}),c.jsx("div",{className:"mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:i.map(o=>c.jsx(cC,{pool:o,onJoin:()=>t(o),onDetails:()=>e(o)},o.id))})]})})}function cC({pool:t,onJoin:e,onDetails:n}){const r=Math.round(t.progress/t.target*100);return c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[c.jsx("div",{className:"aspect-[16/10] w-full overflow-hidden rounded-lg bg-slate-100 relative",children:c.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover"})}),c.jsxs("div",{className:"mt-4 flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-900",children:t.title}),c.jsx("p",{className:"text-slate-600 text-sm",children:t.subtitle})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-lg font-extrabold text-slate-900",children:t.price}),c.jsx("p",{className:"text-slate-500 text-xs line-through",children:t.oldPrice})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[c.jsx("span",{children:"Group progress"}),c.jsxs("span",{children:[t.progress,"/",t.target," joined"]})]}),c.jsx("div",{className:"h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full",style:{width:`${r}%`,backgroundColor:re.gold}})})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:e,className:"rounded-lg px-3 py-2 font-medium text-white hover:opacity-90",style:{backgroundColor:re.navy},children:"Join"}),c.jsx("button",{onClick:n,className:"rounded-lg border px-3 py-2 text-slate-900 hover:bg-slate-50",style:{borderColor:re.navy},children:"Details"})]})]})}function B6({onJoin:t,onDetails:e}){const n=[{id:"us1",title:"Organic Cane Sugar (USA)",subtitle:"MOQ 5 MT • Gulf Coast lanes",category:"Sugar",image:Ya,price:"$—/MT",oldPrice:"$—/MT",progress:12,target:40,unitLabel:"unit",minUnits:8,unitPrice:31,currency:"USD"},{id:"us2",title:"Premium Cotton Fabric (USA)",subtitle:"MOQ 3,000 m • Southeast lanes",category:"Fabrics",image:Xa,price:"$—/m",oldPrice:"$—/m",progress:26,target:60,unitLabel:"m",minUnits:200,unitPrice:4.1,currency:"USD"},{id:"us3",title:"Corrugated Steel Panels (USA)",subtitle:"MOQ 20,000 ft² • Midwest lanes",category:"Metals",image:jh,price:"$—/ft²",oldPrice:"$—/ft²",progress:18,target:50,unitLabel:"ft²",minUnits:500,unitPrice:1.8,currency:"USD"}];return c.jsx("section",{id:"made-in-usa",className:"relative scroll-mt-28 md:scroll-mt-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-6 pb-10",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-red-200 bg-red-50 px-3 py-1 text-xs text-red-800",children:"🇺🇸 Made in USA"}),c.jsx("h2",{className:"mt-3 text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Support American manufacturers"}),c.jsx("p",{className:"mt-3 text-slate-700 max-w-2xl mx-auto",children:"Pool orders for US-made goods. Shorter lanes, faster delivery, and support domestic production."})]}),c.jsx("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:n.map(r=>c.jsx(cC,{pool:r,onJoin:()=>t(r),onDetails:()=>e(r)},r.id))}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("a",{href:"#more-usa",className:"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:re.navy},children:["View all USA pools ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})})]})})}function z6(){const[t,e]=ne.useState(""),[n,r]=ne.useState(""),[s,i]=ne.useState(""),o=a=>{a.preventDefault(),console.log({commodity:t,email:n,note:s}),alert("Thanks! We'll review your suggestion and reach out."),e(""),r(""),i("")};return c.jsxs("section",{id:"suppliers",className:"relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 -z-10",children:[c.jsx("img",{src:M6,alt:"Factory background",className:"h-full w-full object-cover","aria-hidden":!0}),c.jsx("div",{className:"absolute inset-0 bg-[rgba(27,42,65,0.72)]"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent"})]}),c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14 lg:py-20",children:c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs("div",{className:"rounded-3xl border border-white/20 bg-white/10 backdrop-blur-lg p-8 text-white shadow-[0_10px_40px_rgba(0,0,0,0.25)]",children:[c.jsx("p",{className:"text-white/80",children:"Partner with us"}),c.jsx("h3",{className:"mt-2 text-3xl font-extrabold tracking-tight",children:"Are you a supplier?"}),c.jsx("p",{className:"mt-3 text-white/90 text-sm sm:text-base",children:"List a product, set your MOQ, and tap into pooled demand. We'll verify documents before you go live."}),c.jsxs("ul",{className:"mt-4 space-y-2 text-white/90 text-sm",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Vi,{className:"h-5 w-5 text-white"})," Verified by GroupMOQ"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Bt,{className:"h-5 w-5 text-white"})," Escrow-protected payouts"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(sn,{className:"h-5 w-5 text-white"})," Access pooled freight"]})]}),c.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[c.jsxs("a",{href:"#apply",className:"inline-flex items-center justify-center rounded-xl px-5 py-3 font-medium text-navy-900",style:{backgroundColor:re.gold},children:["Apply to list ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]}),c.jsx("a",{href:"#faq",className:"inline-flex items-center justify-center rounded-xl border border-white/30 px-5 py-3 text-white/90 hover:bg-white/10",children:"Learn more"})]})]}),c.jsxs("div",{className:"rounded-3xl border border-white/20 bg-white/10 backdrop-blur-lg p-8 text-white shadow-[0_10px_40px_rgba(0,0,0,0.25)]",children:[c.jsx("p",{className:"text-white/80",children:"Tell us what you need"}),c.jsxs("h3",{className:"mt-2 text-3xl font-extrabold tracking-tight flex items-center gap-2",children:[c.jsx(Zj,{className:"h-8 w-8"})," Interested in a certain commodity?"]}),c.jsx("p",{className:"mt-3 text-white/90 text-sm sm:text-base",children:"Send us your suggestions and we will work to source verified suppliers before going live."}),c.jsxs("form",{onSubmit:o,className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsx("label",{htmlFor:"commodity",className:"sr-only",children:"Commodity"}),c.jsx("input",{id:"commodity",required:!0,value:t,onChange:a=>e(a.target.value),placeholder:"Commodity (e.g., ICUMSA-45 sugar)",className:"rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-white placeholder:text-white/70 focus:outline-none focus:ring-2 focus:ring-white/40"}),c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),c.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:a=>r(a.target.value),placeholder:"Your email",className:"rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-white placeholder:text-white/70 focus:outline-none focus:ring-2 focus:ring-white/40"}),c.jsx("label",{htmlFor:"note",className:"sr-only",children:"Notes"}),c.jsx("input",{id:"note",value:s,onChange:a=>i(a.target.value),placeholder:"Volume, lanes, timing (optional)",className:"sm:col-span-2 rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-white placeholder:text-white/70 focus:outline-none focus:ring-2 focus:ring-white/40"}),c.jsxs("div",{className:"sm:col-span-2 flex flex-wrap gap-3 mt-1",children:[c.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center rounded-xl px-5 py-3 font-medium text-navy-900",style:{backgroundColor:re.gold},children:["Send suggestion ",c.jsx(oD,{className:"ml-2 h-4 w-4"})]}),c.jsx("a",{href:"#pools",className:"inline-flex items-center justify-center rounded-xl border border-white/30 px-5 py-3 text-white/90 hover:bg-white/10",children:"See open pools"})]})]})]})]})})]})}function $6(){return c.jsx("section",{className:"relative",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10 lg:py-14",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Why Buyers & Suppliers Choose GroupMOQ"}),c.jsx("p",{className:"mt-2 text-slate-700 max-w-2xl mx-auto",children:"Unlock factory pricing, reduce risk with escrow, and cut landed costs through pooled freight."})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Why GroupMOQ"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-5 w-5 mt-0.5",style:{color:re.navy}}),"Factory pricing unlocked at MOQ"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-5 w-5 mt-0.5",style:{color:re.navy}}),"Escrow + refund guarantee if MOQ isn't met"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-5 w-5 mt-0.5",style:{color:re.navy}}),"Pooled freight lowers landed cost"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-5 w-5 mt-0.5",style:{color:re.navy}}),"Verified suppliers & optional inspection"]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Buying Solo"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Yn,{className:"h-5 w-5 mt-0.5 text-slate-400"})," Small-lot or retail pricing"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Yn,{className:"h-5 w-5 mt-0.5 text-slate-400"})," You carry more risk up front"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Yn,{className:"h-5 w-5 mt-0.5 text-slate-400"})," Higher freight per unit"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Yn,{className:"h-5 w-5 mt-0.5 text-slate-400"})," Limited supplier leverage"]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[c.jsx(cl,{className:"h-5 w-5",style:{color:re.navy}})," What happens to your money"]}),c.jsxs("ol",{className:"mt-3 list-decimal pl-6 text-sm text-slate-700 space-y-1",children:[c.jsx("li",{children:"Commit → funds held in escrow (Stripe Connect)."}),c.jsx("li",{children:"Pool closes → MOQ met: capture & pay supplier; MOQ not met: instant refund."}),c.jsx("li",{children:"Shipment arranged → pooled freight → delivery."})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[c.jsx(Fa,{className:"h-5 w-5",style:{color:re.navy}})," Typical savings"]}),c.jsx("p",{className:"mt-3 text-sm text-slate-700",children:"Members report double-digit savings versus buying solo, depending on category and ship lane."}),c.jsx("div",{className:"mt-4 h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full",style:{width:"22%",backgroundColor:re.gold}})}),c.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"Illustrative savings based on recent pools."})]})]}),c.jsxs("div",{className:"mt-8 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Bt,{className:"h-6 w-6 flex-shrink-0",style:{color:re.navy}}),c.jsxs("p",{className:"text-slate-800",children:[c.jsx("span",{className:"font-semibold",children:"Full refund if MOQ isn't met."})," Your commitment is held in escrow with Stripe Connect until the pool closes."]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("a",{href:"#pools",className:"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:re.navy},children:["Start now ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]}),c.jsx("a",{href:"#create",className:"inline-flex items-center justify-center rounded-lg border px-5 py-3 text-slate-900 hover:bg-slate-50",style:{borderColor:re.navy},children:"Start a new pool"})]})]})]})})}function ni(){const[t,e]=ne.useState(""),n=r=>{r.preventDefault(),t&&(console.log({email:t}),alert("Thanks! We'll keep you in the loop."),e(""))};return c.jsxs("footer",{className:"relative mt-10",children:[c.jsx("div",{className:"h-1 w-full",style:{backgroundColor:re.gold}}),c.jsxs("div",{className:"relative bg-[#0F1826] text-white",children:[c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:c.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1",children:[c.jsx(Bt,{className:"h-4 w-4"})," Escrow protected"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1",children:[c.jsx(Vi,{className:"h-4 w-4"})," Verified suppliers"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1",children:[c.jsx(sn,{className:"h-4 w-4"})," Pooled freight"]})]})}),c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-12",children:c.jsxs("div",{className:"grid gap-10 lg:grid-cols-5",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg grid place-items-center font-black",style:{backgroundColor:re.gold,color:re.navy},children:"G"}),c.jsx("span",{className:"text-lg font-semibold",children:"GroupMOQ"})]}),c.jsx("p",{className:"mt-3 text-white/80 text-sm max-w-md",children:"Group buying for real-world goods. Team up to hit factory MOQs and unlock wholesale pricing—safely."}),c.jsxs("form",{onSubmit:n,className:"mt-5 flex items-center gap-2 max-w-md",children:[c.jsx("input",{type:"email",required:!0,value:t,onChange:r=>e(r.target.value),placeholder:"Your email",className:"flex-1 rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder:text-white/60 focus:outline-none focus:ring-2 focus:ring-white/30"}),c.jsx("button",{type:"submit",className:"rounded-lg px-4 py-3 font-medium text-navy-900 hover:opacity-90",style:{backgroundColor:re.gold},children:"Subscribe"})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-white/80",children:[c.jsxs("a",{href:"mailto:hello@groupmoq.com",className:"inline-flex items-center gap-2 hover:text-white",children:[c.jsx(og,{className:"h-4 w-4"})," hello@groupmoq.com"]}),c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(sD,{className:"h-4 w-4"})," +1 (555) 010-1234"]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[c.jsx("a",{href:"#","aria-label":"Twitter",className:"h-9 w-9 grid place-items-center rounded-full border border-white/15 bg-white/5 hover:bg-white/10",children:c.jsx(cD,{className:"h-4 w-4"})}),c.jsx("a",{href:"#","aria-label":"LinkedIn",className:"h-9 w-9 grid place-items-center rounded-full border border-white/15 bg-white/5 hover:bg-white/10",children:c.jsx(tD,{className:"h-4 w-4"})}),c.jsx("a",{href:"#","aria-label":"Instagram",className:"h-9 w-9 grid place-items-center rounded-full border border-white/15 bg-white/5 hover:bg-white/10",children:c.jsx(Jj,{className:"h-4 w-4"})}),c.jsx("a",{href:"#","aria-label":"Facebook",className:"h-9 w-9 grid place-items-center rounded-full border border-white/15 bg-white/5 hover:bg-white/10",children:c.jsx(Qj,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid gap-10 sm:grid-cols-3 lg:col-span-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-white/90",children:"Product"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-white/80 text-sm",children:[c.jsx("li",{children:c.jsxs("a",{href:"/how-it-works",className:"hover:text-white inline-flex items-center gap-1",children:["How it works ",c.jsx(Gj,{className:"h-3 w-3"})]})}),c.jsx("li",{children:c.jsx("a",{href:"#pools",className:"hover:text-white",children:"Open pools"})}),c.jsx("li",{children:c.jsx("a",{href:"#create",className:"hover:text-white",children:"Start a new pool"})}),c.jsx("li",{children:c.jsx("a",{href:"#sugar",className:"hover:text-white",children:"Categories"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-white/90",children:"Company"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-white/80 text-sm",children:[c.jsx("li",{children:c.jsx("a",{href:"#suppliers",className:"hover:text-white",children:"For suppliers"})}),c.jsx("li",{children:c.jsx("a",{href:"#faq",className:"hover:text-white",children:"FAQ"})}),c.jsx("li",{children:c.jsx("a",{href:"#contact",className:"hover:text-white",children:"Contact"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-white/90",children:"Legal"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-white/80 text-sm",children:[c.jsx("li",{children:c.jsx("a",{href:"#terms",className:"hover:text-white",children:"Terms"})}),c.jsx("li",{children:c.jsx("a",{href:"#privacy",className:"hover:text-white",children:"Privacy"})}),c.jsx("li",{children:c.jsx("a",{href:"#compliance",className:"hover:text-white",children:"Compliance"})})]})]})]})]})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 text-xs text-white/70 flex flex-col sm:flex-row items-center justify-between gap-2",children:[c.jsxs("p",{children:["© ",new Date().getFullYear()," GroupMOQ. All rights reserved."]}),c.jsx("p",{className:"text-white/60",children:"Built for buyers. Backed by escrow."})]})})]})]})}function H6({open:t,pool:e,onClose:n}){const[r,s]=ne.useState(12),[i,o]=ne.useState(""),[a,u]=ne.useState(""),[h,d]=ne.useState(""),[p,m]=ne.useState("United States"),[y,T]=ne.useState(""),[C,A]=ne.useState(!0),[E,v]=ne.useState(!1),[x,b]=ne.useState(!1),[V,L]=ne.useState(!1),[I,w]=ne.useState(!1);if(ne.useEffect(()=>{e!=null&&e.minUnits&&s(e.minUnits)},[e]),!t||!e)return null;const S=(E?2:0)+(x?1.5:0),P=(V?300:0)+(I?200:0),R=(r*(e.unitPrice+S)+P)*1.03,N=te=>te.toLocaleString("en-US",{style:"currency",currency:e.currency||"USD",maximumFractionDigits:0}),fe=te=>{te.preventDefault();const ve={poolId:e.id,units:r,company:i,contact:a,site:h,country:p,notes:y,upgrades:{rush:E,packaging:x,qc:V,privateLabel:I},estimatedCharge:Number(R.toFixed(2))};console.log("JOIN PAYLOAD →",ve),alert("Thanks! Your pledge has been recorded (demo)."),n()};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm flex items-start justify-center p-4 sm:p-6 md:p-8 overflow-y-auto",onClick:n,children:c.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white shadow-xl",onClick:te=>te.stopPropagation(),children:[c.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between px-6 py-4 border-b bg-white rounded-t-2xl",children:[c.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Join: ",e.title]}),c.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600",children:c.jsx(Yn,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:fe,className:"px-6 py-5 max-h-[80vh] overflow-y-auto",children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-900",children:["Units to pledge (min ",e.minUnits||1,")"]}),c.jsx("input",{type:"number",min:e.minUnits||1,value:r,onChange:te=>s(Math.max(e.minUnits||1,Number(te.target.value||0))),className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-300"}),c.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"You can edit or cancel before the pool locks."}),c.jsxs("div",{className:"mt-5",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Estimated Cost (authorization at pledge)"}),c.jsx("div",{className:"mt-1 text-3xl font-extrabold text-slate-900",children:N(R)}),c.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N(e.unitPrice)," per ",e.unitLabel||"unit"," • Platform fee 3% included"]}),c.jsxs("p",{className:"text-xs text-slate-600",children:["Funds ",c.jsx("span",{className:"font-semibold",children:"authorized now"}),", ",c.jsx("span",{className:"font-semibold",children:"moved to escrow on lock"})]})]}),c.jsxs("div",{className:"mt-6 grid gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-900",children:"Company / Brand"}),c.jsx("input",{placeholder:"e.g., MP Global Exports",value:i,onChange:te=>o(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-900",children:"Contact Name"}),c.jsx("input",{placeholder:"Your full name",value:a,onChange:te=>u(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-900",children:"Website / Social"}),c.jsx("input",{placeholder:"https://… or @handle",value:h,onChange:te=>d(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-900",children:"Country (USA-only for MVP)"}),c.jsxs("select",{value:p,onChange:te=>m(te.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 bg-white",children:[c.jsx("option",{children:"United States"}),c.jsx("option",{children:"Canada"}),c.jsx("option",{children:"Mexico"}),c.jsx("option",{children:"United Kingdom"}),c.jsx("option",{children:"Vietnam"}),c.jsx("option",{children:"Thailand"})]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("button",{type:"button",onClick:()=>A(te=>!te),className:"w-full flex items-center justify-between rounded-lg border border-slate-300 px-3 py-2 text-left",children:[c.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Upgrades & Customizations (optional)"}),c.jsx(ig,{className:`h-4 w-4 transition ${C?"rotate-180":""}`})]}),C&&c.jsxs("div",{className:"mt-3 space-y-3",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:E,onChange:te=>v(te.target.checked)}),c.jsxs("span",{className:"text-sm text-slate-800",children:["Rush processing ",c.jsxs("span",{className:"text-slate-500",children:["(+$2 / ",e.unitLabel||"unit",")"]})]})]}),c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:x,onChange:te=>b(te.target.checked)}),c.jsxs("span",{className:"text-sm text-slate-800",children:["Custom packaging ",c.jsxs("span",{className:"text-slate-500",children:["(+$1.50 / ",e.unitLabel||"unit",")"]})]})]}),c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:V,onChange:te=>L(te.target.checked)}),c.jsxs("span",{className:"text-sm text-slate-800",children:["Third-party QC inspection ",c.jsx("span",{className:"text-slate-500",children:"(+$300 flat)"})]})]}),c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:I,onChange:te=>w(te.target.checked)}),c.jsxs("span",{className:"text-sm text-slate-800",children:["Private-label setup ",c.jsx("span",{className:"text-slate-500",children:"(+$200 flat)"})]})]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-900",children:"Notes for supplier (optional)"}),c.jsx("textarea",{rows:3,value:y,onChange:te=>T(te.target.value),placeholder:"Specs, delivery window, compliance requirements…",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsx("button",{type:"submit",className:"mt-6 w-full rounded-lg px-4 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:re.navy},children:"Authorize & pledge"}),c.jsx("p",{className:"mt-3 text-xs text-slate-600 text-center",children:"You can cancel your commitment any time before the pool locks."})]})]})})}function W6({open:t,pool:e,onClose:n}){return!t||!e?null:c.jsxs("div",{className:"fixed inset-0 z-[90] bg-black/50 backdrop-blur-sm flex items-start justify-center p-4 sm:p-6 md:p-8 overflow-y-auto",onClick:n,children:[c.jsxs("div",{className:"relative w-full max-w-3xl rounded-2xl bg-white shadow-xl",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between px-6 py-4 border-b bg-white rounded-t-2xl",children:[c.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:[e.title," — Details"]}),c.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600",children:c.jsx(Yn,{className:"h-6 w-6"})})]}),c.jsx("div",{className:"px-6 py-5 max-h-[80vh] overflow-y-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-56 object-cover rounded-xl"}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"font-semibold text-slate-900",children:"Overview"}),c.jsxs("p",{className:"text-sm text-slate-700 mt-1",children:[e.subtitle,". Verified supplier. Escrow–backed payments via Stripe Connect. Optional third-party inspection available."]}),c.jsx("h4",{className:"font-semibold text-slate-900 mt-4",children:"Specs"}),c.jsxs("ul",{className:"text-sm text-slate-700 list-disc pl-5 mt-1 space-y-1",children:[c.jsxs("li",{children:["Unit price: $",e.unitPrice," per ",e.unitLabel||"unit"," (ex-works)"]}),c.jsxs("li",{children:["Minimum pledge: ",e.minUnits," ",e.unitLabel||"units"]}),c.jsx("li",{children:"Compliance: COA, MSDS on file (sample)"}),c.jsx("li",{children:"Freight: pooled lanes available"})]}),c.jsx("h4",{className:"font-semibold text-slate-900 mt-4",children:"Timeline"}),c.jsxs("ol",{className:"text-sm text-slate-700 list-decimal pl-5 mt-1 space-y-1",children:[c.jsx("li",{children:"Pool open — buyers join & pledge"}),c.jsx("li",{children:"Pool locks — funds move to escrow; production starts"}),c.jsx("li",{children:"Inspection (optional) — release balance"}),c.jsx("li",{children:"Consolidated freight — delivery"})]})]})]}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[c.jsx("p",{className:"text-xs text-slate-600",children:"Group progress"}),c.jsx("div",{className:"mt-1 h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full",style:{width:`${Math.round(e.progress/e.target*100)}%`,backgroundColor:re.gold}})}),c.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:[e.progress,"/",e.target," buyers joined"]}),c.jsx("button",{onClick:()=>{n();const r=new CustomEvent("open-join-from-details",{detail:e});window.dispatchEvent(r)},className:"mt-4 w-full rounded-lg px-4 py-2.5 font-medium text-white",style:{backgroundColor:re.navy},children:"Join this pool"})]})})]})})]}),c.jsx(q6,{})]})}function q6(){return ne.useEffect(()=>{const t=e=>{setTimeout(()=>{const n=new CustomEvent("bridge-open-join",{detail:e.detail});window.dispatchEvent(n)},50)};return window.addEventListener("open-join-from-details",t),()=>window.removeEventListener("open-join-from-details",t)},[]),null}const G6="/assets/shippingport-C7OsKBjA.png",cn={navy:"#1B2A41",gold:"#F0A92D"},nf=({children:t})=>c.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 px-3 py-1 text-white/90 text-xs",children:t});function Ct({q:t,a:e,defaultOpen:n=!1}){const[r,s]=ne.useState(n);return c.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden bg-white",children:[c.jsxs("button",{type:"button",onClick:()=>s(i=>!i),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[c.jsx("span",{className:"font-medium text-slate-900",children:t}),c.jsx(ig,{className:`h-4 w-4 text-slate-500 transition ${r?"rotate-180":""}`})]}),r&&c.jsx("div",{className:"px-4 pb-4 text-sm text-slate-700",children:e})]})}function K6(){return c.jsxs("div",{className:"mt-5 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[c.jsx("span",{children:"Unit price"}),c.jsx("span",{className:"text-green-700 font-semibold",children:"~30% lower"})]}),c.jsxs("div",{className:"mt-2 h-3 w-full bg-slate-200 rounded-full relative overflow-hidden",children:[c.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-slate-300"}),c.jsx("div",{className:"absolute left-0 top-0 h-full bg-[#F0A92D]",style:{width:"70%"}})]}),c.jsxs("div",{className:"mt-1 flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Solo"}),c.jsx("span",{className:"font-semibold text-slate-900 flex items-center gap-1",children:"GroupMOQ ✅"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[c.jsx("span",{children:"Freight per unit"}),c.jsx("span",{className:"text-green-700 font-semibold",children:"~40% less"})]}),c.jsxs("div",{className:"mt-2 h-3 w-full bg-slate-200 rounded-full relative overflow-hidden",children:[c.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-slate-300"}),c.jsx("div",{className:"absolute left-0 top-0 h-full bg-[#F0A92D]",style:{width:"60%"}})]}),c.jsxs("div",{className:"mt-1 flex justify-between text-xs",children:[c.jsx("span",{className:"text-slate-500",children:"Solo"}),c.jsx("span",{className:"font-semibold text-slate-900 flex items-center gap-1",children:"GroupMOQ ✅"})]})]})]})}function Q6(){const[t,e]=ne.useState(12),n=32,r=27,s=300,i=180,o=t*n+s,a=t*r+i,u=Math.max(0,o-a),h=Math.round(u/o*100),d=p=>p.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("p",{className:"text-slate-700",children:["Move the slider—see how pooling can improve your landed cost."," ",c.jsx("span",{className:"text-slate-500",children:"(Illustrative example.)"})]}),c.jsx("label",{className:"block text-base font-medium text-slate-900",children:"Units you plan to buy"}),c.jsx("input",{type:"range",min:1,max:120,step:1,value:t,onChange:p=>e(Number(p.target.value)),className:"w-full accent-slate-800"}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"text-slate-700",children:["Qty: ",c.jsx("span",{className:"font-semibold text-slate-900",children:t})]}),c.jsx("span",{className:"text-slate-500",children:"Illustrative pricing"})]}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 p-6 bg-white shadow-[0_1px_0_0_rgba(2,6,23,0.04)]",children:[c.jsx("p",{className:"text-xs font-semibold tracking-wide text-slate-600",children:"BUYING SOLO"}),c.jsx("p",{className:"mt-2 text-4xl font-extrabold text-slate-900",children:d(o)}),c.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["@ $",n,"/unit + freight"]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 p-6 bg-white shadow-[0_1px_0_0_rgba(2,6,23,0.04)]",children:[c.jsx("p",{className:"text-xs font-semibold tracking-wide text-slate-600",children:"WITH GROUPMOQ"}),c.jsx("p",{className:"mt-2 text-4xl font-extrabold text-slate-900",children:d(a)}),c.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["@ $",r,"/unit + pooled freight"]})]}),c.jsxs("div",{className:"rounded-2xl border border-amber-200 p-6 bg-amber-50 shadow-[0_1px_0_0_rgba(2,6,23,0.04)]",children:[c.jsx("p",{className:"text-xs font-semibold tracking-wide text-slate-700",children:"EST. SAVINGS"}),c.jsxs("p",{className:"mt-2 text-4xl font-extrabold text-slate-900",children:[d(u),c.jsxs("span",{className:"ml-2 align-baseline text-base font-medium text-slate-700",children:["(~",h,"%)"]})]}),c.jsxs("a",{href:"/#pools",className:"mt-4 inline-flex items-center gap-2 text-slate-900 underline decoration-2 underline-offset-4",children:["Join an open pool",c.jsx(gn,{className:"h-4 w-4"})]})]})]})]})}function Y6(){const t=gr();return j.useEffect(()=>{if(t.hash){const e=t.hash.slice(1),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}},[t]),c.jsxs("div",{className:"min-h-screen bg-[#F7F5F2]",children:[c.jsxs("section",{className:"relative isolate",children:[c.jsxs("div",{className:"absolute inset-0 -z-10",children:[c.jsx("img",{src:G6,alt:"Background",className:"h-full w-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-[rgba(27,42,65,0.72)]"})]}),c.jsx(ps,{inverted:!0}),"   ",c.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10 lg:pb-16 pt-10 text-center text-white",children:[c.jsx("span",{className:"inline-block rounded-full px-3 py-1 text-xs font-medium border border-white/20 bg-white/10",children:"How it works"}),c.jsx("h1",{className:"mt-3 text-3xl sm:text-5xl/tight font-extrabold",children:"Pooling power, made simple"}),c.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-white/90",children:"Buyers team up to hit a factory’s minimum order (MOQ). Funds sit in escrow. When the pool closes and MOQ is met, production starts and freight is pooled to cut landed cost."}),c.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-2 text-sm",children:[c.jsxs(nf,{children:[c.jsx(yn,{className:"h-4 w-4"})," Verified suppliers"]}),c.jsxs(nf,{children:[c.jsx(Bt,{className:"h-4 w-4"})," Escrow protected"]}),c.jsxs(nf,{children:[c.jsx(sn,{className:"h-4 w-4"})," Pooled freight"]})]}),c.jsx("div",{className:"mt-8",children:c.jsxs("a",{href:"/#pools",className:"inline-flex items-center justify-center rounded-xl px-5 py-3 font-medium text-navy-900",style:{backgroundColor:cn.gold},children:["Explore open pools ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})})]})]}),c.jsxs("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900 text-center",children:"How it works — in 4 steps"}),c.jsx("div",{className:"mt-8 grid md:grid-cols-4 gap-6",children:[{Icon:Fs,title:"1) Join a pool",text:"Pick a live pool in your category (or start one). Each pool shows target MOQ, deadline and docs."},{Icon:Bt,title:"2) Commit via escrow",text:"Authorize your pledge. Funds are held via Escrow.com until the pool locks. Cancel anytime before lock."},{Icon:Oa,title:"3) Production & QC",text:"MOQ met → supplier starts production. Optional third-party inspection available before release."},{Icon:sn,title:"4) Consolidated freight",text:"We pool shipments on common lanes to reduce landed cost. Track to delivery or arrange your own freight."}].map(({Icon:e,title:n,text:r},s)=>c.jsxs(Ye.div,{initial:{opacity:0,y:14},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.4,delay:s*.05},className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-white border border-slate-200 grid place-items-center",children:c.jsx(e,{className:"h-5 w-5",style:{color:cn.navy}})}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n})]}),c.jsx("p",{className:"mt-3 text-slate-700 text-sm leading-relaxed",children:r})]},n))}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("a",{href:"/#pools",className:"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:cn.navy},children:["See pools now ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})})]}),c.jsx("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:c.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-stretch",children:[c.jsxs(Ye.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},className:"lg:col-span-5 h-full flex flex-col rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("h3",{className:"text-[20px] font-bold text-slate-900 flex items-center gap-2",children:[c.jsx(eD,{className:"h-5 w-5",style:{color:cn.navy}}),"Why pooling beats solo buying"]}),c.jsx("p",{className:"mt-3 text-[15px] leading-7 text-slate-700",children:"Factories quote best pricing at MOQ. Alone, you rarely hit it. Together, you do— and you share the lower rate and the freight."}),c.jsx("div",{className:"mt-6 flex-grow",children:c.jsx(K6,{})}),c.jsxs("a",{href:"/#pools",className:"mt-auto inline-flex items-center justify-center rounded-xl px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:cn.navy},children:["See active pools ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})]}),c.jsxs(Ye.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},className:"lg:col-span-7 h-full rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-900",children:[c.jsx(dh,{className:"h-5 w-5"}),c.jsx("h3",{className:"text-xl font-bold",children:"Your savings in 10 seconds"})]}),c.jsx("div",{className:"mt-4",children:c.jsx(Q6,{})})]})]})}),c.jsx("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[c.jsx(cl,{className:"h-5 w-5",style:{color:cn.navy}})," What happens to your money"]}),c.jsxs("ol",{className:"mt-3 list-decimal pl-6 text-sm text-slate-700 space-y-1",children:[c.jsx("li",{children:"Commit → funds held in escrow (Escrow.com)."}),c.jsx("li",{children:"Pool closes → MOQ met: capture & pay supplier; not met: instant refund."}),c.jsx("li",{children:"Shipment arranged → pooled freight → delivery."})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Quality, compliance & logistics"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-5 w-5 mt-0.5",style:{color:cn.navy}})," Verified suppliers, documents on file (COA, MSDS when applicable)"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-5 w-5 mt-0.5",style:{color:cn.navy}})," Optional third-party inspection & QC services"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(sn,{className:"h-5 w-5 mt-0.5",style:{color:cn.navy}})," Pooled freight to reduce landed cost"]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Bt,{className:"h-5 w-5 mt-0.5",style:{color:cn.navy}})," Escrow-backed transactions"]})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("a",{href:"/#pools",className:"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:cn.navy},children:["Browse open pools ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})})]})]})}),c.jsxs("section",{id:"faq",className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900 text-center",children:"FAQ"}),c.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[c.jsx(Ct,{q:"What if the MOQ isn’t met?",a:c.jsxs("span",{children:["Everyone gets a ",c.jsx("b",{children:"full refund"})," immediately when the pool closes."]})}),c.jsx(Ct,{q:"Can I cancel my pledge?",a:"Yes, up until the pool locks. After that, funds are moved to escrow and production starts."}),c.jsx(Ct,{q:"Who arranges shipping?",a:"We coordinate pooled freight on common lanes to reduce cost. You can also arrange your own on request."}),c.jsx(Ct,{q:"Are suppliers vetted?",a:"Yes. We verify documentation and can enable third-party inspection for added assurance."}),c.jsx(Ct,{q:"How do I know my money is safe?",a:"Funds are held securely in escrow until the pool closes. If MOQ isn’t met, you get a full refund — no delays, no questions asked."}),c.jsx(Ct,{q:"Can I join multiple pools at once?",a:"Yes. You can pledge to as many pools as you like across different categories."}),c.jsx(Ct,{q:"What happens if a pool exceeds the MOQ?",a:"Extra volume is accepted if the supplier allows it. Otherwise, the pool closes at MOQ and new pools may open."}),c.jsx(Ct,{q:"Are there minimum purchase requirements for buyers?",a:"No strict minimums. Each pool shows the smallest unit pledge available, so you can join at the level that fits your needs."}),c.jsx(Ct,{q:"Do I need an import license?",a:"In most categories, GroupMOQ manages the import/export process. Certain regulated products may require buyers to provide a license."}),c.jsx(Ct,{q:"How do you vet suppliers?",a:"We require all suppliers to provide factory documents (COA, MSDS when applicable). Optional third-party inspections can be arranged."}),c.jsx(Ct,{q:"What industries or categories are supported?",a:"Common pools include raw materials, apparel, electronics, and consumer goods. New categories are added as demand grows."}),c.jsx(Ct,{q:"Can I suggest a new supplier or category?",a:"Yes! Members can request suppliers or categories. If enough demand exists, we’ll launch a pool."}),c.jsx(Ct,{q:"Where are goods shipped from?",a:"Most pools source from factories in Asia, with freight consolidated into common lanes to reduce cost."}),c.jsx(Ct,{q:"How long does it take to receive my order?",a:"After MOQ is met and production begins, typical lead times are 4–8 weeks including freight. Timelines vary by category."})]})]}),c.jsx(ni,{})]})}const pn={navy:"#1B2A41",gold:"#F0A92D",bg:"#F7F5F2"},X6=[{id:"sugar-icumsa-45",title:"ICUMSA-45 Refined Sugar",subtitle:"MOQ 10 MT • Saigon / Laem Chabang lanes",category:"Sugar",priceDisplay:"$540/MT",oldPrice:"$620/MT",unitPrice:540,soloUnitPrice:620,unitLabel:"MT",minUnits:10,currency:"USD",progress:63,target:100,deadline:"2025-10-15",madeInUSA:!1,image:Ya},{id:"coffee-aa",title:"Specialty Coffee Beans (AA)",subtitle:"MOQ 2 MT • HCMC / Hai Phong lanes",category:"Coffee",priceDisplay:"$3,200/MT",oldPrice:"$3,650/MT",unitPrice:3200,soloUnitPrice:3650,unitLabel:"MT",minUnits:2,currency:"USD",progress:41,target:80,deadline:"2025-09-29",madeInUSA:!1,image:Xg},{id:"fabrics-woven",title:"Woven Upholstery Fabrics",subtitle:"MOQ 5,000 m • TH/CN lanes",category:"Fabrics",priceDisplay:"$3.20/m",oldPrice:"$3.80/m",unitPrice:3.2,soloUnitPrice:3.8,unitLabel:"m",minUnits:5e3,currency:"USD",progress:28,target:60,deadline:"2025-10-08",madeInUSA:!1,image:Xa},{id:"usa-cotton",title:"Premium Cotton Fabric (USA)",subtitle:"MOQ 3,000 m • Southeast lanes",category:"Fabrics",priceDisplay:"$4.10/m",oldPrice:"$4.70/m",unitPrice:4.1,soloUnitPrice:4.7,unitLabel:"m",minUnits:3e3,currency:"USD",progress:26,target:60,deadline:"2025-10-01",madeInUSA:!0,image:Xa},{id:"usa-steel",title:"Corrugated Steel Panels (USA)",subtitle:"MOQ 20,000 ft² • Midwest lanes",category:"Metals",priceDisplay:"$1.80/ft²",oldPrice:"$2.15/ft²",unitPrice:1.8,soloUnitPrice:2.15,unitLabel:"ft²",minUnits:2e4,currency:"USD",progress:18,target:50,deadline:"2025-10-20",madeInUSA:!0,image:jh}],J6=({children:t})=>c.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:t}),Z6=({active:t,onClick:e,children:n})=>c.jsx("button",{onClick:e,className:`whitespace-nowrap rounded-full border px-2.5 py-1 text-[11px] font-medium transition ${t?"bg-[--navy] text-white border-transparent":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"}`,style:{"--navy":pn.navy},children:n});function Bu(t){const e=+new Date(t)-Date.now();if(e<=0)return"Locked";const n=Math.floor(e/(1e3*60*60*24)),r=Math.floor(e/(1e3*60*60)%24);return n>0?`${n}d ${r}h left`:`${r}h left`}function e5({open:t,pool:e,onClose:n}){const[r,s]=ne.useState((e==null?void 0:e.minUnits)||1);if(ne.useEffect(()=>s((e==null?void 0:e.minUnits)||1),[e]),!t||!e)return null;const o=r*e.unitPrice*1.03,a=h=>h.toLocaleString("en-US",{style:"currency",currency:e.currency||"USD",maximumFractionDigits:0}),u=h=>{h.preventDefault(),console.log("JOIN →",{poolId:e.id,units:r,estimate:o}),alert("Thanks! Your pledge has been recorded (demo)."),n()};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm p-4 flex items-start justify-center overflow-y-auto",onClick:n,children:c.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-xl",onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Join: ",e.title]}),c.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600",children:c.jsx(Yn,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:u,className:"px-6 py-5 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium",children:[e.unitLabel," to pledge (min ",e.minUnits.toLocaleString(),")"]}),c.jsx("input",{type:"number",min:e.minUnits,value:r,onChange:h=>s(Math.max(e.minUnits,Number(h.target.value||0))),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2"})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[c.jsxs("p",{className:"text-sm text-slate-700",children:[e.unitLabel," price: ",c.jsx("b",{children:a(e.unitPrice)})," • Platform fee: ",c.jsx("b",{children:"3%"})]}),c.jsx("p",{className:"mt-1 text-2xl font-extrabold",children:a(o)}),c.jsx("p",{className:"text-xs text-slate-600",children:"Authorization now. Funds move to escrow when pool locks."})]}),c.jsx("button",{type:"submit",className:"w-full rounded-lg px-4 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:pn.navy},children:"Authorize & pledge"})]})]})})}function t5({open:t,pool:e,onClose:n,onJoinAfter:r}){const[s,i]=ne.useState(()=>Bu((e==null?void 0:e.deadline)||0));if(ne.useEffect(()=>{if(!t||!e)return;i(Bu(e.deadline));const a=setInterval(()=>i(Bu(e.deadline)),1e3*60);return()=>clearInterval(a)},[t,e]),!t||!e)return null;const o=Math.round(e.progress/e.target*100);return c.jsx("div",{className:"fixed inset-0 z-[90] bg-black/50 backdrop-blur-sm p-4 flex items-start justify-center overflow-y-auto",onClick:n,children:c.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-white shadow-xl",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:[e.title," — Details"]}),c.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600",children:c.jsx(Yn,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"px-6 py-5 grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-4",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-40 object-cover rounded-xl"}),c.jsx("p",{className:"text-slate-700",children:e.subtitle}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-1 bg-slate-50 border-slate-200 text-slate-700",children:[c.jsx(Bt,{className:"h-3.5 w-3.5"})," Escrow protected"]}),c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-1 bg-slate-50 border-slate-200 text-slate-700",children:[c.jsx(sn,{className:"h-3.5 w-3.5"})," Pooled freight"]}),c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-1 bg-slate-50 border-slate-200 text-slate-700",children:[c.jsx(Fa,{className:"h-3.5 w-3.5"})," Group savings"]})]}),c.jsx("h4",{className:"font-semibold text-slate-900",children:"Specs (sample)"}),c.jsxs("ul",{className:"text-sm text-slate-700 list-disc pl-5 space-y-1",children:[c.jsxs("li",{children:["Unit price (pooled): ",e.priceDisplay," (ex-works)"]}),c.jsxs("li",{children:["Minimum pledge: ",e.minUnits.toLocaleString()," ",e.unitLabel]}),c.jsx("li",{children:"Compliance support available (COA/MSDS)"}),c.jsx("li",{children:"Optional third-party QC"})]})]}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[c.jsx("p",{className:"text-xs text-slate-600",children:"Group progress"}),c.jsx("div",{className:"mt-1 h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full",style:{width:`${o}%`,backgroundColor:pn.gold}})}),c.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:[e.progress,"/",e.target," buyers joined"]}),c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-slate-700",children:[c.jsx(cl,{className:"h-4 w-4"}),c.jsxs("span",{children:["Locks in: ",c.jsx("b",{children:s})]})]}),c.jsx("button",{onClick:()=>{n(),r==null||r(e)},className:"mt-4 w-full rounded-lg px-4 py-2.5 font-medium text-white hover:opacity-90",style:{backgroundColor:pn.navy},children:"Join this pool"})]})})]})]})})}function n5(){const[t,e]=ne.useState(""),[n,r]=ne.useState("All"),[s,i]=ne.useState("ending"),[o,a]=ne.useState(!1),[u,h]=ne.useState(!1),[d,p]=ne.useState(!1),[m,y]=ne.useState(null),T=["All","Sugar","Coffee","Fabrics","Metals","Human Hair"],C=b=>{y(b),h(!0)},A=b=>{y(b),p(!0)},E=()=>h(!1),v=()=>p(!1),x=X6.filter(b=>{const V=t.trim().toLowerCase(),L=!V||b.title.toLowerCase().includes(V)||b.category.toLowerCase().includes(V)||b.subtitle.toLowerCase().includes(V),I=n==="All"||b.category===n,w=!o||b.madeInUSA;return L&&I&&w}).sort((b,V)=>{if(s==="ending")return+new Date(b.deadline)-+new Date(V.deadline);if(s==="savings"){const L=(b.soloUnitPrice-b.unitPrice)/b.soloUnitPrice;return(V.soloUnitPrice-V.unitPrice)/V.soloUnitPrice-L}return s==="popular"?V.progress/V.target-b.progress/b.target:0});return c.jsxs("div",{className:"min-h-screen",style:{backgroundColor:pn.bg},children:[c.jsxs("div",{className:"relative isolate bg-gradient-to-b from-[#0F1826] to-[#15233A] text-white",children:[c.jsx(ps,{inverted:!0}),"   ",c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10 pt-10",children:c.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-center",children:[c.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"lg:col-span-7",children:[c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs",children:[c.jsx(Bt,{className:"h-4 w-4"})," Escrow-backed pools"]}),c.jsxs("h1",{className:"mt-3 text-4xl sm:text-5xl/tight font-extrabold",children:["Join an open pool. ",c.jsx("span",{className:"text-white/80",children:"Buy like a factory."})]}),c.jsx("p",{className:"mt-3 text-white/90 max-w-2xl",children:"Hit MOQ together, unlock factory pricing, and split the freight. If a pool doesn’t hit MOQ, everyone is refunded — instantly."}),c.jsx("div",{className:"mt-5 grid grid-cols-3 gap-4 max-w-md",children:[{Icon:Fs,label:"Buyers pooled",value:"2,340+"},{Icon:Fa,label:"Avg. savings",value:"22%"},{Icon:sn,label:"Ship lanes",value:"US ↔ VN/TH/CN"}].map(({Icon:b,label:V,value:L})=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-full bg-white/10 border border-white/20 grid place-items-center",children:c.jsx(b,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wider",children:V}),c.jsx("p",{className:"text-white font-semibold",children:L})]})]},V))})]}),c.jsx(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"lg:col-span-5",children:c.jsxs("div",{className:"rounded-2xl border border-white/20 bg-white/10 backdrop-blur p-6",children:[c.jsx("p",{className:"text-white/80 text-sm",children:"How it works"}),c.jsxs("div",{className:"mt-2 space-y-2 text-sm text-white/90",children:[c.jsxs("p",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-4 w-4 mt-0.5"})," Join a live pool with a clear MOQ and deadline"]}),c.jsxs("p",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-4 w-4 mt-0.5"})," Authorize via escrow — cancel anytime before lock"]}),c.jsxs("p",{className:"flex items-start gap-2",children:[c.jsx(yn,{className:"h-4 w-4 mt-0.5"})," Production + optional QC, then pooled freight"]})]}),c.jsxs("a",{href:"/how-it-works",className:"mt-4 inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium text-navy-900",style:{backgroundColor:pn.gold},children:["See the process ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})]})})]})})]}),c.jsx("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-6",children:c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-sm",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"relative flex-[1_1_420px] min-w-[260px] max-w-[700px]",children:[c.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),c.jsx("input",{value:t,onChange:b=>e(b.target.value),placeholder:"Search pools (e.g., sugar, coffee, fabrics)",className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-3 py-3 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-3 flex-wrap",children:[c.jsxs("label",{className:"text-sm text-slate-700 hidden sm:inline-flex items-center gap-2",children:[c.jsx(Xj,{className:"h-4 w-4"})," Sort"]}),c.jsxs("select",{value:s,onChange:b=>i(b.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm",children:[c.jsx("option",{value:"ending",children:"Ending soon"}),c.jsx("option",{value:"popular",children:"Most popular"}),c.jsx("option",{value:"savings",children:"Best savings"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-800",children:[c.jsx("input",{type:"checkbox",checked:o,onChange:b=>a(b.target.checked)}),"Made in USA only"]})]})]}),c.jsx("div",{className:"flex items-center gap-2 overflow-x-auto sm:overflow-visible py-1",children:T.map(b=>c.jsx(Z6,{active:n===b,onClick:()=>r(b),children:b},b))})]})})}),c.jsxs("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx(J6,{children:"Open pools"}),c.jsx("p",{className:"text-slate-700",children:"Join a group already forming, or filter by category to find your lane."}),c.jsx("div",{className:"mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:x.map(b=>{const V=Math.round(b.progress/b.target*100),L=Math.max(0,Math.round((b.soloUnitPrice-b.unitPrice)/b.soloUnitPrice*100)),I=Bu(b.deadline);return c.jsxs(Ye.div,{initial:{opacity:0,y:14},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.35},className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[c.jsxs("div",{className:"aspect-[16/10] w-full overflow-hidden rounded-lg bg-slate-100 relative",children:[c.jsx("img",{src:b.image,alt:b.title,className:"h-full w-full object-cover"}),c.jsxs("div",{className:"absolute top-2 right-2 rounded-full bg-white/90 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-900",children:["Save ~",L,"%"]})]}),c.jsxs("div",{className:"mt-4 flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:b.title}),c.jsx("p",{className:"text-slate-600 text-sm",children:b.subtitle})]}),b.madeInUSA&&c.jsx("span",{className:"text-xs rounded-full border px-2 py-0.5 bg-red-50 border-red-200 text-red-800",children:"🇺🇸 USA"})]}),c.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[c.jsx("span",{className:"font-extrabold text-slate-900",children:b.priceDisplay}),c.jsx("span",{className:"text-slate-400 line-through text-xs",children:b.oldPrice})]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[c.jsx("span",{children:"Group progress"}),c.jsxs("span",{children:[b.progress,"/",b.target]})]}),c.jsx("div",{className:"h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full",style:{width:`${V}%`,backgroundColor:pn.gold}})}),c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-600",children:[c.jsx(cl,{className:"h-3.5 w-3.5"}),c.jsxs("span",{children:["Locks in ",I]})]})]}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px]",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-1 bg-slate-50 border-slate-200 text-slate-700",children:[c.jsx(Bt,{className:"h-3.5 w-3.5"})," Escrow"]}),c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-1 bg-slate-50 border-slate-200 text-slate-700",children:[c.jsx(sn,{className:"h-3.5 w-3.5"})," Pooled freight"]}),c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-1 bg-slate-50 border-slate-200 text-slate-700",children:[c.jsx(Fa,{className:"h-3.5 w-3.5"})," Group rate"]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>C(b),className:"rounded-lg px-3 py-2 font-medium text-white hover:opacity-90",style:{backgroundColor:pn.navy},children:"Join"}),c.jsx("button",{onClick:()=>A(b),className:"rounded-lg border px-3 py-2 text-slate-900 hover:bg-slate-50",style:{borderColor:pn.navy},children:"Details"})]}),c.jsxs("p",{className:"mt-3 text-xs text-slate-600",children:["Refund if MOQ isn’t met • ",b.minUnits.toLocaleString()," ",b.unitLabel," minimum"]})]},b.id)})}),c.jsxs("div",{className:"mt-10 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Bt,{className:"h-6 w-6 flex-shrink-0",style:{color:pn.navy}}),c.jsxs("p",{className:"text-slate-800",children:[c.jsx("span",{className:"font-semibold",children:"Escrow first. Production after lock."})," If a pool doesn’t hit MOQ, your funds are released instantly."]})]}),c.jsxs("a",{href:"/how-it-works",className:"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-white hover:opacity-90",style:{backgroundColor:pn.navy},children:["How pooling works ",c.jsx(gn,{className:"ml-2 h-4 w-4"})]})]})]}),c.jsx(ni,{}),c.jsx(e5,{open:u,pool:m,onClose:E}),c.jsx(t5,{open:d,pool:m,onClose:v,onJoinAfter:C})]})}const zw={navy:"#1B2A41",gold:"#F0A92D"};function r5(){return c.jsxs("div",{className:"min-h-screen flex flex-col bg-[#F7F5F2]",children:[c.jsxs("section",{className:"relative isolate bg-gradient-to-br from-[#0F1826] via-[#15233A] to-[#0F1826] text-white overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full z-50",children:c.jsx(ps,{inverted:!0})}),c.jsx("div",{className:"absolute inset-0 -z-10 opacity-20 bg-[radial-gradient(circle_at_top_left,white,transparent_60%)] animate-pulse"}),c.jsxs("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-32 pb-24 text-center",children:[c.jsxs(Ye.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl sm:text-6xl font-extrabold leading-tight",children:["More Buyers. ",c.jsx("span",{className:"text-[#F0A92D]",children:"Bigger Orders."})," ","Less Risk."]}),c.jsx(Ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-5 max-w-2xl mx-auto text-white/80 text-lg",children:"Join the platform where factories meet verified buyers, escrow-backed payments, and pooled freight. The fastest way to scale your exports."}),c.jsxs(Ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},className:"mt-8 flex flex-wrap justify-center gap-4",children:[c.jsxs("a",{href:"#apply",className:"px-8 py-3 rounded-xl font-medium text-navy-900 shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5",style:{backgroundColor:zw.gold},children:["Apply as a Supplier"," ",c.jsx(gn,{className:"inline-block ml-2 h-5 w-5"})]}),c.jsx("a",{href:"/supplier-login",className:"px-8 py-3 rounded-xl font-medium border border-white/50 text-white hover:bg-white hover:text-navy transition",children:"Supplier Login"})]})]})]}),c.jsxs("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-20",children:[c.jsx("h2",{className:"text-3xl font-extrabold text-center text-slate-900",children:"Why Partner With GroupMOQ?"}),c.jsx("div",{className:"mt-12 grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{Icon:Vi,title:"Pre-verified buyers",text:"We bring serious, purchase-ready buyers. No wasted time chasing small orders."},{Icon:Bt,title:"Escrow protection",text:"Funds are secured before production. You get paid once MOQ is met."},{Icon:Oa,title:"Bigger volumes",text:"Instead of 20 small POs, you get one consolidated order at MOQ or higher."},{Icon:sn,title:"Lower overhead",text:"We handle marketing, buyer aggregation, and pooled freight coordination."}].map(({Icon:t,title:e,text:n},r)=>c.jsxs(Ye.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:r*.15},className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-md hover:shadow-xl hover:-translate-y-1 transition",children:[c.jsx(t,{className:"h-10 w-10 mb-4 text-[#1B2A41]"}),c.jsx("h3",{className:"text-lg font-semibold",children:e}),c.jsx("p",{className:"mt-2 text-slate-700 text-sm",children:n})]},e))})]}),c.jsxs("section",{className:"bg-white border-t border-slate-200 py-20",children:[c.jsx("h2",{className:"text-3xl font-extrabold text-center text-slate-900",children:"How It Works for Suppliers"}),c.jsxs("div",{className:"mt-12 relative max-w-4xl mx-auto",children:[c.jsx("div",{className:"absolute left-1/2 top-0 h-full w-1 bg-[#F0A92D]/30 transform -translate-x-1/2"}),[{Icon:Yj,step:"Apply & Verify",text:"Submit docs (COA, MSDS, certifications). Reviewed within 48h."},{Icon:Oa,step:"List Products",text:"Add SKUs with MOQ, pricing, lead time, and shipping lanes."},{Icon:Fs,step:"Pool Opens",text:"Buyers pledge until MOQ is reached. You track progress in your portal."},{Icon:dh,step:"Funds Locked",text:"Escrow secures funds when pool closes. No production risk."},{Icon:sn,step:"Ship & Get Paid",text:"Produce, ship, and get paid once goods are verified."}].map(({Icon:t,step:e,text:n},r)=>c.jsxs(Ye.div,{initial:{opacity:0,x:r%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:r*.2},className:`relative mb-10 flex items-start gap-4 ${r%2===0?"flex-row-reverse text-right":""}`,children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-[#F0A92D] grid place-items-center text-navy-900 shadow-md",children:c.jsx(t,{className:"h-5 w-5"})}),c.jsxs("div",{className:"bg-[#F7F5F2] rounded-lg p-5 shadow-sm max-w-sm",children:[c.jsx("h3",{className:"font-semibold text-slate-900",children:e}),c.jsx("p",{className:"text-sm text-slate-700 mt-1",children:n})]})]},e))]})]}),c.jsx("section",{className:"bg-gradient-to-r from-[#1B2A41] to-[#15233A] py-20 text-white",children:c.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[c.jsx("h2",{className:"text-3xl font-extrabold",children:"Your Supplier Portal"}),c.jsx("p",{className:"mt-3 text-white/80 max-w-2xl mx-auto",children:"Track live pools, escrow-secured payments, and order progress in one clean dashboard."}),c.jsx(Ye.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mt-10 rounded-2xl bg-white/10 backdrop-blur-xl border border-white/20 p-6 shadow-xl",children:c.jsx("img",{src:"https://dummyimage.com/900x500/1B2A41/ffffff&text=Supplier+Portal+Preview",alt:"Supplier Dashboard Preview",className:"rounded-xl shadow-lg"})})]})}),c.jsxs("section",{id:"apply",className:"py-20 text-center bg-white border-t border-slate-200",children:[c.jsx(Ye.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-3xl font-extrabold text-slate-900",children:"Ready to Become a Supplier?"}),c.jsxs("p",{className:"mt-3 text-slate-700 max-w-xl mx-auto",children:["We’re onboarding a limited batch of suppliers this quarter.",c.jsx("b",{children:" Secure your spot today."})]}),c.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[c.jsx("a",{href:"/supplier-signup",className:"px-8 py-3 rounded-xl font-medium text-white hover:opacity-90 shadow-md hover:shadow-xl transition",style:{backgroundColor:zw.navy},children:"Apply Now"}),c.jsx("a",{href:"/supplier-login",className:"px-8 py-3 rounded-xl font-medium border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Supplier Login"})]})]}),c.jsx(ni,{})]})}function s5(){const t=gr();return ne.useEffect(()=>{t.hash?setTimeout(()=>{const e=t.hash.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})},100):window.scrollTo({top:0,behavior:"auto"})},[t.pathname,t.hash]),null}function i5(){return c.jsxs(IN,{children:[c.jsx(s5,{}),c.jsxs(nN,{children:[c.jsx(Hn,{path:"/",element:c.jsx(L6,{})}),c.jsx(Hn,{path:"/how-it-works",element:c.jsx(Y6,{})}),c.jsx(Hn,{path:"/pools",element:c.jsx(n5,{})}),c.jsx(Hn,{path:"/signin",element:c.jsx(N6,{})}),c.jsx(Hn,{path:"/signup",element:c.jsx(A6,{})}),"           ",c.jsx(Hn,{path:"/dashboard",element:c.jsx(j6,{})}),"         ",c.jsx(Hn,{path:"/profile-setup",element:c.jsx(R6,{})}),"  ",c.jsx(Hn,{path:"/suppliers",element:c.jsx(r5,{})})]})]})}rf.createRoot(document.getElementById("root")).render(c.jsxs(ne.StrictMode,{children:[c.jsx(i5,{}),"  // Changed to match export name"]}));
